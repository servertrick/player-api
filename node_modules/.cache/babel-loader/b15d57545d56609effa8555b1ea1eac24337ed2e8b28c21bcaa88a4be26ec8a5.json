{"ast":null,"code":"var _excluded = [\"color\", \"defaultValues\", \"direction\", \"invert\", \"label\", \"max\", \"messages\", \"min\", \"name\", \"onChange\", \"opacity\", \"round\", \"size\", \"step\", \"values\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { forwardRef, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { useLayoutEffect } from '../../utils/use-isomorphic-layout-effect';\nimport { Box } from '../Box';\nimport { EdgeControl } from './EdgeControl';\nimport { FormContext } from '../Form/FormContext';\nimport { Text } from '../Text';\nimport { parseMetricToNum } from '../../utils';\nimport { RangeSelectorPropTypes } from './propTypes';\nimport { DataFormContext } from '../../contexts/DataFormContext';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar Container = styled(Box).withConfig({\n  displayName: \"RangeSelector__Container\",\n  componentId: \"sc-siof5p-0\"\n})([\"user-select:none;\"]);\nexport var getDecimalCount = function getDecimalCount(number) {\n  if (Number.isInteger(number)) {\n    return 0;\n  }\n  // handle small numbers (0.00000001) which javascript\n  // will turn into `e-`\n  if (Math.abs(number) < 1) {\n    var parts = number.toExponential().split('e-');\n    var _decimalPart = parts[0].split('.')[1] || '';\n    return _decimalPart.length + parseInt(parts[1], 10);\n  }\n  var decimalPart = number.toString().split('.')[1] || '';\n  return decimalPart.length;\n};\n\n// avoid floating point issues like 0.15 + 0.3 = 0.44999999999999996\n// and turn into 0.15 + 0.3 = 0.45\nexport var valueToStepPrecision = function valueToStepPrecision(value, step, min) {\n  var nearestTrueStep = Math.round((value - min) / step) * step + min;\n  return Number(nearestTrueStep.toFixed(getDecimalCount(step)));\n};\n\n// ensure values are within min/max\nvar clamp = function clamp(value, min, max) {\n  return Math.min(Math.max(min, value), max);\n};\nvar RangeSelector = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n    _ref$defaultValues = _ref.defaultValues,\n    defaultValues = _ref$defaultValues === void 0 ? [] : _ref$defaultValues,\n    _ref$direction = _ref.direction,\n    direction = _ref$direction === void 0 ? 'horizontal' : _ref$direction,\n    invert = _ref.invert,\n    label = _ref.label,\n    _ref$max = _ref.max,\n    max = _ref$max === void 0 ? 100 : _ref$max,\n    messages = _ref.messages,\n    _ref$min = _ref.min,\n    min = _ref$min === void 0 ? 0 : _ref$min,\n    name = _ref.name,\n    onChange = _ref.onChange,\n    _ref$opacity = _ref.opacity,\n    opacity = _ref$opacity === void 0 ? 'medium' : _ref$opacity,\n    round = _ref.round,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 'medium' : _ref$size,\n    _ref$step = _ref.step,\n    step = _ref$step === void 0 ? 1 : _ref$step,\n    valuesProp = _ref.values,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme;\n  var formContext = useContext(FormContext);\n  var _useState = useState(),\n    changing = _useState[0],\n    setChanging = _useState[1];\n  var _useState2 = useState(),\n    lastChange = _useState2[0],\n    setLastChange = _useState2[1];\n  var _useState3 = useState(),\n    moveValue = _useState3[0],\n    setMoveValue = _useState3[1];\n  var containerRef = useRef();\n  var maxRef = useRef();\n  var minRef = useRef();\n  var labelWidthRef = useRef(0);\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valuesProp == null ? void 0 : valuesProp.map(function (n) {\n        return clamp(n, min, max);\n      }),\n      initialValue: defaultValues\n    }),\n    values = _formContext$useFormI[0],\n    setValues = _formContext$useFormI[1];\n\n  // for DataFilters to know when RangeSelector is set to its min/max\n  var _useContext = useContext(DataFormContext),\n    pendingReset = _useContext.pendingReset;\n  var updatePendingReset = useCallback(function (nextMin, nextMax) {\n    var _pendingReset$current;\n    if (nextMin === min && nextMax === max) {\n      pendingReset == null || pendingReset.current.add(name);\n    } else if (pendingReset != null && (_pendingReset$current = pendingReset.current) != null && _pendingReset$current.has(name)) {\n      pendingReset == null || pendingReset.current[\"delete\"](name);\n    }\n  }, [max, min, name, pendingReset]);\n  var change = useCallback(function (nextValues) {\n    var nextMin = nextValues[0],\n      nextMax = nextValues[1];\n    // only adjust value to step precision if it's not the min/max\n    if (nextMin !== min && nextMin !== max) nextMin = valueToStepPrecision(nextValues[0], step, min);\n    if (nextMax !== min && nextMax !== max) nextMax = valueToStepPrecision(nextValues[1], step, min);\n\n    // ensure values are within min/max\n    nextMin = clamp(nextMin, min, max);\n    nextMax = clamp(nextMax, min, max);\n\n    // make sure this is only called if both of the values\n    // are actually distinct from the previous values\n    if (nextMin !== values[0] || nextMax !== values[1]) {\n      updatePendingReset(nextMin, nextMax);\n      setValues([nextMin, nextMax]);\n      if (onChange) onChange([nextMin, nextMax]);\n    }\n  }, [onChange, setValues, step, max, min, values, updatePendingReset]);\n  var valueForMouseCoord = useCallback(function (event) {\n    var rect = containerRef.current.getBoundingClientRect();\n    var value;\n    if (direction === 'vertical') {\n      // there is no x and y in unit testing\n      var y = event.clientY - (rect.top || 0); // test resilience\n      var scaleY = rect.height / (max - min + 1) || 1; // test resilience\n      value = Math.floor(y / scaleY) + min;\n    } else {\n      var x = event.clientX - (rect.left || 0); // test resilience\n      var scaleX = rect.width / (max - min + 1) || 1; // test resilience\n      value = Math.floor(x / scaleX) + min;\n    }\n    // align with closest step within [min, max]\n    var result = Math.ceil(value / step) * step;\n    if (result < min) {\n      return min;\n    }\n    if (result > max) {\n      return max;\n    }\n    return result;\n  }, [direction, max, min, step]);\n  var onMouseMove = useCallback(function (event) {\n    var value = valueForMouseCoord(event);\n    var nextValues;\n    if (changing === 'lower' && value <= values[1] && value !== moveValue) {\n      nextValues = [value, values[1]];\n    } else if (changing === 'upper' && value >= values[0] && value !== moveValue) {\n      nextValues = [values[0], value];\n    } else if (changing === 'selection' && value !== moveValue) {\n      if (value === max) {\n        nextValues = [max - (values[1] - values[0]), max];\n      } else if (value === min) {\n        nextValues = [min, min + (values[1] - values[0])];\n      } else {\n        var delta = value - moveValue;\n        if (values[0] + delta >= min && values[1] + delta <= max) {\n          nextValues = [values[0] + delta, values[1] + delta];\n        }\n      }\n    }\n    if (nextValues) {\n      setMoveValue(value);\n      change(nextValues);\n    }\n  }, [values, change, changing, moveValue, max, min, setMoveValue, valueForMouseCoord]);\n  useEffect(function () {\n    var onMouseUp = function onMouseUp() {\n      return setChanging(undefined);\n    };\n    if (changing) {\n      window.addEventListener('mousemove', onMouseMove);\n      window.addEventListener('mouseup', onMouseUp);\n      return function () {\n        window.removeEventListener('mousemove', onMouseMove);\n        window.removeEventListener('mouseup', onMouseUp);\n      };\n    }\n    return undefined;\n  }, [changing, onMouseMove]);\n  var onClick = useCallback(function (event) {\n    var value = valueForMouseCoord(event);\n    if (value <= values[0] || value < values[1] && lastChange === 'lower') {\n      setLastChange('lower');\n      change([value, values[1]]);\n    } else if (value >= values[1] || value > values[0] && lastChange === 'upper') {\n      setLastChange('upper');\n      change([values[0], value]);\n    }\n  }, [change, lastChange, valueForMouseCoord, values]);\n  var onTouchMove = useCallback(function (event) {\n    var touchEvent = event.changedTouches[0];\n    onMouseMove(touchEvent);\n  }, [onMouseMove]);\n\n  // keep the text values size consistent\n  useLayoutEffect(function () {\n    if (maxRef.current && minRef.current) {\n      maxRef.current.style.width = '';\n      minRef.current.style.width = '';\n      var width = Math.max(labelWidthRef.current, maxRef.current.getBoundingClientRect().width, minRef.current.getBoundingClientRect().width);\n      maxRef.current.style.width = width + \"px\";\n      minRef.current.style.width = width + \"px\";\n      labelWidthRef.current = width;\n    }\n  });\n  var lower = values[0],\n    upper = values[1];\n  // It needs to be true when vertical, due to how browsers manage height\n  // const fill = direction === 'vertical' ? true : 'horizontal';\n  var thickness = size === 'full' ? undefined : parseMetricToNum(theme.global.edgeSize[size] || size) + \"px\";\n  var layoutProps = {\n    fill: direction,\n    round: round\n  };\n  if (direction === 'vertical') layoutProps.width = thickness;else layoutProps.height = thickness;\n  if (size === 'full') layoutProps.alignSelf = 'stretch';\n  var content = /*#__PURE__*/React.createElement(Container, _extends({\n    ref: containerRef,\n    direction: direction === 'vertical' ? 'column' : 'row',\n    align: \"center\",\n    fill: true\n  }, label ? {} : rest, {\n    tabIndex: \"-1\",\n    onClick: onClick,\n    onTouchMove: onTouchMove\n  }), /*#__PURE__*/React.createElement(Box, _extends({\n    style: {\n      flex: lower - min + \" 0 0\"\n    },\n    background: invert ?\n    // preserve existing dark, instead of using darknes\n    // of this color\n    {\n      color: color || theme.rangeSelector.background.invert.color,\n      opacity: opacity,\n      dark: theme.dark\n    } : undefined\n  }, layoutProps)), /*#__PURE__*/React.createElement(EdgeControl, {\n    ref: ref,\n    color: color,\n    direction: direction,\n    thickness: thickness,\n    edge: \"lower\",\n    min: min,\n    max: max,\n    messages: messages,\n    value: lower,\n    step: step,\n    onMouseDown: function onMouseDown() {\n      return setChanging('lower');\n    },\n    onTouchStart: function onTouchStart() {\n      return setChanging('lower');\n    },\n    onDecrease: function onDecrease() {\n      return change([lower - step, upper]);\n    },\n    onIncrease: lower + step <= upper ? function () {\n      return change([lower + step, upper]);\n    } : function () {\n      return change([upper, upper]);\n    }\n  }), /*#__PURE__*/React.createElement(Box, _extends({\n    style: {\n      flex: upper - lower + 1 + \" 0 0\",\n      cursor: direction === 'vertical' ? 'ns-resize' : 'ew-resize'\n    },\n    background: invert ? undefined :\n    // preserve existing dark, instead of using darknes of\n    // this color\n    {\n      color: color || 'control',\n      opacity: opacity,\n      dark: theme.dark\n    }\n  }, layoutProps, {\n    onMouseDown: function onMouseDown(event) {\n      var nextMoveValue = valueForMouseCoord(event);\n      setChanging('selection');\n      setMoveValue(nextMoveValue);\n    }\n  })), /*#__PURE__*/React.createElement(EdgeControl, {\n    color: color,\n    direction: direction,\n    thickness: thickness,\n    edge: \"upper\",\n    min: min,\n    max: max,\n    value: upper,\n    step: step,\n    onMouseDown: function onMouseDown() {\n      return setChanging('upper');\n    },\n    onTouchStart: function onTouchStart() {\n      return setChanging('upper');\n    },\n    onDecrease: upper - step >= lower ? function () {\n      return change([lower, upper - step]);\n    } : function () {\n      return change([lower, lower]);\n    },\n    onIncrease: function onIncrease() {\n      return change([lower, upper + step]);\n    }\n  }), /*#__PURE__*/React.createElement(Box, _extends({\n    style: {\n      flex: max - upper + \" 0 0\"\n    },\n    background: invert ?\n    // preserve existing dark, instead of using darknes of this\n    // color\n    {\n      color: color || theme.rangeSelector.background.invert.color,\n      opacity: opacity,\n      dark: theme.dark\n    } : undefined\n  }, layoutProps, {\n    round: round\n  })));\n  if (label) {\n    content = /*#__PURE__*/React.createElement(Box, _extends({\n      direction: direction === 'vertical' ? 'column' : 'row',\n      align: \"center\",\n      fill: true\n    }, rest), /*#__PURE__*/React.createElement(Text, {\n      ref: minRef,\n      textAlign: \"end\",\n      size: \"small\",\n      margin: theme.rangeSelector.label.margin\n    }, typeof label === 'function' ? label(lower) : lower), content, /*#__PURE__*/React.createElement(Text, {\n      ref: maxRef,\n      size: \"small\",\n      margin: theme.rangeSelector.label.margin\n    }, typeof label === 'function' ? label(upper) : upper));\n  }\n  return content;\n});\nRangeSelector.displayName = 'RangeSelector';\nRangeSelector.propTypes = RangeSelectorPropTypes;\nexport { RangeSelector };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","forwardRef","useCallback","useContext","useEffect","useRef","useState","styled","useLayoutEffect","Box","EdgeControl","FormContext","Text","parseMetricToNum","RangeSelectorPropTypes","DataFormContext","useThemeValue","Container","withConfig","displayName","componentId","getDecimalCount","number","Number","isInteger","Math","abs","parts","toExponential","split","_decimalPart","parseInt","decimalPart","toString","valueToStepPrecision","value","step","min","nearestTrueStep","round","toFixed","clamp","max","RangeSelector","_ref","ref","color","_ref$defaultValues","defaultValues","_ref$direction","direction","invert","label","_ref$max","messages","_ref$min","name","onChange","_ref$opacity","opacity","_ref$size","size","_ref$step","valuesProp","values","rest","_useThemeValue","theme","formContext","_useState","changing","setChanging","_useState2","lastChange","setLastChange","_useState3","moveValue","setMoveValue","containerRef","maxRef","minRef","labelWidthRef","_formContext$useFormI","useFormInput","map","initialValue","setValues","_useContext","pendingReset","updatePendingReset","nextMin","nextMax","_pendingReset$current","current","add","has","change","nextValues","valueForMouseCoord","event","rect","getBoundingClientRect","y","clientY","top","scaleY","height","floor","x","clientX","left","scaleX","width","result","ceil","onMouseMove","delta","onMouseUp","undefined","window","addEventListener","removeEventListener","onClick","onTouchMove","touchEvent","changedTouches","style","lower","upper","thickness","global","edgeSize","layoutProps","fill","alignSelf","content","createElement","align","tabIndex","flex","background","rangeSelector","dark","edge","onMouseDown","onTouchStart","onDecrease","onIncrease","cursor","nextMoveValue","textAlign","margin","propTypes"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/RangeSelector/RangeSelector.js"],"sourcesContent":["var _excluded = [\"color\", \"defaultValues\", \"direction\", \"invert\", \"label\", \"max\", \"messages\", \"min\", \"name\", \"onChange\", \"opacity\", \"round\", \"size\", \"step\", \"values\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React, { forwardRef, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { useLayoutEffect } from '../../utils/use-isomorphic-layout-effect';\nimport { Box } from '../Box';\nimport { EdgeControl } from './EdgeControl';\nimport { FormContext } from '../Form/FormContext';\nimport { Text } from '../Text';\nimport { parseMetricToNum } from '../../utils';\nimport { RangeSelectorPropTypes } from './propTypes';\nimport { DataFormContext } from '../../contexts/DataFormContext';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar Container = styled(Box).withConfig({\n  displayName: \"RangeSelector__Container\",\n  componentId: \"sc-siof5p-0\"\n})([\"user-select:none;\"]);\nexport var getDecimalCount = function getDecimalCount(number) {\n  if (Number.isInteger(number)) {\n    return 0;\n  }\n  // handle small numbers (0.00000001) which javascript\n  // will turn into `e-`\n  if (Math.abs(number) < 1) {\n    var parts = number.toExponential().split('e-');\n    var _decimalPart = parts[0].split('.')[1] || '';\n    return _decimalPart.length + parseInt(parts[1], 10);\n  }\n  var decimalPart = number.toString().split('.')[1] || '';\n  return decimalPart.length;\n};\n\n// avoid floating point issues like 0.15 + 0.3 = 0.44999999999999996\n// and turn into 0.15 + 0.3 = 0.45\nexport var valueToStepPrecision = function valueToStepPrecision(value, step, min) {\n  var nearestTrueStep = Math.round((value - min) / step) * step + min;\n  return Number(nearestTrueStep.toFixed(getDecimalCount(step)));\n};\n\n// ensure values are within min/max\nvar clamp = function clamp(value, min, max) {\n  return Math.min(Math.max(min, value), max);\n};\nvar RangeSelector = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n    _ref$defaultValues = _ref.defaultValues,\n    defaultValues = _ref$defaultValues === void 0 ? [] : _ref$defaultValues,\n    _ref$direction = _ref.direction,\n    direction = _ref$direction === void 0 ? 'horizontal' : _ref$direction,\n    invert = _ref.invert,\n    label = _ref.label,\n    _ref$max = _ref.max,\n    max = _ref$max === void 0 ? 100 : _ref$max,\n    messages = _ref.messages,\n    _ref$min = _ref.min,\n    min = _ref$min === void 0 ? 0 : _ref$min,\n    name = _ref.name,\n    onChange = _ref.onChange,\n    _ref$opacity = _ref.opacity,\n    opacity = _ref$opacity === void 0 ? 'medium' : _ref$opacity,\n    round = _ref.round,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 'medium' : _ref$size,\n    _ref$step = _ref.step,\n    step = _ref$step === void 0 ? 1 : _ref$step,\n    valuesProp = _ref.values,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme;\n  var formContext = useContext(FormContext);\n  var _useState = useState(),\n    changing = _useState[0],\n    setChanging = _useState[1];\n  var _useState2 = useState(),\n    lastChange = _useState2[0],\n    setLastChange = _useState2[1];\n  var _useState3 = useState(),\n    moveValue = _useState3[0],\n    setMoveValue = _useState3[1];\n  var containerRef = useRef();\n  var maxRef = useRef();\n  var minRef = useRef();\n  var labelWidthRef = useRef(0);\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valuesProp == null ? void 0 : valuesProp.map(function (n) {\n        return clamp(n, min, max);\n      }),\n      initialValue: defaultValues\n    }),\n    values = _formContext$useFormI[0],\n    setValues = _formContext$useFormI[1];\n\n  // for DataFilters to know when RangeSelector is set to its min/max\n  var _useContext = useContext(DataFormContext),\n    pendingReset = _useContext.pendingReset;\n  var updatePendingReset = useCallback(function (nextMin, nextMax) {\n    var _pendingReset$current;\n    if (nextMin === min && nextMax === max) {\n      pendingReset == null || pendingReset.current.add(name);\n    } else if (pendingReset != null && (_pendingReset$current = pendingReset.current) != null && _pendingReset$current.has(name)) {\n      pendingReset == null || pendingReset.current[\"delete\"](name);\n    }\n  }, [max, min, name, pendingReset]);\n  var change = useCallback(function (nextValues) {\n    var nextMin = nextValues[0],\n      nextMax = nextValues[1];\n    // only adjust value to step precision if it's not the min/max\n    if (nextMin !== min && nextMin !== max) nextMin = valueToStepPrecision(nextValues[0], step, min);\n    if (nextMax !== min && nextMax !== max) nextMax = valueToStepPrecision(nextValues[1], step, min);\n\n    // ensure values are within min/max\n    nextMin = clamp(nextMin, min, max);\n    nextMax = clamp(nextMax, min, max);\n\n    // make sure this is only called if both of the values\n    // are actually distinct from the previous values\n    if (nextMin !== values[0] || nextMax !== values[1]) {\n      updatePendingReset(nextMin, nextMax);\n      setValues([nextMin, nextMax]);\n      if (onChange) onChange([nextMin, nextMax]);\n    }\n  }, [onChange, setValues, step, max, min, values, updatePendingReset]);\n  var valueForMouseCoord = useCallback(function (event) {\n    var rect = containerRef.current.getBoundingClientRect();\n    var value;\n    if (direction === 'vertical') {\n      // there is no x and y in unit testing\n      var y = event.clientY - (rect.top || 0); // test resilience\n      var scaleY = rect.height / (max - min + 1) || 1; // test resilience\n      value = Math.floor(y / scaleY) + min;\n    } else {\n      var x = event.clientX - (rect.left || 0); // test resilience\n      var scaleX = rect.width / (max - min + 1) || 1; // test resilience\n      value = Math.floor(x / scaleX) + min;\n    }\n    // align with closest step within [min, max]\n    var result = Math.ceil(value / step) * step;\n    if (result < min) {\n      return min;\n    }\n    if (result > max) {\n      return max;\n    }\n    return result;\n  }, [direction, max, min, step]);\n  var onMouseMove = useCallback(function (event) {\n    var value = valueForMouseCoord(event);\n    var nextValues;\n    if (changing === 'lower' && value <= values[1] && value !== moveValue) {\n      nextValues = [value, values[1]];\n    } else if (changing === 'upper' && value >= values[0] && value !== moveValue) {\n      nextValues = [values[0], value];\n    } else if (changing === 'selection' && value !== moveValue) {\n      if (value === max) {\n        nextValues = [max - (values[1] - values[0]), max];\n      } else if (value === min) {\n        nextValues = [min, min + (values[1] - values[0])];\n      } else {\n        var delta = value - moveValue;\n        if (values[0] + delta >= min && values[1] + delta <= max) {\n          nextValues = [values[0] + delta, values[1] + delta];\n        }\n      }\n    }\n    if (nextValues) {\n      setMoveValue(value);\n      change(nextValues);\n    }\n  }, [values, change, changing, moveValue, max, min, setMoveValue, valueForMouseCoord]);\n  useEffect(function () {\n    var onMouseUp = function onMouseUp() {\n      return setChanging(undefined);\n    };\n    if (changing) {\n      window.addEventListener('mousemove', onMouseMove);\n      window.addEventListener('mouseup', onMouseUp);\n      return function () {\n        window.removeEventListener('mousemove', onMouseMove);\n        window.removeEventListener('mouseup', onMouseUp);\n      };\n    }\n    return undefined;\n  }, [changing, onMouseMove]);\n  var onClick = useCallback(function (event) {\n    var value = valueForMouseCoord(event);\n    if (value <= values[0] || value < values[1] && lastChange === 'lower') {\n      setLastChange('lower');\n      change([value, values[1]]);\n    } else if (value >= values[1] || value > values[0] && lastChange === 'upper') {\n      setLastChange('upper');\n      change([values[0], value]);\n    }\n  }, [change, lastChange, valueForMouseCoord, values]);\n  var onTouchMove = useCallback(function (event) {\n    var touchEvent = event.changedTouches[0];\n    onMouseMove(touchEvent);\n  }, [onMouseMove]);\n\n  // keep the text values size consistent\n  useLayoutEffect(function () {\n    if (maxRef.current && minRef.current) {\n      maxRef.current.style.width = '';\n      minRef.current.style.width = '';\n      var width = Math.max(labelWidthRef.current, maxRef.current.getBoundingClientRect().width, minRef.current.getBoundingClientRect().width);\n      maxRef.current.style.width = width + \"px\";\n      minRef.current.style.width = width + \"px\";\n      labelWidthRef.current = width;\n    }\n  });\n  var lower = values[0],\n    upper = values[1];\n  // It needs to be true when vertical, due to how browsers manage height\n  // const fill = direction === 'vertical' ? true : 'horizontal';\n  var thickness = size === 'full' ? undefined : parseMetricToNum(theme.global.edgeSize[size] || size) + \"px\";\n  var layoutProps = {\n    fill: direction,\n    round: round\n  };\n  if (direction === 'vertical') layoutProps.width = thickness;else layoutProps.height = thickness;\n  if (size === 'full') layoutProps.alignSelf = 'stretch';\n  var content = /*#__PURE__*/React.createElement(Container, _extends({\n    ref: containerRef,\n    direction: direction === 'vertical' ? 'column' : 'row',\n    align: \"center\",\n    fill: true\n  }, label ? {} : rest, {\n    tabIndex: \"-1\",\n    onClick: onClick,\n    onTouchMove: onTouchMove\n  }), /*#__PURE__*/React.createElement(Box, _extends({\n    style: {\n      flex: lower - min + \" 0 0\"\n    },\n    background: invert ?\n    // preserve existing dark, instead of using darknes\n    // of this color\n    {\n      color: color || theme.rangeSelector.background.invert.color,\n      opacity: opacity,\n      dark: theme.dark\n    } : undefined\n  }, layoutProps)), /*#__PURE__*/React.createElement(EdgeControl, {\n    ref: ref,\n    color: color,\n    direction: direction,\n    thickness: thickness,\n    edge: \"lower\",\n    min: min,\n    max: max,\n    messages: messages,\n    value: lower,\n    step: step,\n    onMouseDown: function onMouseDown() {\n      return setChanging('lower');\n    },\n    onTouchStart: function onTouchStart() {\n      return setChanging('lower');\n    },\n    onDecrease: function onDecrease() {\n      return change([lower - step, upper]);\n    },\n    onIncrease: lower + step <= upper ? function () {\n      return change([lower + step, upper]);\n    } : function () {\n      return change([upper, upper]);\n    }\n  }), /*#__PURE__*/React.createElement(Box, _extends({\n    style: {\n      flex: upper - lower + 1 + \" 0 0\",\n      cursor: direction === 'vertical' ? 'ns-resize' : 'ew-resize'\n    },\n    background: invert ? undefined :\n    // preserve existing dark, instead of using darknes of\n    // this color\n    {\n      color: color || 'control',\n      opacity: opacity,\n      dark: theme.dark\n    }\n  }, layoutProps, {\n    onMouseDown: function onMouseDown(event) {\n      var nextMoveValue = valueForMouseCoord(event);\n      setChanging('selection');\n      setMoveValue(nextMoveValue);\n    }\n  })), /*#__PURE__*/React.createElement(EdgeControl, {\n    color: color,\n    direction: direction,\n    thickness: thickness,\n    edge: \"upper\",\n    min: min,\n    max: max,\n    value: upper,\n    step: step,\n    onMouseDown: function onMouseDown() {\n      return setChanging('upper');\n    },\n    onTouchStart: function onTouchStart() {\n      return setChanging('upper');\n    },\n    onDecrease: upper - step >= lower ? function () {\n      return change([lower, upper - step]);\n    } : function () {\n      return change([lower, lower]);\n    },\n    onIncrease: function onIncrease() {\n      return change([lower, upper + step]);\n    }\n  }), /*#__PURE__*/React.createElement(Box, _extends({\n    style: {\n      flex: max - upper + \" 0 0\"\n    },\n    background: invert ?\n    // preserve existing dark, instead of using darknes of this\n    // color\n    {\n      color: color || theme.rangeSelector.background.invert.color,\n      opacity: opacity,\n      dark: theme.dark\n    } : undefined\n  }, layoutProps, {\n    round: round\n  })));\n  if (label) {\n    content = /*#__PURE__*/React.createElement(Box, _extends({\n      direction: direction === 'vertical' ? 'column' : 'row',\n      align: \"center\",\n      fill: true\n    }, rest), /*#__PURE__*/React.createElement(Text, {\n      ref: minRef,\n      textAlign: \"end\",\n      size: \"small\",\n      margin: theme.rangeSelector.label.margin\n    }, typeof label === 'function' ? label(lower) : lower), content, /*#__PURE__*/React.createElement(Text, {\n      ref: maxRef,\n      size: \"small\",\n      margin: theme.rangeSelector.label.margin\n    }, typeof label === 'function' ? label(upper) : upper));\n  }\n  return content;\n});\nRangeSelector.displayName = 'RangeSelector';\nRangeSelector.propTypes = RangeSelectorPropTypes;\nexport { RangeSelector };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}