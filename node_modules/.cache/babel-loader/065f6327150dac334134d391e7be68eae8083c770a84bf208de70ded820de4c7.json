{"ast":null,"code":"var _excluded = [\"buttonProps\", \"calendarProps\", \"defaultValue\", \"disabled\", \"dropProps\", \"format\", \"id\", \"icon\", \"inline\", \"inputProps\", \"name\", \"onChange\", \"onFocus\", \"plain\", \"readOnly\", \"readOnlyCopy\", \"reverse\", \"value\", \"messages\"],\n  _excluded2 = [\"icon\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { useRef, forwardRef, useContext, useEffect, useMemo, useState, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { Calendar as GrommetCalendarIcon } from 'grommet-icons/icons/Calendar';\nimport { AnnounceContext } from '../../contexts/AnnounceContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Calendar } from '../Calendar';\nimport { Drop } from '../Drop';\nimport { DropButton } from '../DropButton';\nimport { FormContext } from '../Form';\nimport { Keyboard } from '../Keyboard';\nimport { MaskedInput } from '../MaskedInput';\nimport { useForwardedRef, setHoursWithOffset, disabledStyle, useKeyboard } from '../../utils';\nimport { readOnlyStyle } from '../../utils/readOnly';\nimport { formatToSchema, schemaToMask, valuesAreEqual, valueToText, textToValue, validateBounds } from './utils';\nimport { DateInputPropTypes } from './propTypes';\nimport { getOutputFormat } from '../Calendar/Calendar';\nimport { CopyButton } from '../TextInput/CopyButton';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar StyledDateInputContainer = styled(Box).withConfig({\n  // to not pass props on dom through Box\n  shouldForwardProp: function shouldForwardProp(prop) {\n    return prop !== 'disabled';\n  }\n}).withConfig({\n  displayName: \"DateInput__StyledDateInputContainer\",\n  componentId: \"sc-1jfta23-0\"\n})([\"\", \" \", \"}\"], function (props) {\n  return props.disabled && disabledStyle();\n}, function (props) {\n  return props.readOnlyProp && readOnlyStyle(props.theme);\n});\nvar getReference = function getReference(value) {\n  var adjustedDate;\n  var res;\n  if (typeof value === 'string') res = value;else if (Array.isArray(value) && Array.isArray(value[0])) res = value[0].find(function (date) {\n    return date;\n  });else if (Array.isArray(value) && value.length) {\n    res = value[0];\n  }\n  if (res) {\n    adjustedDate = setHoursWithOffset(res);\n  }\n  return adjustedDate;\n};\nvar DateInput = /*#__PURE__*/forwardRef(function (_ref, refArg) {\n  var _theme$icon, _theme$dateInput$icon, _theme$dateInput$icon2, _theme$dateInput$butt, _theme$dateInput$butt2;\n  var buttonProps = _ref.buttonProps,\n    calendarProps = _ref.calendarProps,\n    defaultValue = _ref.defaultValue,\n    disabled = _ref.disabled,\n    dropProps = _ref.dropProps,\n    format = _ref.format,\n    id = _ref.id,\n    icon = _ref.icon,\n    _ref$inline = _ref.inline,\n    inline = _ref$inline === void 0 ? false : _ref$inline,\n    inputProps = _ref.inputProps,\n    name = _ref.name,\n    _onChange = _ref.onChange,\n    _onFocus = _ref.onFocus,\n    plain = _ref.plain,\n    readOnlyProp = _ref.readOnly,\n    readOnlyCopy = _ref.readOnlyCopy,\n    _ref$reverse = _ref.reverse,\n    reverseProp = _ref$reverse === void 0 ? false : _ref$reverse,\n    valueArg = _ref.value,\n    messages = _ref.messages,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme,\n    passThemeFlag = _useThemeValue.passThemeFlag;\n  var announce = useContext(AnnounceContext);\n  var _useContext = useContext(MessageContext),\n    formatMessage = _useContext.format;\n  var iconSize = ((_theme$icon = theme.icon) == null ? void 0 : _theme$icon.matchSize) && rest.size || ((_theme$dateInput$icon = theme.dateInput.icon) == null ? void 0 : _theme$dateInput$icon.size);\n  var _useContext2 = useContext(FormContext),\n    useFormInput = _useContext2.useFormInput;\n  var ref = useForwardedRef(refArg);\n  var containerRef = useRef();\n  var readOnly = readOnlyProp || readOnlyCopy;\n  var _useFormInput = useFormInput({\n      name: name,\n      value: valueArg,\n      initialValue: defaultValue\n    }),\n    value = _useFormInput[0],\n    setValue = _useFormInput[1];\n  var usingKeyboard = useKeyboard();\n  var CalendarIcon = ((_theme$dateInput$icon2 = theme.dateInput.icon) == null ? void 0 : _theme$dateInput$icon2.calendar) || GrommetCalendarIcon;\n  var _useState = useState(getOutputFormat(value)),\n    outputFormat = _useState[0],\n    setOutputFormat = _useState[1];\n  useEffect(function () {\n    setOutputFormat(function (previousFormat) {\n      var nextFormat = getOutputFormat(value);\n      // when user types, date could become something like 07//2020\n      // and value becomes undefined. don't lose the format from the\n      // previous valid date\n      return previousFormat !== nextFormat ? previousFormat : nextFormat;\n    });\n  }, [value]);\n\n  // keep track of timestamp from original date(s)\n  var _useState2 = useState(getReference(value)),\n    reference = _useState2[0],\n    setReference = _useState2[1];\n\n  // do we expect multiple dates?\n  var range = Array.isArray(value) || format && format.includes('-');\n\n  // parse format and build a formal schema we can use elsewhere\n  var schema = useMemo(function () {\n    return formatToSchema(format);\n  }, [format]);\n\n  // mask is only used when a format is provided\n  var mask = useMemo(function () {\n    return schemaToMask(schema);\n  }, [schema]);\n\n  // textValue is only used when a format is provided\n  var _useState3 = useState(schema ? valueToText(value, schema) : undefined),\n    textValue = _useState3[0],\n    setTextValue = _useState3[1];\n  var readOnlyCopyValidation = formatMessage({\n    id: 'input.readOnlyCopy.validation',\n    messages: messages\n  });\n  var readOnlyCopyPrompt = formatMessage({\n    id: 'input.readOnlyCopy.prompt',\n    messages: messages\n  });\n  var _useState4 = useState(readOnlyCopyPrompt),\n    tip = _useState4[0],\n    setTip = _useState4[1];\n\n  // Setting the icon through `inputProps` is deprecated.\n  // The `icon` prop should be used instead.\n  var _ref2 = inputProps || {},\n    MaskedInputIcon = _ref2.icon,\n    restOfInputProps = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n  if (MaskedInputIcon) {\n    console.warn(\"Customizing the DateInput icon through inputProps is deprecated.\\nUse the icon prop instead.\");\n  }\n  var reverse = reverseProp || restOfInputProps.reverse;\n  var calendarDropdownAlign = {\n    top: 'bottom',\n    left: 'left'\n  };\n\n  // We need to distinguish between the caller changing a Form value\n  // and the user typing a date that he isn't finished with yet.\n  // To handle this, we see if we have a value and the text value\n  // associated with it doesn't align to it, then we update the text value.\n  // We compare using textToValue to avoid \"06/01/2021\" not\n  // matching \"06/1/2021\".\n  useEffect(function () {\n    if (schema && value !== undefined) {\n      var nextTextValue = valueToText(value, schema);\n      if (!valuesAreEqual(textToValue(textValue, schema, range, reference), textToValue(nextTextValue, schema, range, reference)) || textValue === '' && nextTextValue !== '') {\n        setTextValue(nextTextValue);\n      }\n    }\n  }, [range, schema, textValue, reference, value]);\n\n  // textValue of MaskedInput is controlled.\n  // for uncontrolled forms, ensure the reset event\n  // resets the textValue\n  useEffect(function () {\n    var _ref$current;\n    var form = ref == null || (_ref$current = ref.current) == null ? void 0 : _ref$current.form;\n    var handleFormReset = function handleFormReset(e) {\n      if (schema && ref.current && e.target.contains(ref.current)) {\n        setTextValue('');\n      }\n    };\n    // place the listener on the form directly. if listener is on window,\n    // the event could get blocked if caller has e.stopPropagation(), etc. in\n    // their form onReset\n    form == null || form.addEventListener('reset', handleFormReset);\n    return function () {\n      return form == null ? void 0 : form.removeEventListener('reset', handleFormReset);\n    };\n  }, [schema, ref]);\n\n  // when format and not inline, whether to show the Calendar in a Drop\n  var _useState5 = useState(),\n    open = _useState5[0],\n    setOpen = _useState5[1];\n  var openCalendar = useCallback(function () {\n    setOpen(true);\n    announce(formatMessage({\n      id: 'dateInput.enterCalendar',\n      messages: messages\n    }));\n  }, [announce, formatMessage, messages]);\n  var closeCalendar = useCallback(function () {\n    if (usingKeyboard && !inline && ref != null && ref.current) {\n      setTimeout(function () {\n        var _ref$current2;\n        ref == null || (_ref$current2 = ref.current) == null || _ref$current2.focus();\n      }, 0);\n    }\n    setOpen(false);\n    announce(formatMessage({\n      id: 'dateInput.exitCalendar',\n      messages: messages\n    }));\n  }, [announce, formatMessage, messages, usingKeyboard, ref, inline]);\n  var dates = useMemo(function () {\n    return range && value != null && value.length ? [value] : undefined;\n  }, [range, value]);\n  var calendar = /*#__PURE__*/React.createElement(Calendar, _extends({\n    ref: inline ? ref : undefined,\n    id: inline && !format ? id : undefined,\n    range: range,\n    date: range ? undefined : value\n    // when caller initializes with empty array, dates should be undefined\n    // allowing the user to select both begin and end of the range\n    ,\n\n    dates: dates\n    // places focus on days grid when Calendar opens\n    ,\n\n    initialFocus: open ? 'days' : undefined,\n    onSelect: disabled ? undefined : function (nextValue) {\n      var normalizedValue;\n      if (range && Array.isArray(nextValue)) {\n        normalizedValue = nextValue[0];\n      } // clicking an edge date removes it\n      else if (range && nextValue) normalizedValue = [nextValue, nextValue];else normalizedValue = nextValue;\n      if (schema) setTextValue(valueToText(normalizedValue, schema));\n      setValue(normalizedValue);\n      setReference(getReference(nextValue));\n      if (_onChange) _onChange({\n        value: normalizedValue\n      });\n      if (open && !range) {\n        closeCalendar();\n      }\n    }\n  }, calendarProps));\n  var formContextValue = useMemo(function () {\n    return {\n      useFormInput: function useFormInput(_ref3) {\n        var valueProp = _ref3.value;\n        return [valueProp, function () {}];\n      }\n    };\n  }, []);\n  if (!format) {\n    // When no format is specified, we don't give the user a way to type\n    if (inline) return calendar;\n    return /*#__PURE__*/React.createElement(DropButton, _extends({\n      ref: ref,\n      id: id,\n      dropProps: _extends({\n        align: calendarDropdownAlign\n      }, dropProps),\n      dropContent: calendar,\n      icon: icon || MaskedInputIcon || /*#__PURE__*/React.createElement(CalendarIcon, {\n        size: iconSize\n      })\n    }, buttonProps));\n  }\n  var onClickCopy = function onClickCopy() {\n    global.navigator.clipboard.writeText(textValue);\n    announce(readOnlyCopyValidation, 'assertive');\n    setTip(readOnlyCopyValidation);\n  };\n  var onBlurCopy = function onBlurCopy() {\n    if (tip === readOnlyCopyValidation) setTip(readOnlyCopyPrompt);\n  };\n  var DateInputButton = readOnlyCopy ? /*#__PURE__*/React.createElement(CopyButton, {\n    disabled: disabled,\n    onBlurCopy: onBlurCopy,\n    onClickCopy: onClickCopy,\n    readOnlyCopyPrompt: readOnlyCopyPrompt,\n    tip: tip,\n    value: value\n  }) : /*#__PURE__*/React.createElement(Button, {\n    onClick: open ? closeCalendar : openCalendar,\n    disabled: disabled,\n    plain: true,\n    icon: icon || MaskedInputIcon || /*#__PURE__*/React.createElement(CalendarIcon, {\n      size: iconSize\n    }),\n    margin: reverse ? {\n      left: (_theme$dateInput$butt = theme.dateInput.button) == null ? void 0 : _theme$dateInput$butt.margin\n    } : {\n      right: (_theme$dateInput$butt2 = theme.dateInput.button) == null ? void 0 : _theme$dateInput$butt2.margin\n    }\n  });\n  var input = /*#__PURE__*/React.createElement(FormContext.Provider, {\n    key: \"input\"\n    // don't let MaskedInput drive the Form\n    ,\n\n    value: formContextValue\n  }, /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: open ? function () {\n      return closeCalendar();\n    } : undefined,\n    onSpace: function onSpace(event) {\n      if (!readOnlyCopy) {\n        event.preventDefault();\n        if (!readOnly) openCalendar();\n      }\n    }\n  }, /*#__PURE__*/React.createElement(StyledDateInputContainer, _extends({\n    ref: containerRef,\n    border: !plain,\n    round: theme.dateInput.container.round,\n    direction: \"row\",\n    disabled: disabled\n    // readOnly prop shouldn't get passed to the dom here\n    ,\n\n    readOnlyProp: readOnly,\n    fill: true\n  }, passThemeFlag), reverse && (!readOnly || readOnlyCopy) && DateInputButton, /*#__PURE__*/React.createElement(MaskedInput, _extends({\n    readOnly: readOnly,\n    ref: ref,\n    id: id,\n    name: name,\n    reverse: true,\n    disabled: disabled,\n    mask: mask,\n    plain: true\n  }, restOfInputProps, rest, {\n    value: textValue,\n    onChange: function onChange(event) {\n      var nextTextValue = event.target.value;\n      setTextValue(nextTextValue);\n      var nextValue = textToValue(nextTextValue, schema, range, reference, outputFormat);\n      var validatedNextValue = validateBounds(calendarProps == null ? void 0 : calendarProps.bounds, nextValue);\n      if (!validatedNextValue && nextValue) {\n        setTextValue('');\n      }\n      if (validatedNextValue !== undefined) setReference(getReference(validatedNextValue));\n      // update value even when undefined\n      setValue(validatedNextValue);\n      if (_onChange) {\n        event.persist(); // extract from React synthetic event pool\n        var adjustedEvent = event;\n        adjustedEvent.value = validatedNextValue;\n        _onChange(adjustedEvent);\n      }\n    },\n    onFocus: function onFocus(event) {\n      if (!readOnly) {\n        announce(formatMessage({\n          id: 'dateInput.openCalendar',\n          messages: messages\n        }));\n      }\n      if (_onFocus) _onFocus(event);\n    }\n  })), !reverse && (!readOnly || readOnlyCopy) && DateInputButton)));\n  if (inline) {\n    return /*#__PURE__*/React.createElement(Box, null, input, calendar);\n  }\n  if (open && !readOnly) {\n    return [input, /*#__PURE__*/React.createElement(Drop, _extends({\n      key: \"drop\",\n      overflow: \"visible\",\n      id: id ? id + \"__drop\" : undefined,\n      target: containerRef.current,\n      align: _extends({}, calendarDropdownAlign, dropProps),\n      onEsc: closeCalendar,\n      onClickOutside: function onClickOutside(_ref4) {\n        var target = _ref4.target;\n        if (target !== containerRef.current && !containerRef.current.contains(target)) {\n          closeCalendar();\n        }\n      }\n    }, dropProps), calendar)];\n  }\n  return input;\n});\nDateInput.displayName = 'DateInput';\nDateInput.propTypes = DateInputPropTypes;\nexport { DateInput };","map":{"version":3,"names":["_excluded","_excluded2","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","useRef","forwardRef","useContext","useEffect","useMemo","useState","useCallback","styled","Calendar","GrommetCalendarIcon","AnnounceContext","MessageContext","Box","Button","Drop","DropButton","FormContext","Keyboard","MaskedInput","useForwardedRef","setHoursWithOffset","disabledStyle","useKeyboard","readOnlyStyle","formatToSchema","schemaToMask","valuesAreEqual","valueToText","textToValue","validateBounds","DateInputPropTypes","getOutputFormat","CopyButton","useThemeValue","StyledDateInputContainer","withConfig","shouldForwardProp","prop","displayName","componentId","props","disabled","readOnlyProp","theme","getReference","value","adjustedDate","res","Array","isArray","find","date","DateInput","_ref","refArg","_theme$icon","_theme$dateInput$icon","_theme$dateInput$icon2","_theme$dateInput$butt","_theme$dateInput$butt2","buttonProps","calendarProps","defaultValue","dropProps","format","id","icon","_ref$inline","inline","inputProps","name","_onChange","onChange","_onFocus","onFocus","plain","readOnly","readOnlyCopy","_ref$reverse","reverse","reverseProp","valueArg","messages","rest","_useThemeValue","passThemeFlag","announce","_useContext","formatMessage","iconSize","matchSize","size","dateInput","_useContext2","useFormInput","ref","containerRef","_useFormInput","initialValue","setValue","usingKeyboard","CalendarIcon","calendar","_useState","outputFormat","setOutputFormat","previousFormat","nextFormat","_useState2","reference","setReference","range","includes","schema","mask","_useState3","undefined","textValue","setTextValue","readOnlyCopyValidation","readOnlyCopyPrompt","_useState4","tip","setTip","_ref2","MaskedInputIcon","restOfInputProps","console","warn","calendarDropdownAlign","top","left","nextTextValue","_ref$current","form","current","handleFormReset","target","contains","addEventListener","removeEventListener","_useState5","open","setOpen","openCalendar","closeCalendar","setTimeout","_ref$current2","focus","dates","createElement","initialFocus","onSelect","nextValue","normalizedValue","formContextValue","_ref3","valueProp","align","dropContent","onClickCopy","global","navigator","clipboard","writeText","onBlurCopy","DateInputButton","onClick","margin","button","right","input","Provider","key","onEsc","onSpace","event","preventDefault","border","round","container","direction","fill","validatedNextValue","bounds","persist","adjustedEvent","overflow","onClickOutside","_ref4","propTypes"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/DateInput/DateInput.js"],"sourcesContent":["var _excluded = [\"buttonProps\", \"calendarProps\", \"defaultValue\", \"disabled\", \"dropProps\", \"format\", \"id\", \"icon\", \"inline\", \"inputProps\", \"name\", \"onChange\", \"onFocus\", \"plain\", \"readOnly\", \"readOnlyCopy\", \"reverse\", \"value\", \"messages\"],\n  _excluded2 = [\"icon\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React, { useRef, forwardRef, useContext, useEffect, useMemo, useState, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { Calendar as GrommetCalendarIcon } from 'grommet-icons/icons/Calendar';\nimport { AnnounceContext } from '../../contexts/AnnounceContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Calendar } from '../Calendar';\nimport { Drop } from '../Drop';\nimport { DropButton } from '../DropButton';\nimport { FormContext } from '../Form';\nimport { Keyboard } from '../Keyboard';\nimport { MaskedInput } from '../MaskedInput';\nimport { useForwardedRef, setHoursWithOffset, disabledStyle, useKeyboard } from '../../utils';\nimport { readOnlyStyle } from '../../utils/readOnly';\nimport { formatToSchema, schemaToMask, valuesAreEqual, valueToText, textToValue, validateBounds } from './utils';\nimport { DateInputPropTypes } from './propTypes';\nimport { getOutputFormat } from '../Calendar/Calendar';\nimport { CopyButton } from '../TextInput/CopyButton';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar StyledDateInputContainer = styled(Box).withConfig({\n  // to not pass props on dom through Box\n  shouldForwardProp: function shouldForwardProp(prop) {\n    return prop !== 'disabled';\n  }\n}).withConfig({\n  displayName: \"DateInput__StyledDateInputContainer\",\n  componentId: \"sc-1jfta23-0\"\n})([\"\", \" \", \"}\"], function (props) {\n  return props.disabled && disabledStyle();\n}, function (props) {\n  return props.readOnlyProp && readOnlyStyle(props.theme);\n});\nvar getReference = function getReference(value) {\n  var adjustedDate;\n  var res;\n  if (typeof value === 'string') res = value;else if (Array.isArray(value) && Array.isArray(value[0])) res = value[0].find(function (date) {\n    return date;\n  });else if (Array.isArray(value) && value.length) {\n    res = value[0];\n  }\n  if (res) {\n    adjustedDate = setHoursWithOffset(res);\n  }\n  return adjustedDate;\n};\nvar DateInput = /*#__PURE__*/forwardRef(function (_ref, refArg) {\n  var _theme$icon, _theme$dateInput$icon, _theme$dateInput$icon2, _theme$dateInput$butt, _theme$dateInput$butt2;\n  var buttonProps = _ref.buttonProps,\n    calendarProps = _ref.calendarProps,\n    defaultValue = _ref.defaultValue,\n    disabled = _ref.disabled,\n    dropProps = _ref.dropProps,\n    format = _ref.format,\n    id = _ref.id,\n    icon = _ref.icon,\n    _ref$inline = _ref.inline,\n    inline = _ref$inline === void 0 ? false : _ref$inline,\n    inputProps = _ref.inputProps,\n    name = _ref.name,\n    _onChange = _ref.onChange,\n    _onFocus = _ref.onFocus,\n    plain = _ref.plain,\n    readOnlyProp = _ref.readOnly,\n    readOnlyCopy = _ref.readOnlyCopy,\n    _ref$reverse = _ref.reverse,\n    reverseProp = _ref$reverse === void 0 ? false : _ref$reverse,\n    valueArg = _ref.value,\n    messages = _ref.messages,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme,\n    passThemeFlag = _useThemeValue.passThemeFlag;\n  var announce = useContext(AnnounceContext);\n  var _useContext = useContext(MessageContext),\n    formatMessage = _useContext.format;\n  var iconSize = ((_theme$icon = theme.icon) == null ? void 0 : _theme$icon.matchSize) && rest.size || ((_theme$dateInput$icon = theme.dateInput.icon) == null ? void 0 : _theme$dateInput$icon.size);\n  var _useContext2 = useContext(FormContext),\n    useFormInput = _useContext2.useFormInput;\n  var ref = useForwardedRef(refArg);\n  var containerRef = useRef();\n  var readOnly = readOnlyProp || readOnlyCopy;\n  var _useFormInput = useFormInput({\n      name: name,\n      value: valueArg,\n      initialValue: defaultValue\n    }),\n    value = _useFormInput[0],\n    setValue = _useFormInput[1];\n  var usingKeyboard = useKeyboard();\n  var CalendarIcon = ((_theme$dateInput$icon2 = theme.dateInput.icon) == null ? void 0 : _theme$dateInput$icon2.calendar) || GrommetCalendarIcon;\n  var _useState = useState(getOutputFormat(value)),\n    outputFormat = _useState[0],\n    setOutputFormat = _useState[1];\n  useEffect(function () {\n    setOutputFormat(function (previousFormat) {\n      var nextFormat = getOutputFormat(value);\n      // when user types, date could become something like 07//2020\n      // and value becomes undefined. don't lose the format from the\n      // previous valid date\n      return previousFormat !== nextFormat ? previousFormat : nextFormat;\n    });\n  }, [value]);\n\n  // keep track of timestamp from original date(s)\n  var _useState2 = useState(getReference(value)),\n    reference = _useState2[0],\n    setReference = _useState2[1];\n\n  // do we expect multiple dates?\n  var range = Array.isArray(value) || format && format.includes('-');\n\n  // parse format and build a formal schema we can use elsewhere\n  var schema = useMemo(function () {\n    return formatToSchema(format);\n  }, [format]);\n\n  // mask is only used when a format is provided\n  var mask = useMemo(function () {\n    return schemaToMask(schema);\n  }, [schema]);\n\n  // textValue is only used when a format is provided\n  var _useState3 = useState(schema ? valueToText(value, schema) : undefined),\n    textValue = _useState3[0],\n    setTextValue = _useState3[1];\n  var readOnlyCopyValidation = formatMessage({\n    id: 'input.readOnlyCopy.validation',\n    messages: messages\n  });\n  var readOnlyCopyPrompt = formatMessage({\n    id: 'input.readOnlyCopy.prompt',\n    messages: messages\n  });\n  var _useState4 = useState(readOnlyCopyPrompt),\n    tip = _useState4[0],\n    setTip = _useState4[1];\n\n  // Setting the icon through `inputProps` is deprecated.\n  // The `icon` prop should be used instead.\n  var _ref2 = inputProps || {},\n    MaskedInputIcon = _ref2.icon,\n    restOfInputProps = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n  if (MaskedInputIcon) {\n    console.warn(\"Customizing the DateInput icon through inputProps is deprecated.\\nUse the icon prop instead.\");\n  }\n  var reverse = reverseProp || restOfInputProps.reverse;\n  var calendarDropdownAlign = {\n    top: 'bottom',\n    left: 'left'\n  };\n\n  // We need to distinguish between the caller changing a Form value\n  // and the user typing a date that he isn't finished with yet.\n  // To handle this, we see if we have a value and the text value\n  // associated with it doesn't align to it, then we update the text value.\n  // We compare using textToValue to avoid \"06/01/2021\" not\n  // matching \"06/1/2021\".\n  useEffect(function () {\n    if (schema && value !== undefined) {\n      var nextTextValue = valueToText(value, schema);\n      if (!valuesAreEqual(textToValue(textValue, schema, range, reference), textToValue(nextTextValue, schema, range, reference)) || textValue === '' && nextTextValue !== '') {\n        setTextValue(nextTextValue);\n      }\n    }\n  }, [range, schema, textValue, reference, value]);\n\n  // textValue of MaskedInput is controlled.\n  // for uncontrolled forms, ensure the reset event\n  // resets the textValue\n  useEffect(function () {\n    var _ref$current;\n    var form = ref == null || (_ref$current = ref.current) == null ? void 0 : _ref$current.form;\n    var handleFormReset = function handleFormReset(e) {\n      if (schema && ref.current && e.target.contains(ref.current)) {\n        setTextValue('');\n      }\n    };\n    // place the listener on the form directly. if listener is on window,\n    // the event could get blocked if caller has e.stopPropagation(), etc. in\n    // their form onReset\n    form == null || form.addEventListener('reset', handleFormReset);\n    return function () {\n      return form == null ? void 0 : form.removeEventListener('reset', handleFormReset);\n    };\n  }, [schema, ref]);\n\n  // when format and not inline, whether to show the Calendar in a Drop\n  var _useState5 = useState(),\n    open = _useState5[0],\n    setOpen = _useState5[1];\n  var openCalendar = useCallback(function () {\n    setOpen(true);\n    announce(formatMessage({\n      id: 'dateInput.enterCalendar',\n      messages: messages\n    }));\n  }, [announce, formatMessage, messages]);\n  var closeCalendar = useCallback(function () {\n    if (usingKeyboard && !inline && ref != null && ref.current) {\n      setTimeout(function () {\n        var _ref$current2;\n        ref == null || (_ref$current2 = ref.current) == null || _ref$current2.focus();\n      }, 0);\n    }\n    setOpen(false);\n    announce(formatMessage({\n      id: 'dateInput.exitCalendar',\n      messages: messages\n    }));\n  }, [announce, formatMessage, messages, usingKeyboard, ref, inline]);\n  var dates = useMemo(function () {\n    return range && value != null && value.length ? [value] : undefined;\n  }, [range, value]);\n  var calendar = /*#__PURE__*/React.createElement(Calendar, _extends({\n    ref: inline ? ref : undefined,\n    id: inline && !format ? id : undefined,\n    range: range,\n    date: range ? undefined : value\n    // when caller initializes with empty array, dates should be undefined\n    // allowing the user to select both begin and end of the range\n    ,\n    dates: dates\n    // places focus on days grid when Calendar opens\n    ,\n    initialFocus: open ? 'days' : undefined,\n    onSelect: disabled ? undefined : function (nextValue) {\n      var normalizedValue;\n      if (range && Array.isArray(nextValue)) {\n        normalizedValue = nextValue[0];\n      } // clicking an edge date removes it\n      else if (range && nextValue) normalizedValue = [nextValue, nextValue];else normalizedValue = nextValue;\n      if (schema) setTextValue(valueToText(normalizedValue, schema));\n      setValue(normalizedValue);\n      setReference(getReference(nextValue));\n      if (_onChange) _onChange({\n        value: normalizedValue\n      });\n      if (open && !range) {\n        closeCalendar();\n      }\n    }\n  }, calendarProps));\n  var formContextValue = useMemo(function () {\n    return {\n      useFormInput: function useFormInput(_ref3) {\n        var valueProp = _ref3.value;\n        return [valueProp, function () {}];\n      }\n    };\n  }, []);\n  if (!format) {\n    // When no format is specified, we don't give the user a way to type\n    if (inline) return calendar;\n    return /*#__PURE__*/React.createElement(DropButton, _extends({\n      ref: ref,\n      id: id,\n      dropProps: _extends({\n        align: calendarDropdownAlign\n      }, dropProps),\n      dropContent: calendar,\n      icon: icon || MaskedInputIcon || /*#__PURE__*/React.createElement(CalendarIcon, {\n        size: iconSize\n      })\n    }, buttonProps));\n  }\n  var onClickCopy = function onClickCopy() {\n    global.navigator.clipboard.writeText(textValue);\n    announce(readOnlyCopyValidation, 'assertive');\n    setTip(readOnlyCopyValidation);\n  };\n  var onBlurCopy = function onBlurCopy() {\n    if (tip === readOnlyCopyValidation) setTip(readOnlyCopyPrompt);\n  };\n  var DateInputButton = readOnlyCopy ? /*#__PURE__*/React.createElement(CopyButton, {\n    disabled: disabled,\n    onBlurCopy: onBlurCopy,\n    onClickCopy: onClickCopy,\n    readOnlyCopyPrompt: readOnlyCopyPrompt,\n    tip: tip,\n    value: value\n  }) : /*#__PURE__*/React.createElement(Button, {\n    onClick: open ? closeCalendar : openCalendar,\n    disabled: disabled,\n    plain: true,\n    icon: icon || MaskedInputIcon || /*#__PURE__*/React.createElement(CalendarIcon, {\n      size: iconSize\n    }),\n    margin: reverse ? {\n      left: (_theme$dateInput$butt = theme.dateInput.button) == null ? void 0 : _theme$dateInput$butt.margin\n    } : {\n      right: (_theme$dateInput$butt2 = theme.dateInput.button) == null ? void 0 : _theme$dateInput$butt2.margin\n    }\n  });\n  var input = /*#__PURE__*/React.createElement(FormContext.Provider, {\n    key: \"input\"\n    // don't let MaskedInput drive the Form\n    ,\n    value: formContextValue\n  }, /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: open ? function () {\n      return closeCalendar();\n    } : undefined,\n    onSpace: function onSpace(event) {\n      if (!readOnlyCopy) {\n        event.preventDefault();\n        if (!readOnly) openCalendar();\n      }\n    }\n  }, /*#__PURE__*/React.createElement(StyledDateInputContainer, _extends({\n    ref: containerRef,\n    border: !plain,\n    round: theme.dateInput.container.round,\n    direction: \"row\",\n    disabled: disabled\n    // readOnly prop shouldn't get passed to the dom here\n    ,\n    readOnlyProp: readOnly,\n    fill: true\n  }, passThemeFlag), reverse && (!readOnly || readOnlyCopy) && DateInputButton, /*#__PURE__*/React.createElement(MaskedInput, _extends({\n    readOnly: readOnly,\n    ref: ref,\n    id: id,\n    name: name,\n    reverse: true,\n    disabled: disabled,\n    mask: mask,\n    plain: true\n  }, restOfInputProps, rest, {\n    value: textValue,\n    onChange: function onChange(event) {\n      var nextTextValue = event.target.value;\n      setTextValue(nextTextValue);\n      var nextValue = textToValue(nextTextValue, schema, range, reference, outputFormat);\n      var validatedNextValue = validateBounds(calendarProps == null ? void 0 : calendarProps.bounds, nextValue);\n      if (!validatedNextValue && nextValue) {\n        setTextValue('');\n      }\n      if (validatedNextValue !== undefined) setReference(getReference(validatedNextValue));\n      // update value even when undefined\n      setValue(validatedNextValue);\n      if (_onChange) {\n        event.persist(); // extract from React synthetic event pool\n        var adjustedEvent = event;\n        adjustedEvent.value = validatedNextValue;\n        _onChange(adjustedEvent);\n      }\n    },\n    onFocus: function onFocus(event) {\n      if (!readOnly) {\n        announce(formatMessage({\n          id: 'dateInput.openCalendar',\n          messages: messages\n        }));\n      }\n      if (_onFocus) _onFocus(event);\n    }\n  })), !reverse && (!readOnly || readOnlyCopy) && DateInputButton)));\n  if (inline) {\n    return /*#__PURE__*/React.createElement(Box, null, input, calendar);\n  }\n  if (open && !readOnly) {\n    return [input, /*#__PURE__*/React.createElement(Drop, _extends({\n      key: \"drop\",\n      overflow: \"visible\",\n      id: id ? id + \"__drop\" : undefined,\n      target: containerRef.current,\n      align: _extends({}, calendarDropdownAlign, dropProps),\n      onEsc: closeCalendar,\n      onClickOutside: function onClickOutside(_ref4) {\n        var target = _ref4.target;\n        if (target !== containerRef.current && !containerRef.current.contains(target)) {\n          closeCalendar();\n        }\n      }\n    }, dropProps), calendar)];\n  }\n  return input;\n});\nDateInput.displayName = 'DateInput';\nDateInput.propTypes = DateInputPropTypes;\nexport { DateInput };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}