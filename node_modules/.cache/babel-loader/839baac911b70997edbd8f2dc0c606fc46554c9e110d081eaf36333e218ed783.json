{"ast":null,"code":"var _excluded = [\"children\", \"footer\", \"onDone\", \"pad\", \"updateOn\"];\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nimport React, { useMemo, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Footer } from '../Footer';\nimport { Form } from '../Form';\nimport { DataContext } from '../../contexts/DataContext';\nimport { DataFormContext } from '../../contexts/DataFormContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { useDebounce } from '../../utils/use-debounce';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar MaxForm = styled(Form).withConfig({\n  displayName: \"DataForm__MaxForm\",\n  componentId: \"sc-v64e1r-0\"\n})([\"max-width:100%;\", \"\"], function (props) {\n  return props.fill && 'max-height: 100%;';\n});\n\n// We convert the view structure to something more flat to work better\n// with the Form inputs. These keys are how we flatten the Form value object\n// from the view object.\nexport var formSearchKey = '_search';\nexport var formSortKey = '_sort';\nexport var formRangeKey = '_range';\nexport var formStepKey = '_step';\nexport var formPageKey = '_page';\nexport var formColumnsKey = '_columns';\nexport var formGroupByKey = '_groupBy';\nexport var formViewNameKey = '_view';\nvar viewFormKeyMap = {\n  search: formSearchKey,\n  sort: formSortKey,\n  step: formStepKey,\n  page: formPageKey,\n  columns: formColumnsKey,\n  groupBy: formGroupByKey,\n  view: formViewNameKey\n};\n\n// flatten nested objects.\n// For example: { a: { b: v, c: z } } -> { 'a.b': v, 'a.c': z }\nvar _flatten = function flatten(formValue, options) {\n  var result = JSON.parse(JSON.stringify(formValue));\n  Object.keys(result).forEach(function (i) {\n    // We check the type of the i using\n    // typeof() function and recursively\n    // call the function again\n    // ignore _range situations\n    if (typeof result[i] === 'object' && !Array.isArray(result[i]) && (options != null && options.full || !result[i][formRangeKey])) {\n      var temp = _flatten(result[i], options);\n      Object.keys(temp).forEach(function (j) {\n        // Store temp in result\n        // ignore empty arrays\n        if (!Array.isArray(temp[j]) || Array.isArray(temp[j]) && temp[j].length) result[i + \".\" + j] = temp[j];\n      });\n      delete result[i];\n    }\n  });\n  return result;\n};\n\n// unflatten nested objects. For example: { 'a.b': v } -> { a: { b: v } }\nvar unflatten = function unflatten(formValue) {\n  var result = JSON.parse(JSON.stringify(formValue));\n  var specialKeys = Object.values(viewFormKeyMap);\n  Object.keys(result).filter(function (k) {\n    return !specialKeys.includes(k);\n  }).forEach(function (k) {\n    var parts = k.split('.');\n    var val = result[k];\n    delete result[k];\n    var parent = result;\n    while (parts.length > 1) {\n      var sub = parts.shift();\n      if (!parent[sub]) parent[sub] = {};\n      parent = parent[sub];\n    }\n    parent[parts.shift()] = val;\n  });\n  return result;\n};\n\n// converts from the external view format to the internal Form value format\nvar viewToFormValue = function viewToFormValue(view) {\n  var result = _extends({}, (view == null ? void 0 : view.properties) || {});\n  // convert { min: , max: } range to [min, max] for RangeSelector\n  Object.keys(result).forEach(function (key) {\n    var _result$key, _result$key2;\n    if (typeof ((_result$key = result[key]) == null ? void 0 : _result$key.min) === 'number' || typeof ((_result$key2 = result[key]) == null ? void 0 : _result$key2.max) === 'number') {\n      var _result$key3;\n      result[key] = (_result$key3 = {}, _result$key3[formRangeKey] = [result[key].min, result[key].max], _result$key3);\n    }\n  });\n\n  // convert formal view keys to their form '_' prefixed counterparts\n  Object.keys(viewFormKeyMap).forEach(function (key) {\n    if (view != null && view[key]) result[viewFormKeyMap[key]] = view[key];\n  });\n  // always have some blank search text\n  if (!result[formSearchKey]) result[formSearchKey] = '';\n  if (view != null && view.sort) result[formSortKey] = view.sort;\n  if (view != null && view.name) result[formViewNameKey] = view.name;\n  if (view != null && view.columns) result[formColumnsKey] = view.columns;\n  if (view != null && view.groupBy) result[formGroupByKey] = view.groupBy;\n  return unflatten(result);\n};\n\n// converts from the internal Form value format to the external view format\nvar formValueToView = function formValueToView(value, views) {\n  var result = {};\n\n  // if the user chose a view, use that\n  if (value[formViewNameKey]) result = JSON.parse(JSON.stringify(views.find(function (v) {\n    return v.name === value[formViewNameKey];\n  })));\n  var valueCopy = _extends({}, value);\n  Object.keys(viewFormKeyMap).forEach(function (key) {\n    if (valueCopy[viewFormKeyMap[key]]) {\n      result[key] = valueCopy[viewFormKeyMap[key]];\n    }\n    delete valueCopy[viewFormKeyMap[key]];\n  });\n\n  // flatten any nested objects\n  var flatValue = _flatten(valueCopy);\n  result.properties = _extends({}, result.properties || {}, flatValue);\n\n  // convert any ranges\n  Object.keys(result.properties).forEach(function (key) {\n    if (result.properties[key][formRangeKey]) {\n      result.properties[key] = {\n        min: result.properties[key][formRangeKey][0],\n        max: result.properties[key][formRangeKey][1]\n      };\n    }\n  });\n  return result;\n};\n\n// remove any empty arrays of property values by deleting the key for\n// that property in the view properties\nvar clearEmpty = function clearEmpty(formValue, pendingReset) {\n  var value = formValue;\n  Object.keys(value).forEach(function (k) {\n    if (Array.isArray(value[k]) && value[k].length === 0) delete value[k];\n    // special case for when range selector returns to its min/max\n    // flat format with full: true needed to match filter name structure\n    // { a: b: { _range: [0, 100] } } ==> a.b._range: [0, 100]\n    if (typeof value[k] === 'object' && !Array.isArray(value[k])) {\n      var _pendingReset$current;\n      var filterName = k + \".\" + Object.keys(_flatten(value[k], {\n        full: true\n      }))[0];\n      if (pendingReset != null && (_pendingReset$current = pendingReset.current) != null && _pendingReset$current.has(filterName)) {\n        delete value[k];\n        pendingReset.current[\"delete\"](filterName);\n      }\n    }\n  });\n  return value;\n};\n\n// if paging, when anything other than the page changes, reset the page to 1\nvar resetPage = function resetPage(nextFormValue, prevFormValue) {\n  if (prevFormValue[formPageKey] && prevFormValue[formPageKey] > 1)\n    // eslint-disable-next-line no-param-reassign\n    nextFormValue[formPageKey] = 1;\n};\n\n// function shared by onSubmit and onChange to coordinate view\n// name changes\nvar normalizeValue = function normalizeValue(nextValue, prevValue, views, pendingReset) {\n  if (nextValue[formViewNameKey] && nextValue[formViewNameKey] !== prevValue[formViewNameKey]) {\n    // view name changed, reset view contents from named view\n    return viewToFormValue(views.find(function (v) {\n      return v.name === nextValue[formViewNameKey];\n    }));\n  }\n  // something else changed\n\n  // clear empty properties\n  var result = clearEmpty(nextValue, pendingReset);\n\n  // if we have a view and something changed, clear the view\n  if (result[formViewNameKey]) {\n    var view = views.find(function (v) {\n      return v.name === result[formViewNameKey];\n    });\n    var viewValue = viewToFormValue(view);\n    clearEmpty(viewValue, pendingReset);\n    if (Object.keys(viewValue).length !== Object.keys(result).length) {\n      delete result[formViewNameKey];\n    } else if (Object.keys(viewValue).some(function (k) {\n      return (\n        // allow mismatch between empty and set strings\n        viewValue[k] && result[k] && JSON.stringify(result[k]) !== JSON.stringify(viewValue[k])\n      );\n    })) {\n      delete result[formViewNameKey];\n    }\n  }\n  return result;\n};\n\n// 300ms was chosen empirically as a reasonable default\nvar DEBOUNCE_TIMEOUT = 300;\nexport var DataForm = function DataForm(_ref) {\n  var children = _ref.children,\n    footer = _ref.footer,\n    onDone = _ref.onDone,\n    pad = _ref.pad,\n    _ref$updateOn = _ref.updateOn,\n    updateOn = _ref$updateOn === void 0 ? 'submit' : _ref$updateOn,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useContext = useContext(DataContext),\n    messages = _useContext.messages,\n    onView = _useContext.onView,\n    view = _useContext.view,\n    views = _useContext.views;\n  var _useContext2 = useContext(MessageContext),\n    format = _useContext2.format;\n  var _useState = useState(viewToFormValue(view)),\n    formValue = _useState[0],\n    setFormValue = _useState[1];\n  // special case for range selectors which always have a value.\n  // when value returns to its min/max, remove it from view\n  // like other properties\n  var pendingReset = useRef(new Set());\n  var contextValue = useMemo(function () {\n    return {\n      inDataForm: true,\n      pendingReset: pendingReset\n    };\n  }, []);\n  var debounce = useDebounce(DEBOUNCE_TIMEOUT);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme;\n  var onSubmit = useCallback(function (_ref2) {\n    var value = _ref2.value;\n    var nextValue = normalizeValue(value, formValue, views, pendingReset);\n    resetPage(nextValue, formValue);\n    setFormValue(nextValue);\n    onView(formValueToView(nextValue, views));\n    if (onDone) onDone();\n  }, [formValue, onDone, onView, views]);\n  var onChange = useCallback(function (value, _ref3) {\n    var touched = _ref3.touched;\n    var nextValue = normalizeValue(value, formValue, views, pendingReset);\n    resetPage(nextValue, formValue);\n    setFormValue(nextValue);\n    if (updateOn === 'change') {\n      // debounce search\n      if (touched[formSearchKey]) {\n        debounce(function () {\n          return function () {\n            return onView(formValueToView(nextValue, views));\n          };\n        });\n      } else {\n        onView(formValueToView(nextValue, views));\n      }\n    }\n  }, [debounce, formValue, onView, updateOn, views]);\n  useEffect(function () {\n    return setFormValue(viewToFormValue(view));\n  }, [view]);\n  var content = children;\n  if (footer !== false && updateOn === 'submit' || pad) {\n    var _theme$dataFilters, _theme$dataFilters2;\n    content = /*#__PURE__*/React.createElement(Box, {\n      fill: \"vertical\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      flex: true,\n      overflow: \"auto\",\n      pad: {\n        horizontal: pad,\n        top: pad\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      flex: false\n    }, content)), footer !== false && updateOn === 'submit' && /*#__PURE__*/React.createElement(Footer, {\n      flex: false,\n      pad: {\n        horizontal: pad,\n        bottom: pad\n      },\n      margin: (_theme$dataFilters = theme.dataFilters) == null || (_theme$dataFilters = _theme$dataFilters.footer) == null || (_theme$dataFilters = _theme$dataFilters.actions) == null ? void 0 : _theme$dataFilters.margin,\n      gap: (_theme$dataFilters2 = theme.dataFilters) == null || (_theme$dataFilters2 = _theme$dataFilters2.footer) == null || (_theme$dataFilters2 = _theme$dataFilters2.actions) == null ? void 0 : _theme$dataFilters2.gap\n    }, /*#__PURE__*/React.createElement(Button, {\n      label: format({\n        id: 'dataForm.submit',\n        messages: messages == null ? void 0 : messages.dataForm\n      }),\n      type: \"submit\",\n      primary: true\n    })));\n  }\n  return /*#__PURE__*/React.createElement(MaxForm, _extends({}, rest, {\n    value: formValue,\n    onSubmit: updateOn === 'submit' ? onSubmit : undefined,\n    onChange: onChange\n  }), /*#__PURE__*/React.createElement(DataFormContext.Provider, {\n    value: contextValue\n  }, content));\n};","map":{"version":3,"names":["_excluded","_objectWithoutPropertiesLoose","r","e","t","n","hasOwnProperty","call","indexOf","_extends","Object","assign","bind","arguments","length","apply","React","useMemo","useCallback","useContext","useEffect","useRef","useState","styled","Box","Button","Footer","Form","DataContext","DataFormContext","MessageContext","useDebounce","useThemeValue","MaxForm","withConfig","displayName","componentId","props","fill","formSearchKey","formSortKey","formRangeKey","formStepKey","formPageKey","formColumnsKey","formGroupByKey","formViewNameKey","viewFormKeyMap","search","sort","step","page","columns","groupBy","view","_flatten","flatten","formValue","options","result","JSON","parse","stringify","keys","forEach","i","Array","isArray","full","temp","j","unflatten","specialKeys","values","filter","k","includes","parts","split","val","parent","sub","shift","viewToFormValue","properties","key","_result$key","_result$key2","min","max","_result$key3","name","formValueToView","value","views","find","v","valueCopy","flatValue","clearEmpty","pendingReset","_pendingReset$current","filterName","current","has","resetPage","nextFormValue","prevFormValue","normalizeValue","nextValue","prevValue","viewValue","some","DEBOUNCE_TIMEOUT","DataForm","_ref","children","footer","onDone","pad","_ref$updateOn","updateOn","rest","_useContext","messages","onView","_useContext2","format","_useState","setFormValue","Set","contextValue","inDataForm","debounce","_useThemeValue","theme","onSubmit","_ref2","onChange","_ref3","touched","content","_theme$dataFilters","_theme$dataFilters2","createElement","flex","overflow","horizontal","top","bottom","margin","dataFilters","actions","gap","label","id","dataForm","type","primary","undefined","Provider"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/Data/DataForm.js"],"sourcesContent":["var _excluded = [\"children\", \"footer\", \"onDone\", \"pad\", \"updateOn\"];\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport React, { useMemo, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Footer } from '../Footer';\nimport { Form } from '../Form';\nimport { DataContext } from '../../contexts/DataContext';\nimport { DataFormContext } from '../../contexts/DataFormContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { useDebounce } from '../../utils/use-debounce';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar MaxForm = styled(Form).withConfig({\n  displayName: \"DataForm__MaxForm\",\n  componentId: \"sc-v64e1r-0\"\n})([\"max-width:100%;\", \"\"], function (props) {\n  return props.fill && 'max-height: 100%;';\n});\n\n// We convert the view structure to something more flat to work better\n// with the Form inputs. These keys are how we flatten the Form value object\n// from the view object.\nexport var formSearchKey = '_search';\nexport var formSortKey = '_sort';\nexport var formRangeKey = '_range';\nexport var formStepKey = '_step';\nexport var formPageKey = '_page';\nexport var formColumnsKey = '_columns';\nexport var formGroupByKey = '_groupBy';\nexport var formViewNameKey = '_view';\nvar viewFormKeyMap = {\n  search: formSearchKey,\n  sort: formSortKey,\n  step: formStepKey,\n  page: formPageKey,\n  columns: formColumnsKey,\n  groupBy: formGroupByKey,\n  view: formViewNameKey\n};\n\n// flatten nested objects.\n// For example: { a: { b: v, c: z } } -> { 'a.b': v, 'a.c': z }\nvar _flatten = function flatten(formValue, options) {\n  var result = JSON.parse(JSON.stringify(formValue));\n  Object.keys(result).forEach(function (i) {\n    // We check the type of the i using\n    // typeof() function and recursively\n    // call the function again\n    // ignore _range situations\n    if (typeof result[i] === 'object' && !Array.isArray(result[i]) && (options != null && options.full || !result[i][formRangeKey])) {\n      var temp = _flatten(result[i], options);\n      Object.keys(temp).forEach(function (j) {\n        // Store temp in result\n        // ignore empty arrays\n        if (!Array.isArray(temp[j]) || Array.isArray(temp[j]) && temp[j].length) result[i + \".\" + j] = temp[j];\n      });\n      delete result[i];\n    }\n  });\n  return result;\n};\n\n// unflatten nested objects. For example: { 'a.b': v } -> { a: { b: v } }\nvar unflatten = function unflatten(formValue) {\n  var result = JSON.parse(JSON.stringify(formValue));\n  var specialKeys = Object.values(viewFormKeyMap);\n  Object.keys(result).filter(function (k) {\n    return !specialKeys.includes(k);\n  }).forEach(function (k) {\n    var parts = k.split('.');\n    var val = result[k];\n    delete result[k];\n    var parent = result;\n    while (parts.length > 1) {\n      var sub = parts.shift();\n      if (!parent[sub]) parent[sub] = {};\n      parent = parent[sub];\n    }\n    parent[parts.shift()] = val;\n  });\n  return result;\n};\n\n// converts from the external view format to the internal Form value format\nvar viewToFormValue = function viewToFormValue(view) {\n  var result = _extends({}, (view == null ? void 0 : view.properties) || {});\n  // convert { min: , max: } range to [min, max] for RangeSelector\n  Object.keys(result).forEach(function (key) {\n    var _result$key, _result$key2;\n    if (typeof ((_result$key = result[key]) == null ? void 0 : _result$key.min) === 'number' || typeof ((_result$key2 = result[key]) == null ? void 0 : _result$key2.max) === 'number') {\n      var _result$key3;\n      result[key] = (_result$key3 = {}, _result$key3[formRangeKey] = [result[key].min, result[key].max], _result$key3);\n    }\n  });\n\n  // convert formal view keys to their form '_' prefixed counterparts\n  Object.keys(viewFormKeyMap).forEach(function (key) {\n    if (view != null && view[key]) result[viewFormKeyMap[key]] = view[key];\n  });\n  // always have some blank search text\n  if (!result[formSearchKey]) result[formSearchKey] = '';\n  if (view != null && view.sort) result[formSortKey] = view.sort;\n  if (view != null && view.name) result[formViewNameKey] = view.name;\n  if (view != null && view.columns) result[formColumnsKey] = view.columns;\n  if (view != null && view.groupBy) result[formGroupByKey] = view.groupBy;\n  return unflatten(result);\n};\n\n// converts from the internal Form value format to the external view format\nvar formValueToView = function formValueToView(value, views) {\n  var result = {};\n\n  // if the user chose a view, use that\n  if (value[formViewNameKey]) result = JSON.parse(JSON.stringify(views.find(function (v) {\n    return v.name === value[formViewNameKey];\n  })));\n  var valueCopy = _extends({}, value);\n  Object.keys(viewFormKeyMap).forEach(function (key) {\n    if (valueCopy[viewFormKeyMap[key]]) {\n      result[key] = valueCopy[viewFormKeyMap[key]];\n    }\n    delete valueCopy[viewFormKeyMap[key]];\n  });\n\n  // flatten any nested objects\n  var flatValue = _flatten(valueCopy);\n  result.properties = _extends({}, result.properties || {}, flatValue);\n\n  // convert any ranges\n  Object.keys(result.properties).forEach(function (key) {\n    if (result.properties[key][formRangeKey]) {\n      result.properties[key] = {\n        min: result.properties[key][formRangeKey][0],\n        max: result.properties[key][formRangeKey][1]\n      };\n    }\n  });\n  return result;\n};\n\n// remove any empty arrays of property values by deleting the key for\n// that property in the view properties\nvar clearEmpty = function clearEmpty(formValue, pendingReset) {\n  var value = formValue;\n  Object.keys(value).forEach(function (k) {\n    if (Array.isArray(value[k]) && value[k].length === 0) delete value[k];\n    // special case for when range selector returns to its min/max\n    // flat format with full: true needed to match filter name structure\n    // { a: b: { _range: [0, 100] } } ==> a.b._range: [0, 100]\n    if (typeof value[k] === 'object' && !Array.isArray(value[k])) {\n      var _pendingReset$current;\n      var filterName = k + \".\" + Object.keys(_flatten(value[k], {\n        full: true\n      }))[0];\n      if (pendingReset != null && (_pendingReset$current = pendingReset.current) != null && _pendingReset$current.has(filterName)) {\n        delete value[k];\n        pendingReset.current[\"delete\"](filterName);\n      }\n    }\n  });\n  return value;\n};\n\n// if paging, when anything other than the page changes, reset the page to 1\nvar resetPage = function resetPage(nextFormValue, prevFormValue) {\n  if (prevFormValue[formPageKey] && prevFormValue[formPageKey] > 1)\n    // eslint-disable-next-line no-param-reassign\n    nextFormValue[formPageKey] = 1;\n};\n\n// function shared by onSubmit and onChange to coordinate view\n// name changes\nvar normalizeValue = function normalizeValue(nextValue, prevValue, views, pendingReset) {\n  if (nextValue[formViewNameKey] && nextValue[formViewNameKey] !== prevValue[formViewNameKey]) {\n    // view name changed, reset view contents from named view\n    return viewToFormValue(views.find(function (v) {\n      return v.name === nextValue[formViewNameKey];\n    }));\n  }\n  // something else changed\n\n  // clear empty properties\n  var result = clearEmpty(nextValue, pendingReset);\n\n  // if we have a view and something changed, clear the view\n  if (result[formViewNameKey]) {\n    var view = views.find(function (v) {\n      return v.name === result[formViewNameKey];\n    });\n    var viewValue = viewToFormValue(view);\n    clearEmpty(viewValue, pendingReset);\n    if (Object.keys(viewValue).length !== Object.keys(result).length) {\n      delete result[formViewNameKey];\n    } else if (Object.keys(viewValue).some(function (k) {\n      return (\n        // allow mismatch between empty and set strings\n        viewValue[k] && result[k] && JSON.stringify(result[k]) !== JSON.stringify(viewValue[k])\n      );\n    })) {\n      delete result[formViewNameKey];\n    }\n  }\n  return result;\n};\n\n// 300ms was chosen empirically as a reasonable default\nvar DEBOUNCE_TIMEOUT = 300;\nexport var DataForm = function DataForm(_ref) {\n  var children = _ref.children,\n    footer = _ref.footer,\n    onDone = _ref.onDone,\n    pad = _ref.pad,\n    _ref$updateOn = _ref.updateOn,\n    updateOn = _ref$updateOn === void 0 ? 'submit' : _ref$updateOn,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useContext = useContext(DataContext),\n    messages = _useContext.messages,\n    onView = _useContext.onView,\n    view = _useContext.view,\n    views = _useContext.views;\n  var _useContext2 = useContext(MessageContext),\n    format = _useContext2.format;\n  var _useState = useState(viewToFormValue(view)),\n    formValue = _useState[0],\n    setFormValue = _useState[1];\n  // special case for range selectors which always have a value.\n  // when value returns to its min/max, remove it from view\n  // like other properties\n  var pendingReset = useRef(new Set());\n  var contextValue = useMemo(function () {\n    return {\n      inDataForm: true,\n      pendingReset: pendingReset\n    };\n  }, []);\n  var debounce = useDebounce(DEBOUNCE_TIMEOUT);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme;\n  var onSubmit = useCallback(function (_ref2) {\n    var value = _ref2.value;\n    var nextValue = normalizeValue(value, formValue, views, pendingReset);\n    resetPage(nextValue, formValue);\n    setFormValue(nextValue);\n    onView(formValueToView(nextValue, views));\n    if (onDone) onDone();\n  }, [formValue, onDone, onView, views]);\n  var onChange = useCallback(function (value, _ref3) {\n    var touched = _ref3.touched;\n    var nextValue = normalizeValue(value, formValue, views, pendingReset);\n    resetPage(nextValue, formValue);\n    setFormValue(nextValue);\n    if (updateOn === 'change') {\n      // debounce search\n      if (touched[formSearchKey]) {\n        debounce(function () {\n          return function () {\n            return onView(formValueToView(nextValue, views));\n          };\n        });\n      } else {\n        onView(formValueToView(nextValue, views));\n      }\n    }\n  }, [debounce, formValue, onView, updateOn, views]);\n  useEffect(function () {\n    return setFormValue(viewToFormValue(view));\n  }, [view]);\n  var content = children;\n  if (footer !== false && updateOn === 'submit' || pad) {\n    var _theme$dataFilters, _theme$dataFilters2;\n    content = /*#__PURE__*/React.createElement(Box, {\n      fill: \"vertical\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      flex: true,\n      overflow: \"auto\",\n      pad: {\n        horizontal: pad,\n        top: pad\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      flex: false\n    }, content)), footer !== false && updateOn === 'submit' && /*#__PURE__*/React.createElement(Footer, {\n      flex: false,\n      pad: {\n        horizontal: pad,\n        bottom: pad\n      },\n      margin: (_theme$dataFilters = theme.dataFilters) == null || (_theme$dataFilters = _theme$dataFilters.footer) == null || (_theme$dataFilters = _theme$dataFilters.actions) == null ? void 0 : _theme$dataFilters.margin,\n      gap: (_theme$dataFilters2 = theme.dataFilters) == null || (_theme$dataFilters2 = _theme$dataFilters2.footer) == null || (_theme$dataFilters2 = _theme$dataFilters2.actions) == null ? void 0 : _theme$dataFilters2.gap\n    }, /*#__PURE__*/React.createElement(Button, {\n      label: format({\n        id: 'dataForm.submit',\n        messages: messages == null ? void 0 : messages.dataForm\n      }),\n      type: \"submit\",\n      primary: true\n    })));\n  }\n  return /*#__PURE__*/React.createElement(MaxForm, _extends({}, rest, {\n    value: formValue,\n    onSubmit: updateOn === 'submit' ? onSubmit : undefined,\n    onChange: onChange\n  }), /*#__PURE__*/React.createElement(DataFormContext.Provider, {\n    value: contextValue\n  }, content));\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}