{"ast":null,"code":"import React, { useCallback, isValidElement } from 'react';\nimport { normalizeColor } from '../../utils';\nvar _applyKey = function applyKey(option, key) {\n  if (/*#__PURE__*/isValidElement(option)) return option;\n  if (option === undefined || option === null) return undefined;\n  if (typeof key === 'object') return _applyKey(option, key.key);\n  if (typeof key === 'function') return key(option);\n  if (key !== undefined && typeof option === 'object') return option[key];\n  if (typeof option === 'object' && Object.keys(option).length > 0) return option[Object.keys(option)[0]];\n  return option;\n};\nexport { _applyKey as applyKey };\nexport var getOptionLabel = function getOptionLabel(index, options, labelKey) {\n  return _applyKey(options[index], labelKey);\n};\nexport var getOptionValue = function getOptionValue(index, options, valueKey) {\n  return _applyKey(options[index], valueKey);\n};\nexport var getOptionIndex = function getOptionIndex(options, i, valueKey) {\n  if (options) {\n    if (typeof i === 'object') return options.findIndex(function (x) {\n      return _applyKey(x, valueKey) === _applyKey(i, valueKey);\n    });\n    return options.indexOf(i);\n  }\n  return undefined;\n};\nexport var arrayIncludes = function arrayIncludes(arr, i, valueKey) {\n  if (arr) {\n    if (typeof i === 'object') return arr.some(function (x) {\n      return _applyKey(x, valueKey) === _applyKey(i, valueKey);\n    });\n    return arr.includes(i);\n  }\n  return undefined;\n};\nexport var useDisabled = function useDisabled(disabled, disabledKey, options, valueKey) {\n  return useCallback(function (index) {\n    var option = options[index];\n    var result;\n    if (disabledKey) {\n      result = _applyKey(option, disabledKey);\n    } else if (Array.isArray(disabled)) {\n      if (typeof disabled[0] === 'number') {\n        result = disabled.indexOf(index) !== -1;\n      } else {\n        var optionVal = getOptionValue(index, options, valueKey);\n        result = getOptionIndex(disabled, options[index], valueKey) !== -1 || getOptionIndex(disabled, optionVal, valueKey) !== -1;\n      }\n    }\n    return result;\n  }, [disabled, disabledKey, options, valueKey]);\n};\nexport var getNormalizedValue = function getNormalizedValue(value, valueKey) {\n  if (Array.isArray(value)) return value.map(function (v) {\n    return valueKey && valueKey.reduce ? v : _applyKey(v, valueKey);\n  });\n  return valueKey && valueKey.reduce ? value : _applyKey(value, valueKey);\n};\nexport var changeEvent = function changeEvent(inputRef, nextValue) {\n  // Calling set value function directly on input because React library\n  // overrides setter `event.target.value =` and loses original event\n  // target fidelity.\n  // https://stackoverflow.com/a/46012210\n  var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n  nativeInputValueSetter.call(inputRef.current, nextValue);\n  var event = new Event('input', {\n    bubbles: true\n  });\n  inputRef.current.dispatchEvent(event);\n};\nexport var getSelectIcon = function getSelectIcon(icon, theme, open) {\n  var SelectIcon;\n  switch (icon) {\n    case false:\n      break;\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n    default:\n      SelectIcon = icon;\n  }\n  return SelectIcon;\n};\n\n// if labelKey is a function and valueLabel is not defined\n// we should use the labelKey function to display the\n// selected value\nexport var getDisplayLabelKey = function getDisplayLabelKey(labelKey, allOptions, optionIndexesInValue, selectValue) {\n  var optionLabelKey = _applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n  if (!selectValue && optionIndexesInValue.length === 1 && typeof optionLabelKey === 'object') return optionLabelKey;\n  return undefined;\n};\nexport var getIconColor = function getIconColor(theme) {\n  return normalizeColor(theme.select.icons.color || 'control', theme);\n};\nvar _formatValueForA11y = function formatValueForA11y(value, labelKey) {\n  if (typeof value === 'string') return value;\n  if (/*#__PURE__*/isValidElement(value)) return value.toString();\n  if (Array.isArray(value)) {\n    return value.map(function (item) {\n      return _formatValueForA11y(item, labelKey);\n    }).join(', ');\n  }\n  return _applyKey(value, labelKey);\n};\n\n// In react 18 and below the inert attribute is not supported\n// so we use an empty string instead of true. In react 19 and above\n// inert is supported so we should use true. The use function is\n// used to determine the react version because it is only available\n// in react 19 and above.\nexport { _formatValueForA11y as formatValueForA11y };\nexport var inertTrueValue = React.use ? true : '';\n\n// Grommet manipulates the provided id by appending \"__input\" for\n// the id places on the DOM input. In order to properly associate\n// form label htmlFor with select input, we handle appending this\n// to htmlFor for internal components like DataSort and DataFilter.\n// Caller is responsible for appending this on their Select or\n// SelectMultiple instances.\nexport var selectInputId = function selectInputId(id) {\n  return id + \"__input\";\n};","map":{"version":3,"names":["React","useCallback","isValidElement","normalizeColor","_applyKey","applyKey","option","key","undefined","Object","keys","length","getOptionLabel","index","options","labelKey","getOptionValue","valueKey","getOptionIndex","i","findIndex","x","indexOf","arrayIncludes","arr","some","includes","useDisabled","disabled","disabledKey","result","Array","isArray","optionVal","getNormalizedValue","value","map","v","reduce","changeEvent","inputRef","nextValue","nativeInputValueSetter","getOwnPropertyDescriptor","window","HTMLInputElement","prototype","set","call","current","event","Event","bubbles","dispatchEvent","getSelectIcon","icon","theme","open","SelectIcon","select","icons","up","down","getDisplayLabelKey","allOptions","optionIndexesInValue","selectValue","optionLabelKey","getIconColor","color","_formatValueForA11y","formatValueForA11y","toString","item","join","inertTrueValue","use","selectInputId","id"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/Select/utils.js"],"sourcesContent":["import React, { useCallback, isValidElement } from 'react';\nimport { normalizeColor } from '../../utils';\nvar _applyKey = function applyKey(option, key) {\n  if (/*#__PURE__*/isValidElement(option)) return option;\n  if (option === undefined || option === null) return undefined;\n  if (typeof key === 'object') return _applyKey(option, key.key);\n  if (typeof key === 'function') return key(option);\n  if (key !== undefined && typeof option === 'object') return option[key];\n  if (typeof option === 'object' && Object.keys(option).length > 0) return option[Object.keys(option)[0]];\n  return option;\n};\nexport { _applyKey as applyKey };\nexport var getOptionLabel = function getOptionLabel(index, options, labelKey) {\n  return _applyKey(options[index], labelKey);\n};\nexport var getOptionValue = function getOptionValue(index, options, valueKey) {\n  return _applyKey(options[index], valueKey);\n};\nexport var getOptionIndex = function getOptionIndex(options, i, valueKey) {\n  if (options) {\n    if (typeof i === 'object') return options.findIndex(function (x) {\n      return _applyKey(x, valueKey) === _applyKey(i, valueKey);\n    });\n    return options.indexOf(i);\n  }\n  return undefined;\n};\nexport var arrayIncludes = function arrayIncludes(arr, i, valueKey) {\n  if (arr) {\n    if (typeof i === 'object') return arr.some(function (x) {\n      return _applyKey(x, valueKey) === _applyKey(i, valueKey);\n    });\n    return arr.includes(i);\n  }\n  return undefined;\n};\nexport var useDisabled = function useDisabled(disabled, disabledKey, options, valueKey) {\n  return useCallback(function (index) {\n    var option = options[index];\n    var result;\n    if (disabledKey) {\n      result = _applyKey(option, disabledKey);\n    } else if (Array.isArray(disabled)) {\n      if (typeof disabled[0] === 'number') {\n        result = disabled.indexOf(index) !== -1;\n      } else {\n        var optionVal = getOptionValue(index, options, valueKey);\n        result = getOptionIndex(disabled, options[index], valueKey) !== -1 || getOptionIndex(disabled, optionVal, valueKey) !== -1;\n      }\n    }\n    return result;\n  }, [disabled, disabledKey, options, valueKey]);\n};\nexport var getNormalizedValue = function getNormalizedValue(value, valueKey) {\n  if (Array.isArray(value)) return value.map(function (v) {\n    return valueKey && valueKey.reduce ? v : _applyKey(v, valueKey);\n  });\n  return valueKey && valueKey.reduce ? value : _applyKey(value, valueKey);\n};\nexport var changeEvent = function changeEvent(inputRef, nextValue) {\n  // Calling set value function directly on input because React library\n  // overrides setter `event.target.value =` and loses original event\n  // target fidelity.\n  // https://stackoverflow.com/a/46012210\n  var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n  nativeInputValueSetter.call(inputRef.current, nextValue);\n  var event = new Event('input', {\n    bubbles: true\n  });\n  inputRef.current.dispatchEvent(event);\n};\nexport var getSelectIcon = function getSelectIcon(icon, theme, open) {\n  var SelectIcon;\n  switch (icon) {\n    case false:\n      break;\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n    default:\n      SelectIcon = icon;\n  }\n  return SelectIcon;\n};\n\n// if labelKey is a function and valueLabel is not defined\n// we should use the labelKey function to display the\n// selected value\nexport var getDisplayLabelKey = function getDisplayLabelKey(labelKey, allOptions, optionIndexesInValue, selectValue) {\n  var optionLabelKey = _applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n  if (!selectValue && optionIndexesInValue.length === 1 && typeof optionLabelKey === 'object') return optionLabelKey;\n  return undefined;\n};\nexport var getIconColor = function getIconColor(theme) {\n  return normalizeColor(theme.select.icons.color || 'control', theme);\n};\nvar _formatValueForA11y = function formatValueForA11y(value, labelKey) {\n  if (typeof value === 'string') return value;\n  if (/*#__PURE__*/isValidElement(value)) return value.toString();\n  if (Array.isArray(value)) {\n    return value.map(function (item) {\n      return _formatValueForA11y(item, labelKey);\n    }).join(', ');\n  }\n  return _applyKey(value, labelKey);\n};\n\n// In react 18 and below the inert attribute is not supported\n// so we use an empty string instead of true. In react 19 and above\n// inert is supported so we should use true. The use function is\n// used to determine the react version because it is only available\n// in react 19 and above.\nexport { _formatValueForA11y as formatValueForA11y };\nexport var inertTrueValue = React.use ? true : '';\n\n// Grommet manipulates the provided id by appending \"__input\" for\n// the id places on the DOM input. In order to properly associate\n// form label htmlFor with select input, we handle appending this\n// to htmlFor for internal components like DataSort and DataFilter.\n// Caller is responsible for appending this on their Select or\n// SelectMultiple instances.\nexport var selectInputId = function selectInputId(id) {\n  return id + \"__input\";\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}