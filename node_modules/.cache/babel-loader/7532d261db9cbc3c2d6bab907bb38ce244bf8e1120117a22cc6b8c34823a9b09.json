{"ast":null,"code":"var _excluded = [\"active\", \"align\", \"aria-label\", \"badge\", \"busy\", \"color\", \"children\", \"disabled\", \"icon\", \"focusIndicator\", \"gap\", \"fill\", \"href\", \"justify\", \"kind\", \"label\", \"messages\", \"onBlur\", \"onClick\", \"onFocus\", \"onMouseOut\", \"onMouseOver\", \"pad\", \"plain\", \"primary\", \"reverse\", \"secondary\", \"selected\", \"size\", \"success\", \"tip\", \"type\", \"a11yTitle\", \"as\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { cloneElement, Children, forwardRef, useContext, useMemo, useState, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { backgroundAndTextColors, colorIsDark, findButtonParent, useSizedIcon, normalizeBackground, normalizeColor } from '../../utils';\nimport { ButtonPropTypes } from './propTypes';\nimport { AnnounceContext } from '../../contexts/AnnounceContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Tip } from '../Tip';\nimport { Badge } from './Badge';\nimport { StyledButton } from './StyledButton';\nimport { StyledButtonKind } from './StyledButtonKind';\nimport { useAnalytics } from '../../contexts/AnalyticsContext';\nimport { Skeleton, useSkeleton } from '../Skeleton';\nimport { EllipsisAnimation, GrowCheckmark, StyledBusyContents } from './BusyAnimation';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar RelativeBox = styled(Box).withConfig({\n  displayName: \"Button__RelativeBox\",\n  componentId: \"sc-zuqsuw-0\"\n})([\"position:relative;\"]);\n\n// We have two Styled* components to separate\n// the newer default|primary|secondary approach,\n// which we use the term \"kind\" to refer to,\n// from the previous approach. Hopefully, when we get to grommet v3,\n// we can drop the old way and just use kind.\n//\n// In the kind approach, we rely on the basic structure of the theme\n// being repeated. For example: button.default, button.active,\n// button.active.default all refer to a similar object containing\n// { background, border, color, padding }.\n// This allows us to use the same code to evaluate color and generate CSS.\n// We just need to build up CSS, since selectors override previous ones.\n// See StyledButtonKind.kindStyles() for this.\n// And we build down to determine icon color, once we have a color from\n// the latest applicable state, we can stop. See Button.getIconColor() for this.\n// backgroundAndTextColor() is used in both cases to ensure we are determining\n// color in the same way, so the icon and label align.\n\n// only when default is in the theme\n// Used to get the color for the icon to match what StyledButtonKind\n// and backgroundStyle() will do for the label.\n// The paths are ordered from basic to specific. Go through them\n// specific to base until we find one that has a color and use that.\nvar getIconColor = function getIconColor(paths, theme, colorProp, kind) {\n  if (paths === void 0) {\n    paths = [];\n  }\n  var result = [];\n  var index = paths.length - 1;\n  // caller has specified a themeObj to use for styling\n  // relevant for cases like pagination which looks to theme.pagination.button\n  if (typeof kind === 'object') index = 0;\n  // stop when we have a color or no more paths\n  while (index >= 0 && !result[1]) {\n    var baseObj = typeof kind === 'object' && kind || theme.button;\n    var obj = baseObj;\n    // find sub-object under the button theme that corresponds with this path\n    // for example: 'active.primary'\n    if (paths[index]) {\n      var parts = paths[index].split('.');\n      while (obj && parts.length) obj = obj[parts.shift()];\n    }\n    if (obj) {\n      var _obj;\n      // use passed in color for background if the theme has a background color\n      var background = colorProp && obj.background && obj.background.color ? colorProp : obj.background;\n\n      // if theme object explicitly sets the color to undefined, pass false\n      // to indicate that the theme doesn't want any text color\n      var objColor = obj.color || (Object.prototype.hasOwnProperty.call(obj, 'color') && obj.color === undefined ? false : undefined);\n      var color = void 0;\n      if ((_obj = obj) != null && (_obj = _obj.icon) != null && (_obj = _obj.props) != null && _obj.color) color = obj.icon.props.color;\n      // if no icon defined for this state, see if there is an icon\n      // with color defined at one higher level\n      else if (paths[index + 1]) {\n        var _obj2;\n        var _parts = paths[index + 1].split('.');\n        while (baseObj && _parts.length) obj = baseObj[_parts.shift()];\n        if ((_obj2 = obj) != null && (_obj2 = _obj2.icon) != null && (_obj2 = _obj2.props) != null && _obj2.color) color = obj.icon.props.color;\n      }\n      // use passed in color for text if the theme doesn't have\n      // background or border color\n      if (!color) color = colorProp && (!obj.background || !obj.background.color) && (!obj.border || !obj.border.color) ? colorProp : objColor;\n      result = backgroundAndTextColors(background, color, theme);\n    }\n    index -= 1;\n  }\n  return result[1] || undefined;\n};\n\n// get the icon for the current button state\nvar getKindIcon = function getKindIcon(paths, theme, kind) {\n  if (paths === void 0) {\n    paths = [];\n  }\n  var result;\n  var index = paths.length - 1;\n  // caller has specified a themeObj to use for styling\n  // relevant for cases like pagination which looks to theme.pagination.button\n  if (typeof kind === 'object') index = 0;\n  // stop when we have a color or no more paths\n  while (index >= 0 && !result) {\n    var _obj3;\n    var obj = typeof kind === 'object' && kind || theme.button;\n    // find sub-object under the button theme that corresponds with this path\n    // for example: 'active.primary'\n    if (paths[index]) {\n      var parts = paths[index].split('.');\n      while (obj && parts.length) obj = obj[parts.shift()];\n    }\n    if ((_obj3 = obj) != null && _obj3.icon) result = obj.icon;\n    index -= 1;\n  }\n  return result || undefined;\n};\nvar getPropertyColor = function getPropertyColor(property, paths, theme, kind, primary) {\n  if (paths === void 0) {\n    paths = [];\n  }\n  var result;\n  if (kind) {\n    var obj = typeof kind === 'object' && kind || theme.button;\n    // index 0 is default state\n    if (paths[0]) {\n      var parts = paths[0].split('.');\n      while (obj && parts.length) obj = obj[parts.shift()];\n    }\n    if (obj) {\n      result = obj[property] || obj[property] && obj[property].color;\n    }\n  } else if (primary && theme && theme.button && theme.button.primary) {\n    result = theme.button.primary[property] || theme.button.primary[property] && theme.button.primary[property].color;\n  } else {\n    result = theme && theme.button && theme.button[property] || theme && theme.button && theme.button[property] && theme.button[property].color;\n  }\n  return result;\n};\nvar Button = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _theme$button$kind, _theme$button2;\n  var active = _ref.active,\n    _ref$align = _ref.align,\n    align = _ref$align === void 0 ? 'center' : _ref$align,\n    ariaLabel = _ref['aria-label'],\n    badgeProp = _ref.badge,\n    busy = _ref.busy,\n    color = _ref.color,\n    children = _ref.children,\n    disabled = _ref.disabled,\n    icon = _ref.icon,\n    _ref$focusIndicator = _ref.focusIndicator,\n    focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n    gap = _ref.gap,\n    fill = _ref.fill,\n    href = _ref.href,\n    justify = _ref.justify,\n    kindArg = _ref.kind,\n    label = _ref.label,\n    messages = _ref.messages,\n    _onBlur = _ref.onBlur,\n    onClickProp = _ref.onClick,\n    _onFocus = _ref.onFocus,\n    onMouseOut = _ref.onMouseOut,\n    onMouseOver = _ref.onMouseOver,\n    pad = _ref.pad,\n    plain = _ref.plain,\n    primary = _ref.primary,\n    reverseProp = _ref.reverse,\n    secondary = _ref.secondary,\n    selected = _ref.selected,\n    sizeProp = _ref.size,\n    success = _ref.success,\n    tip = _ref.tip,\n    _ref$type = _ref.type,\n    type = _ref$type === void 0 ? 'button' : _ref$type,\n    _ref$a11yTitle = _ref.a11yTitle,\n    a11yTitle = _ref$a11yTitle === void 0 ? typeof tip === 'string' ? tip : undefined : _ref$a11yTitle,\n    as = _ref.as,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme,\n    passThemeFlag = _useThemeValue.passThemeFlag;\n  var _useState = useState(),\n    focus = _useState[0],\n    setFocus = _useState[1];\n  var _useState2 = useState(false),\n    hover = _useState2[0],\n    setHover = _useState2[1];\n  var announce = useContext(AnnounceContext);\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  if (busy && success) {\n    console.warn('Button cannot have both busy and success set to true.');\n  }\n  useEffect(function () {\n    if (busy) announce(format({\n      id: 'button.busy',\n      messages: messages\n    }));else if (success) announce(format({\n      id: 'button.success',\n      messages: messages\n    }));\n  }, [announce, busy, format, messages, success]);\n  if ((icon || label) && children) {\n    console.warn('Button should not have children if icon or label is provided');\n  }\n  var skeleton = useSkeleton();\n  var sendAnalytics = useAnalytics();\n  var onClick = useCallback(function (event) {\n    sendAnalytics({\n      type: 'buttonClick',\n      element: findButtonParent(event.target),\n      event: event,\n      href: href,\n      label: typeof label === 'string' ? label : undefined\n    });\n    if (onClickProp) onClickProp(event);\n  }, [onClickProp, sendAnalytics, href, label]);\n\n  // kindArg is object if we are referencing a theme object\n  // outside of theme.button\n  var kindObj = useMemo(function () {\n    return typeof kindArg === 'object';\n  }, [kindArg]);\n\n  // if the theme has button.default, what kind of Button is this\n  var kind = useMemo(function () {\n    if (theme.button[\"default\"] || kindObj) {\n      if (kindArg) return kindArg;\n      if (primary) return 'primary';\n      if (secondary) return 'secondary';\n      return 'default';\n    }\n    return undefined; // pre-default, no kind\n  }, [kindArg, kindObj, primary, secondary, theme]);\n\n  // for backwards compatibility, no-kind button theme did not\n  // default to size \"medium\" on buttons with no size prop\n  var size = sizeProp || kind && 'medium' || undefined;\n  // When we have a kind and are not plain, themePaths stores the relative\n  // paths within the theme for the current kind and state of the button.\n  // These paths are used with getIconColor() above and kindStyle() within\n  // StyledButtonKind.\n  var themePaths = useMemo(function () {\n    if (!kind || plain) return undefined;\n    var result = {\n      base: [],\n      hover: []\n    };\n    if (!kindObj) result.base.push(kind);\n    if (selected) {\n      result.base.push('selected');\n      if (!kindObj) result.base.push(\"selected.\" + kind);\n    }\n    if (disabled) {\n      result.base.push('disabled');\n      if (!kindObj) result.base.push(\"disabled.\" + kind);\n    } else {\n      if (active) {\n        result.base.push('active');\n        if (!kindObj) result.base.push(\"active.\" + kind);\n      }\n      result.hover.push('hover');\n      if (!kindObj) result.hover.push(\"hover.\" + kind);\n      if (active) {\n        result.hover.push(\"hover.active\");\n        if (!kindObj) {\n          result.hover.push(\"hover.active.\" + kind);\n        }\n      }\n    }\n    return result;\n  }, [active, disabled, kind, kindObj, plain, selected]);\n\n  // only used when theme does not have button.default\n  var isDarkBackground = function isDarkBackground() {\n    var backgroundColor = normalizeBackground(normalizeColor(color || theme.button.primary && theme.button.primary.color || theme.global.colors.control || 'brand', theme), theme);\n    return colorIsDark(backgroundColor, theme);\n  };\n  var onMouseOverButton = function onMouseOverButton(event) {\n    setHover(true);\n    if (onMouseOver) {\n      onMouseOver(event);\n    }\n  };\n  var onMouseOutButton = function onMouseOutButton(event) {\n    setHover(false);\n    if (onMouseOut) {\n      onMouseOut(event);\n    }\n  };\n  var kindIcon = hover && getKindIcon(themePaths == null ? void 0 : themePaths.hover, theme, kind) || getKindIcon(themePaths == null ? void 0 : themePaths.base, theme, kind);\n  var buttonIcon = icon || kindIcon;\n  // only change color if user did not specify the color themselves...\n  if (icon && !icon.props.color) {\n    if (kind) {\n      if (!plain) {\n        // match what the label will use\n        var iconColor = hover && getIconColor(themePaths.hover, theme) || getIconColor(themePaths.base, theme, color, kind);\n        if (iconColor) buttonIcon = /*#__PURE__*/cloneElement(icon, {\n          color: iconColor\n        });\n      }\n    } else if (primary) {\n      buttonIcon = /*#__PURE__*/cloneElement(icon, {\n        color: theme.global.colors.text[isDarkBackground() ? 'dark' : 'light']\n      });\n    }\n  } else if (kindIcon && !plain) {\n    var _iconColor = hover && getIconColor(themePaths.hover, theme) || getIconColor(themePaths.base, theme, color, kind);\n    if (_iconColor) buttonIcon = /*#__PURE__*/cloneElement(kindIcon, {\n      color: _iconColor\n    });\n  }\n  buttonIcon = useSizedIcon(buttonIcon, size, theme);\n  if (skeleton) {\n    var _theme$text, _theme$button$size;\n    return /*#__PURE__*/React.createElement(Skeleton, _extends({\n      ref: ref,\n      height: ((_theme$text = theme.text[size || 'medium']) == null ? void 0 : _theme$text.height) || size,\n      a11yTitle: a11yTitle\n    }, rest, (_theme$button$size = theme.button.size) == null ? void 0 : _theme$button$size[size || 'medium'], theme.button.skeleton));\n  }\n  var reverse = reverseProp != null ? reverseProp : (_theme$button$kind = theme.button[kind]) == null ? void 0 : _theme$button$kind.reverse;\n  var domTag = !as && href ? 'a' : as;\n  var first = reverse ? label : buttonIcon;\n  var second = reverse ? buttonIcon : label;\n  var contents;\n  if (first && second) {\n    var _theme$button;\n    contents = /*#__PURE__*/React.createElement(Box, {\n      direction: ((_theme$button = theme.button) == null || (_theme$button = _theme$button[kind]) == null ? void 0 : _theme$button.direction) || 'row',\n      align: \"center\",\n      justify: justify || (align === 'center' ? 'center' : 'between'),\n      gap: gap || theme.button.gap,\n      responsive: false\n    }, first, second);\n  } else if (typeof children === 'function') {\n    contents = children({\n      active: active,\n      disabled: disabled,\n      hover: hover,\n      focus: focus\n    });\n  } else {\n    contents = first || second || children;\n  }\n  var background = getPropertyColor('background', themePaths && themePaths.base, theme, kind, primary);\n  var border = getPropertyColor('border', themePaths && themePaths.base, theme, kind, primary);\n  // set the badge relative to the button content\n  // when the button doesn't have background or border\n  // (!kind && icon && !label) is necessary because for old button logic,\n  // if button has icon but not label, it will be considered \"plain\",\n  // so no border or background will be applied\n  var innerBadge = ((_theme$button2 = theme.button) == null || (_theme$button2 = _theme$button2.badge) == null ? void 0 : _theme$button2.align) !== 'container' && (!background && !border || !kind && icon && !label);\n  if (badgeProp && innerBadge) {\n    contents = /*#__PURE__*/React.createElement(Badge, {\n      content: badgeProp\n    }, contents);\n  }\n  if (busy || success) {\n    var _theme$button3;\n    // match what the label will use\n    var animationColor;\n    if (kind) {\n      if (!plain) {\n        animationColor = hover && getIconColor(themePaths.hover, theme) || getIconColor(themePaths.base, theme, color, kind);\n      }\n    } else if (primary) {\n      animationColor = theme.global.colors.text[isDarkBackground() ? 'dark' : 'light'];\n    }\n    contents = /*#__PURE__*/\n    // position relative is necessary to have the animation\n    // display over the button content\n    React.createElement(RelativeBox, {\n      flex: false\n    }, busy && /*#__PURE__*/React.createElement(EllipsisAnimation, null), success && /*#__PURE__*/React.createElement(Box, {\n      style: {\n        position: 'absolute'\n      },\n      fill: true,\n      alignContent: \"center\",\n      justify: \"center\"\n    }, /*#__PURE__*/React.createElement(GrowCheckmark, {\n      color: animationColor,\n      \"aria-hidden\": true,\n      as: (_theme$button3 = theme.button) == null || (_theme$button3 = _theme$button3.busy) == null || (_theme$button3 = _theme$button3.icons) == null ? void 0 : _theme$button3.success\n    })), /*#__PURE__*/React.createElement(StyledBusyContents, {\n      animating: busy || success\n    }, contents));\n  }\n  var styledButtonResult;\n  if (kind) {\n    styledButtonResult = /*#__PURE__*/React.createElement(StyledButtonKind, _extends({}, rest, {\n      as: domTag,\n      ref: ref,\n      active: active,\n      align: align,\n      \"aria-label\": ariaLabel || a11yTitle,\n      busy: busy,\n      badge: badgeProp,\n      colorValue: color,\n      disabled: disabled,\n      hasIcon: !!icon,\n      gap: gap,\n      hasLabel: !!label,\n      icon: icon,\n      fillContainer: fill,\n      focus: focus,\n      focusIndicator: focusIndicator,\n      href: href,\n      kind: kind,\n      themePaths: themePaths,\n      onClick: !busy && !success ? onClick : undefined,\n      onFocus: function onFocus(event) {\n        setFocus(true);\n        if (_onFocus) _onFocus(event);\n      },\n      onBlur: function onBlur(event) {\n        setFocus(false);\n        if (_onBlur) _onBlur(event);\n      },\n      onMouseOver: onMouseOverButton,\n      onMouseOut: onMouseOutButton,\n      pad: pad,\n      plain: plain || Children.count(children) > 0,\n      primary: primary,\n      selected: selected,\n      sizeProp: size,\n      success: success,\n      type: !href ? type : undefined\n    }, passThemeFlag), contents);\n  } else {\n    styledButtonResult = /*#__PURE__*/React.createElement(StyledButton, _extends({}, rest, {\n      as: domTag,\n      ref: ref,\n      \"aria-label\": ariaLabel || a11yTitle,\n      busy: busy,\n      colorValue: color,\n      active: active,\n      selected: selected,\n      disabled: disabled,\n      hasIcon: !!icon,\n      gap: gap,\n      hasLabel: !!label,\n      fillContainer: fill,\n      focus: focus,\n      focusIndicator: focusIndicator,\n      href: href,\n      kind: kind,\n      themePaths: themePaths,\n      onClick: !busy && !success ? onClick : undefined,\n      onFocus: function onFocus(event) {\n        setFocus(true);\n        if (_onFocus) _onFocus(event);\n      },\n      onBlur: function onBlur(event) {\n        setFocus(false);\n        if (_onBlur) _onBlur(event);\n      },\n      onMouseOver: onMouseOverButton,\n      onMouseOut: onMouseOutButton,\n      pad: pad || !plain,\n      plain: typeof plain !== 'undefined' ? plain : Children.count(children) > 0 || icon && !label,\n      primary: primary,\n      sizeProp: size,\n      success: success,\n      type: !href ? type : undefined\n    }, passThemeFlag), contents);\n  }\n  if (tip) {\n    if (typeof tip === 'string') {\n      styledButtonResult = /*#__PURE__*/React.createElement(Tip, {\n        content: tip\n      }, styledButtonResult);\n    } else {\n      styledButtonResult = /*#__PURE__*/React.createElement(Tip, tip, styledButtonResult);\n    }\n  }\n\n  // if button has background or border, place badge relative\n  // to outer edge of button\n  if (badgeProp && !innerBadge) {\n    styledButtonResult = /*#__PURE__*/React.createElement(Badge, {\n      content: badgeProp\n    }, styledButtonResult);\n  }\n  return styledButtonResult;\n});\nButton.displayName = 'Button';\nButton.propTypes = ButtonPropTypes;\nexport { Button };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","cloneElement","Children","forwardRef","useContext","useMemo","useState","useCallback","useEffect","styled","backgroundAndTextColors","colorIsDark","findButtonParent","useSizedIcon","normalizeBackground","normalizeColor","ButtonPropTypes","AnnounceContext","MessageContext","Box","Tip","Badge","StyledButton","StyledButtonKind","useAnalytics","Skeleton","useSkeleton","EllipsisAnimation","GrowCheckmark","StyledBusyContents","useThemeValue","RelativeBox","withConfig","displayName","componentId","getIconColor","paths","theme","colorProp","kind","result","index","baseObj","button","obj","parts","split","shift","_obj","background","color","objColor","prototype","undefined","icon","props","_obj2","_parts","border","getKindIcon","_obj3","getPropertyColor","property","primary","Button","_ref","ref","_theme$button$kind","_theme$button2","active","_ref$align","align","ariaLabel","badgeProp","badge","busy","children","disabled","_ref$focusIndicator","focusIndicator","gap","fill","href","justify","kindArg","label","messages","_onBlur","onBlur","onClickProp","onClick","_onFocus","onFocus","onMouseOut","onMouseOver","pad","plain","reverseProp","reverse","secondary","selected","sizeProp","size","success","tip","_ref$type","type","_ref$a11yTitle","a11yTitle","as","rest","_useThemeValue","passThemeFlag","_useState","focus","setFocus","_useState2","hover","setHover","announce","_useContext","format","console","warn","id","skeleton","sendAnalytics","event","element","target","kindObj","themePaths","base","push","isDarkBackground","backgroundColor","global","colors","control","onMouseOverButton","onMouseOutButton","kindIcon","buttonIcon","iconColor","text","_iconColor","_theme$text","_theme$button$size","createElement","height","domTag","first","second","contents","_theme$button","direction","responsive","innerBadge","content","_theme$button3","animationColor","flex","style","position","alignContent","icons","animating","styledButtonResult","colorValue","hasIcon","hasLabel","fillContainer","count","propTypes"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/Button/Button.js"],"sourcesContent":["var _excluded = [\"active\", \"align\", \"aria-label\", \"badge\", \"busy\", \"color\", \"children\", \"disabled\", \"icon\", \"focusIndicator\", \"gap\", \"fill\", \"href\", \"justify\", \"kind\", \"label\", \"messages\", \"onBlur\", \"onClick\", \"onFocus\", \"onMouseOut\", \"onMouseOver\", \"pad\", \"plain\", \"primary\", \"reverse\", \"secondary\", \"selected\", \"size\", \"success\", \"tip\", \"type\", \"a11yTitle\", \"as\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React, { cloneElement, Children, forwardRef, useContext, useMemo, useState, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { backgroundAndTextColors, colorIsDark, findButtonParent, useSizedIcon, normalizeBackground, normalizeColor } from '../../utils';\nimport { ButtonPropTypes } from './propTypes';\nimport { AnnounceContext } from '../../contexts/AnnounceContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Tip } from '../Tip';\nimport { Badge } from './Badge';\nimport { StyledButton } from './StyledButton';\nimport { StyledButtonKind } from './StyledButtonKind';\nimport { useAnalytics } from '../../contexts/AnalyticsContext';\nimport { Skeleton, useSkeleton } from '../Skeleton';\nimport { EllipsisAnimation, GrowCheckmark, StyledBusyContents } from './BusyAnimation';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar RelativeBox = styled(Box).withConfig({\n  displayName: \"Button__RelativeBox\",\n  componentId: \"sc-zuqsuw-0\"\n})([\"position:relative;\"]);\n\n// We have two Styled* components to separate\n// the newer default|primary|secondary approach,\n// which we use the term \"kind\" to refer to,\n// from the previous approach. Hopefully, when we get to grommet v3,\n// we can drop the old way and just use kind.\n//\n// In the kind approach, we rely on the basic structure of the theme\n// being repeated. For example: button.default, button.active,\n// button.active.default all refer to a similar object containing\n// { background, border, color, padding }.\n// This allows us to use the same code to evaluate color and generate CSS.\n// We just need to build up CSS, since selectors override previous ones.\n// See StyledButtonKind.kindStyles() for this.\n// And we build down to determine icon color, once we have a color from\n// the latest applicable state, we can stop. See Button.getIconColor() for this.\n// backgroundAndTextColor() is used in both cases to ensure we are determining\n// color in the same way, so the icon and label align.\n\n// only when default is in the theme\n// Used to get the color for the icon to match what StyledButtonKind\n// and backgroundStyle() will do for the label.\n// The paths are ordered from basic to specific. Go through them\n// specific to base until we find one that has a color and use that.\nvar getIconColor = function getIconColor(paths, theme, colorProp, kind) {\n  if (paths === void 0) {\n    paths = [];\n  }\n  var result = [];\n  var index = paths.length - 1;\n  // caller has specified a themeObj to use for styling\n  // relevant for cases like pagination which looks to theme.pagination.button\n  if (typeof kind === 'object') index = 0;\n  // stop when we have a color or no more paths\n  while (index >= 0 && !result[1]) {\n    var baseObj = typeof kind === 'object' && kind || theme.button;\n    var obj = baseObj;\n    // find sub-object under the button theme that corresponds with this path\n    // for example: 'active.primary'\n    if (paths[index]) {\n      var parts = paths[index].split('.');\n      while (obj && parts.length) obj = obj[parts.shift()];\n    }\n    if (obj) {\n      var _obj;\n      // use passed in color for background if the theme has a background color\n      var background = colorProp && obj.background && obj.background.color ? colorProp : obj.background;\n\n      // if theme object explicitly sets the color to undefined, pass false\n      // to indicate that the theme doesn't want any text color\n      var objColor = obj.color || (Object.prototype.hasOwnProperty.call(obj, 'color') && obj.color === undefined ? false : undefined);\n      var color = void 0;\n      if ((_obj = obj) != null && (_obj = _obj.icon) != null && (_obj = _obj.props) != null && _obj.color) color = obj.icon.props.color;\n      // if no icon defined for this state, see if there is an icon\n      // with color defined at one higher level\n      else if (paths[index + 1]) {\n        var _obj2;\n        var _parts = paths[index + 1].split('.');\n        while (baseObj && _parts.length) obj = baseObj[_parts.shift()];\n        if ((_obj2 = obj) != null && (_obj2 = _obj2.icon) != null && (_obj2 = _obj2.props) != null && _obj2.color) color = obj.icon.props.color;\n      }\n      // use passed in color for text if the theme doesn't have\n      // background or border color\n      if (!color) color = colorProp && (!obj.background || !obj.background.color) && (!obj.border || !obj.border.color) ? colorProp : objColor;\n      result = backgroundAndTextColors(background, color, theme);\n    }\n    index -= 1;\n  }\n  return result[1] || undefined;\n};\n\n// get the icon for the current button state\nvar getKindIcon = function getKindIcon(paths, theme, kind) {\n  if (paths === void 0) {\n    paths = [];\n  }\n  var result;\n  var index = paths.length - 1;\n  // caller has specified a themeObj to use for styling\n  // relevant for cases like pagination which looks to theme.pagination.button\n  if (typeof kind === 'object') index = 0;\n  // stop when we have a color or no more paths\n  while (index >= 0 && !result) {\n    var _obj3;\n    var obj = typeof kind === 'object' && kind || theme.button;\n    // find sub-object under the button theme that corresponds with this path\n    // for example: 'active.primary'\n    if (paths[index]) {\n      var parts = paths[index].split('.');\n      while (obj && parts.length) obj = obj[parts.shift()];\n    }\n    if ((_obj3 = obj) != null && _obj3.icon) result = obj.icon;\n    index -= 1;\n  }\n  return result || undefined;\n};\nvar getPropertyColor = function getPropertyColor(property, paths, theme, kind, primary) {\n  if (paths === void 0) {\n    paths = [];\n  }\n  var result;\n  if (kind) {\n    var obj = typeof kind === 'object' && kind || theme.button;\n    // index 0 is default state\n    if (paths[0]) {\n      var parts = paths[0].split('.');\n      while (obj && parts.length) obj = obj[parts.shift()];\n    }\n    if (obj) {\n      result = obj[property] || obj[property] && obj[property].color;\n    }\n  } else if (primary && theme && theme.button && theme.button.primary) {\n    result = theme.button.primary[property] || theme.button.primary[property] && theme.button.primary[property].color;\n  } else {\n    result = theme && theme.button && theme.button[property] || theme && theme.button && theme.button[property] && theme.button[property].color;\n  }\n  return result;\n};\nvar Button = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _theme$button$kind, _theme$button2;\n  var active = _ref.active,\n    _ref$align = _ref.align,\n    align = _ref$align === void 0 ? 'center' : _ref$align,\n    ariaLabel = _ref['aria-label'],\n    badgeProp = _ref.badge,\n    busy = _ref.busy,\n    color = _ref.color,\n    children = _ref.children,\n    disabled = _ref.disabled,\n    icon = _ref.icon,\n    _ref$focusIndicator = _ref.focusIndicator,\n    focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n    gap = _ref.gap,\n    fill = _ref.fill,\n    href = _ref.href,\n    justify = _ref.justify,\n    kindArg = _ref.kind,\n    label = _ref.label,\n    messages = _ref.messages,\n    _onBlur = _ref.onBlur,\n    onClickProp = _ref.onClick,\n    _onFocus = _ref.onFocus,\n    onMouseOut = _ref.onMouseOut,\n    onMouseOver = _ref.onMouseOver,\n    pad = _ref.pad,\n    plain = _ref.plain,\n    primary = _ref.primary,\n    reverseProp = _ref.reverse,\n    secondary = _ref.secondary,\n    selected = _ref.selected,\n    sizeProp = _ref.size,\n    success = _ref.success,\n    tip = _ref.tip,\n    _ref$type = _ref.type,\n    type = _ref$type === void 0 ? 'button' : _ref$type,\n    _ref$a11yTitle = _ref.a11yTitle,\n    a11yTitle = _ref$a11yTitle === void 0 ? typeof tip === 'string' ? tip : undefined : _ref$a11yTitle,\n    as = _ref.as,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme,\n    passThemeFlag = _useThemeValue.passThemeFlag;\n  var _useState = useState(),\n    focus = _useState[0],\n    setFocus = _useState[1];\n  var _useState2 = useState(false),\n    hover = _useState2[0],\n    setHover = _useState2[1];\n  var announce = useContext(AnnounceContext);\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  if (busy && success) {\n    console.warn('Button cannot have both busy and success set to true.');\n  }\n  useEffect(function () {\n    if (busy) announce(format({\n      id: 'button.busy',\n      messages: messages\n    }));else if (success) announce(format({\n      id: 'button.success',\n      messages: messages\n    }));\n  }, [announce, busy, format, messages, success]);\n  if ((icon || label) && children) {\n    console.warn('Button should not have children if icon or label is provided');\n  }\n  var skeleton = useSkeleton();\n  var sendAnalytics = useAnalytics();\n  var onClick = useCallback(function (event) {\n    sendAnalytics({\n      type: 'buttonClick',\n      element: findButtonParent(event.target),\n      event: event,\n      href: href,\n      label: typeof label === 'string' ? label : undefined\n    });\n    if (onClickProp) onClickProp(event);\n  }, [onClickProp, sendAnalytics, href, label]);\n\n  // kindArg is object if we are referencing a theme object\n  // outside of theme.button\n  var kindObj = useMemo(function () {\n    return typeof kindArg === 'object';\n  }, [kindArg]);\n\n  // if the theme has button.default, what kind of Button is this\n  var kind = useMemo(function () {\n    if (theme.button[\"default\"] || kindObj) {\n      if (kindArg) return kindArg;\n      if (primary) return 'primary';\n      if (secondary) return 'secondary';\n      return 'default';\n    }\n    return undefined; // pre-default, no kind\n  }, [kindArg, kindObj, primary, secondary, theme]);\n\n  // for backwards compatibility, no-kind button theme did not\n  // default to size \"medium\" on buttons with no size prop\n  var size = sizeProp || kind && 'medium' || undefined;\n  // When we have a kind and are not plain, themePaths stores the relative\n  // paths within the theme for the current kind and state of the button.\n  // These paths are used with getIconColor() above and kindStyle() within\n  // StyledButtonKind.\n  var themePaths = useMemo(function () {\n    if (!kind || plain) return undefined;\n    var result = {\n      base: [],\n      hover: []\n    };\n    if (!kindObj) result.base.push(kind);\n    if (selected) {\n      result.base.push('selected');\n      if (!kindObj) result.base.push(\"selected.\" + kind);\n    }\n    if (disabled) {\n      result.base.push('disabled');\n      if (!kindObj) result.base.push(\"disabled.\" + kind);\n    } else {\n      if (active) {\n        result.base.push('active');\n        if (!kindObj) result.base.push(\"active.\" + kind);\n      }\n      result.hover.push('hover');\n      if (!kindObj) result.hover.push(\"hover.\" + kind);\n      if (active) {\n        result.hover.push(\"hover.active\");\n        if (!kindObj) {\n          result.hover.push(\"hover.active.\" + kind);\n        }\n      }\n    }\n    return result;\n  }, [active, disabled, kind, kindObj, plain, selected]);\n\n  // only used when theme does not have button.default\n  var isDarkBackground = function isDarkBackground() {\n    var backgroundColor = normalizeBackground(normalizeColor(color || theme.button.primary && theme.button.primary.color || theme.global.colors.control || 'brand', theme), theme);\n    return colorIsDark(backgroundColor, theme);\n  };\n  var onMouseOverButton = function onMouseOverButton(event) {\n    setHover(true);\n    if (onMouseOver) {\n      onMouseOver(event);\n    }\n  };\n  var onMouseOutButton = function onMouseOutButton(event) {\n    setHover(false);\n    if (onMouseOut) {\n      onMouseOut(event);\n    }\n  };\n  var kindIcon = hover && getKindIcon(themePaths == null ? void 0 : themePaths.hover, theme, kind) || getKindIcon(themePaths == null ? void 0 : themePaths.base, theme, kind);\n  var buttonIcon = icon || kindIcon;\n  // only change color if user did not specify the color themselves...\n  if (icon && !icon.props.color) {\n    if (kind) {\n      if (!plain) {\n        // match what the label will use\n        var iconColor = hover && getIconColor(themePaths.hover, theme) || getIconColor(themePaths.base, theme, color, kind);\n        if (iconColor) buttonIcon = /*#__PURE__*/cloneElement(icon, {\n          color: iconColor\n        });\n      }\n    } else if (primary) {\n      buttonIcon = /*#__PURE__*/cloneElement(icon, {\n        color: theme.global.colors.text[isDarkBackground() ? 'dark' : 'light']\n      });\n    }\n  } else if (kindIcon && !plain) {\n    var _iconColor = hover && getIconColor(themePaths.hover, theme) || getIconColor(themePaths.base, theme, color, kind);\n    if (_iconColor) buttonIcon = /*#__PURE__*/cloneElement(kindIcon, {\n      color: _iconColor\n    });\n  }\n  buttonIcon = useSizedIcon(buttonIcon, size, theme);\n  if (skeleton) {\n    var _theme$text, _theme$button$size;\n    return /*#__PURE__*/React.createElement(Skeleton, _extends({\n      ref: ref,\n      height: ((_theme$text = theme.text[size || 'medium']) == null ? void 0 : _theme$text.height) || size,\n      a11yTitle: a11yTitle\n    }, rest, (_theme$button$size = theme.button.size) == null ? void 0 : _theme$button$size[size || 'medium'], theme.button.skeleton));\n  }\n  var reverse = reverseProp != null ? reverseProp : (_theme$button$kind = theme.button[kind]) == null ? void 0 : _theme$button$kind.reverse;\n  var domTag = !as && href ? 'a' : as;\n  var first = reverse ? label : buttonIcon;\n  var second = reverse ? buttonIcon : label;\n  var contents;\n  if (first && second) {\n    var _theme$button;\n    contents = /*#__PURE__*/React.createElement(Box, {\n      direction: ((_theme$button = theme.button) == null || (_theme$button = _theme$button[kind]) == null ? void 0 : _theme$button.direction) || 'row',\n      align: \"center\",\n      justify: justify || (align === 'center' ? 'center' : 'between'),\n      gap: gap || theme.button.gap,\n      responsive: false\n    }, first, second);\n  } else if (typeof children === 'function') {\n    contents = children({\n      active: active,\n      disabled: disabled,\n      hover: hover,\n      focus: focus\n    });\n  } else {\n    contents = first || second || children;\n  }\n  var background = getPropertyColor('background', themePaths && themePaths.base, theme, kind, primary);\n  var border = getPropertyColor('border', themePaths && themePaths.base, theme, kind, primary);\n  // set the badge relative to the button content\n  // when the button doesn't have background or border\n  // (!kind && icon && !label) is necessary because for old button logic,\n  // if button has icon but not label, it will be considered \"plain\",\n  // so no border or background will be applied\n  var innerBadge = ((_theme$button2 = theme.button) == null || (_theme$button2 = _theme$button2.badge) == null ? void 0 : _theme$button2.align) !== 'container' && (!background && !border || !kind && icon && !label);\n  if (badgeProp && innerBadge) {\n    contents = /*#__PURE__*/React.createElement(Badge, {\n      content: badgeProp\n    }, contents);\n  }\n  if (busy || success) {\n    var _theme$button3;\n    // match what the label will use\n    var animationColor;\n    if (kind) {\n      if (!plain) {\n        animationColor = hover && getIconColor(themePaths.hover, theme) || getIconColor(themePaths.base, theme, color, kind);\n      }\n    } else if (primary) {\n      animationColor = theme.global.colors.text[isDarkBackground() ? 'dark' : 'light'];\n    }\n    contents =\n    /*#__PURE__*/\n    // position relative is necessary to have the animation\n    // display over the button content\n    React.createElement(RelativeBox, {\n      flex: false\n    }, busy && /*#__PURE__*/React.createElement(EllipsisAnimation, null), success && /*#__PURE__*/React.createElement(Box, {\n      style: {\n        position: 'absolute'\n      },\n      fill: true,\n      alignContent: \"center\",\n      justify: \"center\"\n    }, /*#__PURE__*/React.createElement(GrowCheckmark, {\n      color: animationColor,\n      \"aria-hidden\": true,\n      as: (_theme$button3 = theme.button) == null || (_theme$button3 = _theme$button3.busy) == null || (_theme$button3 = _theme$button3.icons) == null ? void 0 : _theme$button3.success\n    })), /*#__PURE__*/React.createElement(StyledBusyContents, {\n      animating: busy || success\n    }, contents));\n  }\n  var styledButtonResult;\n  if (kind) {\n    styledButtonResult = /*#__PURE__*/React.createElement(StyledButtonKind, _extends({}, rest, {\n      as: domTag,\n      ref: ref,\n      active: active,\n      align: align,\n      \"aria-label\": ariaLabel || a11yTitle,\n      busy: busy,\n      badge: badgeProp,\n      colorValue: color,\n      disabled: disabled,\n      hasIcon: !!icon,\n      gap: gap,\n      hasLabel: !!label,\n      icon: icon,\n      fillContainer: fill,\n      focus: focus,\n      focusIndicator: focusIndicator,\n      href: href,\n      kind: kind,\n      themePaths: themePaths,\n      onClick: !busy && !success ? onClick : undefined,\n      onFocus: function onFocus(event) {\n        setFocus(true);\n        if (_onFocus) _onFocus(event);\n      },\n      onBlur: function onBlur(event) {\n        setFocus(false);\n        if (_onBlur) _onBlur(event);\n      },\n      onMouseOver: onMouseOverButton,\n      onMouseOut: onMouseOutButton,\n      pad: pad,\n      plain: plain || Children.count(children) > 0,\n      primary: primary,\n      selected: selected,\n      sizeProp: size,\n      success: success,\n      type: !href ? type : undefined\n    }, passThemeFlag), contents);\n  } else {\n    styledButtonResult = /*#__PURE__*/React.createElement(StyledButton, _extends({}, rest, {\n      as: domTag,\n      ref: ref,\n      \"aria-label\": ariaLabel || a11yTitle,\n      busy: busy,\n      colorValue: color,\n      active: active,\n      selected: selected,\n      disabled: disabled,\n      hasIcon: !!icon,\n      gap: gap,\n      hasLabel: !!label,\n      fillContainer: fill,\n      focus: focus,\n      focusIndicator: focusIndicator,\n      href: href,\n      kind: kind,\n      themePaths: themePaths,\n      onClick: !busy && !success ? onClick : undefined,\n      onFocus: function onFocus(event) {\n        setFocus(true);\n        if (_onFocus) _onFocus(event);\n      },\n      onBlur: function onBlur(event) {\n        setFocus(false);\n        if (_onBlur) _onBlur(event);\n      },\n      onMouseOver: onMouseOverButton,\n      onMouseOut: onMouseOutButton,\n      pad: pad || !plain,\n      plain: typeof plain !== 'undefined' ? plain : Children.count(children) > 0 || icon && !label,\n      primary: primary,\n      sizeProp: size,\n      success: success,\n      type: !href ? type : undefined\n    }, passThemeFlag), contents);\n  }\n  if (tip) {\n    if (typeof tip === 'string') {\n      styledButtonResult = /*#__PURE__*/React.createElement(Tip, {\n        content: tip\n      }, styledButtonResult);\n    } else {\n      styledButtonResult = /*#__PURE__*/React.createElement(Tip, tip, styledButtonResult);\n    }\n  }\n\n  // if button has background or border, place badge relative\n  // to outer edge of button\n  if (badgeProp && !innerBadge) {\n    styledButtonResult = /*#__PURE__*/React.createElement(Badge, {\n      content: badgeProp\n    }, styledButtonResult);\n  }\n  return styledButtonResult;\n});\nButton.displayName = 'Button';\nButton.propTypes = ButtonPropTypes;\nexport { Button };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}