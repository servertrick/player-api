{"ast":null,"code":"import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { FormSearch } from 'grommet-icons/icons/FormSearch';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { TextInput } from '../TextInput';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { normalizeColor } from '../../utils';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar Searcher = function Searcher(_ref) {\n  var _theme$dataTable, _theme$dataTable$sear, _theme$dataTable$sear2;\n  var filtering = _ref.filtering,\n    filters = _ref.filters,\n    focusIndicator = _ref.focusIndicator,\n    messages = _ref.messages,\n    onFilter = _ref.onFilter,\n    onFiltering = _ref.onFiltering,\n    property = _ref.property;\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme;\n  var inputRef = useRef();\n  var buttonRef = useRef();\n  var needsFocus = filtering === property;\n  var _useState = useState(false),\n    buttonNeedsFocus = _useState[0],\n    setButtonNeedsFocus = _useState[1];\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  var SearchIcon = ((_theme$dataTable = theme.dataTable) == null || (_theme$dataTable = _theme$dataTable.icons) == null ? void 0 : _theme$dataTable.search) || FormSearch;\n  useEffect(function () {\n    if (inputRef && needsFocus) {\n      inputRef.current.focus();\n    }\n  }, [needsFocus, inputRef]);\n\n  // Focus the button after closing the search\n  useEffect(function () {\n    if (buttonNeedsFocus && buttonRef.current) {\n      buttonRef.current.focus();\n      setButtonNeedsFocus(false);\n    }\n  }, [buttonNeedsFocus]);\n  var a11yTitle = format({\n    id: 'dataTable.searchBy',\n    messages: messages,\n    values: {\n      property: property\n    }\n  });\n  return filtering === property ? /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: function onEsc() {\n      onFiltering(undefined);\n      setButtonNeedsFocus(true);\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: {\n      min: 'xsmall'\n    },\n    flex: true\n    // padding right is not needed any longer. There is margin\n    // right set already on the container, see Header.js\n    ,\n\n    pad: (_theme$dataTable$sear = theme.dataTable.search) == null ? void 0 : _theme$dataTable$sear.pad\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    name: \"search-\" + property,\n    a11yTitle: a11yTitle,\n    ref: inputRef,\n    value: filters[property],\n    onChange: function onChange(event) {\n      return onFilter(property, event.target.value);\n    },\n    onBlur: function onBlur() {\n      return onFiltering(undefined);\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, filters[property] ? /*#__PURE__*/React.createElement(Box, {\n    flex: false,\n    pad: (_theme$dataTable$sear2 = theme.dataTable.search) == null || (_theme$dataTable$sear2 = _theme$dataTable$sear2.text) == null ? void 0 : _theme$dataTable$sear2.pad,\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Text, null, filters[property])) : null, /*#__PURE__*/React.createElement(Button, {\n    ref: buttonRef,\n    a11yTitle: a11yTitle,\n    icon: /*#__PURE__*/React.createElement(SearchIcon, {\n      color: normalizeColor(filtering === property ? 'brand' : 'border', theme)\n    }),\n    hoverIndicator: true,\n    focusIndicator: focusIndicator,\n    onClick: function onClick() {\n      return onFiltering(filtering === property ? undefined : property);\n    }\n  }));\n};\nSearcher.displayName = 'Searcher';\nexport { Searcher };","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","FormSearch","Box","Button","Keyboard","Text","TextInput","MessageContext","normalizeColor","useThemeValue","Searcher","_ref","_theme$dataTable","_theme$dataTable$sear","_theme$dataTable$sear2","filtering","filters","focusIndicator","messages","onFilter","onFiltering","property","_useThemeValue","theme","inputRef","buttonRef","needsFocus","_useState","buttonNeedsFocus","setButtonNeedsFocus","_useContext","format","SearchIcon","dataTable","icons","search","current","focus","a11yTitle","id","values","createElement","onEsc","undefined","width","min","flex","pad","name","ref","value","onChange","event","target","onBlur","Fragment","text","direction","align","icon","color","hoverIndicator","onClick","displayName"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/DataTable/Searcher.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { FormSearch } from 'grommet-icons/icons/FormSearch';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { TextInput } from '../TextInput';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { normalizeColor } from '../../utils';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar Searcher = function Searcher(_ref) {\n  var _theme$dataTable, _theme$dataTable$sear, _theme$dataTable$sear2;\n  var filtering = _ref.filtering,\n    filters = _ref.filters,\n    focusIndicator = _ref.focusIndicator,\n    messages = _ref.messages,\n    onFilter = _ref.onFilter,\n    onFiltering = _ref.onFiltering,\n    property = _ref.property;\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme;\n  var inputRef = useRef();\n  var buttonRef = useRef();\n  var needsFocus = filtering === property;\n  var _useState = useState(false),\n    buttonNeedsFocus = _useState[0],\n    setButtonNeedsFocus = _useState[1];\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  var SearchIcon = ((_theme$dataTable = theme.dataTable) == null || (_theme$dataTable = _theme$dataTable.icons) == null ? void 0 : _theme$dataTable.search) || FormSearch;\n  useEffect(function () {\n    if (inputRef && needsFocus) {\n      inputRef.current.focus();\n    }\n  }, [needsFocus, inputRef]);\n\n  // Focus the button after closing the search\n  useEffect(function () {\n    if (buttonNeedsFocus && buttonRef.current) {\n      buttonRef.current.focus();\n      setButtonNeedsFocus(false);\n    }\n  }, [buttonNeedsFocus]);\n  var a11yTitle = format({\n    id: 'dataTable.searchBy',\n    messages: messages,\n    values: {\n      property: property\n    }\n  });\n  return filtering === property ? /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: function onEsc() {\n      onFiltering(undefined);\n      setButtonNeedsFocus(true);\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    width: {\n      min: 'xsmall'\n    },\n    flex: true\n    // padding right is not needed any longer. There is margin\n    // right set already on the container, see Header.js\n    ,\n    pad: (_theme$dataTable$sear = theme.dataTable.search) == null ? void 0 : _theme$dataTable$sear.pad\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    name: \"search-\" + property,\n    a11yTitle: a11yTitle,\n    ref: inputRef,\n    value: filters[property],\n    onChange: function onChange(event) {\n      return onFilter(property, event.target.value);\n    },\n    onBlur: function onBlur() {\n      return onFiltering(undefined);\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, filters[property] ? /*#__PURE__*/React.createElement(Box, {\n    flex: false,\n    pad: (_theme$dataTable$sear2 = theme.dataTable.search) == null || (_theme$dataTable$sear2 = _theme$dataTable$sear2.text) == null ? void 0 : _theme$dataTable$sear2.pad,\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Text, null, filters[property])) : null, /*#__PURE__*/React.createElement(Button, {\n    ref: buttonRef,\n    a11yTitle: a11yTitle,\n    icon: /*#__PURE__*/React.createElement(SearchIcon, {\n      color: normalizeColor(filtering === property ? 'brand' : 'border', theme)\n    }),\n    hoverIndicator: true,\n    focusIndicator: focusIndicator,\n    onClick: function onClick() {\n      return onFiltering(filtering === property ? undefined : property);\n    }\n  }));\n};\nSearcher.displayName = 'Searcher';\nexport { Searcher };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}