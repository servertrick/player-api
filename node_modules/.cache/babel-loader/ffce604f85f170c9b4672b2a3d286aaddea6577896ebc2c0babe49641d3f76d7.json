{"ast":null,"code":"var _excluded = [\"hidden\", \"restrictScroll\", \"children\", \"trapFocus\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { useEffect, useRef, useState } from 'react';\nimport { makeNodeFocusable, makeNodeUnfocusable } from '../utils';\nimport { RootsContext, useRoots } from '../contexts/RootsContext';\nvar isFocusable = function isFocusable(element) {\n  if ((element == null ? void 0 : element.tabIndex) < 0 || element != null && element.disabled) {\n    return false;\n  }\n  switch (element == null ? void 0 : element.nodeName) {\n    case 'A':\n      return !!element.href && element.rel !== 'ignore';\n    case 'INPUT':\n      return element.type !== 'hidden';\n    case 'BUTTON':\n    case 'SELECT':\n    case 'TEXTAREA':\n      return true;\n    case 'DIV':\n      return element.tabIndex >= 0;\n    default:\n      return false;\n  }\n};\nexport var FocusedContainer = function FocusedContainer(_ref) {\n  var _ref$hidden = _ref.hidden,\n    hidden = _ref$hidden === void 0 ? false : _ref$hidden,\n    _ref$restrictScroll = _ref.restrictScroll,\n    restrictScroll = _ref$restrictScroll === void 0 ? false : _ref$restrictScroll,\n    children = _ref.children,\n    trapFocus = _ref.trapFocus,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useState = useState(''),\n    bodyOverflowStyle = _useState[0],\n    setBodyOverflowStyle = _useState[1];\n  var ref = useRef(null);\n  var preNodeRef = useRef(null);\n  var postNodeRef = useRef(null);\n  var _useRoots = useRoots(),\n    contextValue = _useRoots.contextValue,\n    hasRoots = _useRoots.hasRoots;\n  var contextRoots = contextValue.roots;\n  // When attemptFocus moves focus around to find the focusable element,\n  // set this to true so handleTrapFocus doesn't focus the element.\n  var ignoreUtilFocusRef = useRef(false);\n  var lastFocusRef = useRef(null);\n  useEffect(function () {\n    var container = ref.current;\n    var roots = contextRoots.current;\n    var attemptFocus = function attemptFocus(element) {\n      // Check if the element is focusable; if not, return false\n      if (!isFocusable(element)) {\n        return false;\n      }\n      ignoreUtilFocusRef.current = true;\n      try {\n        element.focus();\n      } catch (_unused) {\n        // continue regardless of error\n      }\n      ignoreUtilFocusRef.current = false;\n      // Return true if the element is currently the active element or has focus\n      return document.activeElement === element;\n    };\n    var _focusFirstDescendant = function focusFirstDescendant(element) {\n      // Iterate through all child nodes of the provided element\n      for (var i = 0; i < element.childNodes.length; i += 1) {\n        var child = element.childNodes[i];\n        if (attemptFocus(child) || _focusFirstDescendant(child)) return true;\n      }\n      // If no focusable child or descendant was found, return false\n      return false;\n    };\n    var _focusLastDescendant = function focusLastDescendant(element) {\n      for (var i = element.childNodes.length - 1; i >= 0; i -= 1) {\n        var child = element.childNodes[i];\n        if (attemptFocus(child) || _focusLastDescendant(child)) return true;\n      }\n      return false;\n    };\n    var handleTrapFocus = function handleTrapFocus(e) {\n      if (!hidden && trapFocus && ignoreUtilFocusRef.current === false && container &&\n      // only perform focus if this is the most recently opened drop\n      roots[roots.length - 1] === container) {\n        if (container.contains(e.target)) {\n          lastFocusRef.current = e.target;\n        } else {\n          _focusFirstDescendant(container);\n          if (lastFocusRef.current === document.activeElement) {\n            _focusLastDescendant(container);\n          }\n          lastFocusRef.current = document.activeElement;\n        }\n      }\n    };\n\n    // add container to the global roots\n    if (container) roots.push(container);\n\n    // Create and insert focusable nodes to help track when focus\n    // has left this container but without letting focus be noticeably\n    // placed on anything outside the container\n    if (!hidden && trapFocus) {\n      var preDiv = document.createElement('div');\n      var postDiv = document.createElement('div');\n      var commonStyles = {\n        position: 'absolute',\n        height: '1px',\n        left: '0',\n        right: '0'\n      };\n      Object.assign(preDiv.style, _extends({}, commonStyles, {\n        top: '0'\n      }));\n      Object.assign(postDiv.style, _extends({}, commonStyles, {\n        bottom: '0'\n      }));\n      preNodeRef.current = container.parentNode.insertBefore(preDiv, container);\n      postNodeRef.current = container.parentNode.insertBefore(postDiv, container.nextSibling);\n      preNodeRef.current.tabIndex = 0;\n      postNodeRef.current.tabIndex = 0;\n    }\n    document.addEventListener('focus', handleTrapFocus, true);\n    return function () {\n      var _preNodeRef$current, _postNodeRef$current;\n      // remove from global roots array\n      if (roots.includes(container)) roots.splice(roots.indexOf(container), 1);\n      document.removeEventListener('focus', handleTrapFocus, true);\n      if (roots != null && roots[roots.length - 1]) makeNodeFocusable(roots[roots.length - 1]);\n      preNodeRef == null || (_preNodeRef$current = preNodeRef.current) == null || _preNodeRef$current.remove();\n      postNodeRef == null || (_postNodeRef$current = postNodeRef.current) == null || _postNodeRef$current.remove();\n    };\n  }, [hidden, contextRoots, trapFocus]);\n  useEffect(function () {\n    if (bodyOverflowStyle !== 'hidden' && !hidden && restrictScroll && trapFocus) {\n      setBodyOverflowStyle(document.body.style.overflow);\n      document.body.style.overflow = 'hidden';\n    }\n    return function () {\n      if (bodyOverflowStyle !== 'hidden' && !hidden && restrictScroll && trapFocus) {\n        document.body.style.overflow = bodyOverflowStyle;\n      }\n    };\n  }, [bodyOverflowStyle, hidden, trapFocus, restrictScroll]);\n  useEffect(function () {\n    var roots = contextRoots.current;\n    var timer = setTimeout(function () {\n      if (!hidden && trapFocus) {\n        // make every root before this one unfocusable\n        roots == null || roots.forEach(function (root, index) {\n          if (index < roots.length - 1) makeNodeUnfocusable(root);\n        });\n      }\n    }, 0);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [hidden, contextRoots, trapFocus]);\n  var focusedContainer = /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    \"aria-hidden\": hidden\n  }, rest), children);\n  if (hasRoots) return focusedContainer;\n  return (/*#__PURE__*/\n    // for cases outside of Grommet React tree, manage trapFocus when\n    // Drop/Layer opens another Drop/Layer\n    React.createElement(RootsContext.Provider, {\n      value: contextValue\n    }, focusedContainer)\n  );\n};","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","useEffect","useRef","useState","makeNodeFocusable","makeNodeUnfocusable","RootsContext","useRoots","isFocusable","element","tabIndex","disabled","nodeName","href","rel","type","FocusedContainer","_ref","_ref$hidden","hidden","_ref$restrictScroll","restrictScroll","children","trapFocus","rest","_useState","bodyOverflowStyle","setBodyOverflowStyle","ref","preNodeRef","postNodeRef","_useRoots","contextValue","hasRoots","contextRoots","roots","ignoreUtilFocusRef","lastFocusRef","container","current","attemptFocus","focus","_unused","document","activeElement","_focusFirstDescendant","focusFirstDescendant","i","childNodes","child","_focusLastDescendant","focusLastDescendant","handleTrapFocus","contains","target","push","preDiv","createElement","postDiv","commonStyles","position","height","left","right","style","top","bottom","parentNode","insertBefore","nextSibling","addEventListener","_preNodeRef$current","_postNodeRef$current","includes","splice","removeEventListener","remove","body","overflow","timer","setTimeout","forEach","root","index","clearTimeout","focusedContainer","Provider","value"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/FocusedContainer.js"],"sourcesContent":["var _excluded = [\"hidden\", \"restrictScroll\", \"children\", \"trapFocus\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React, { useEffect, useRef, useState } from 'react';\nimport { makeNodeFocusable, makeNodeUnfocusable } from '../utils';\nimport { RootsContext, useRoots } from '../contexts/RootsContext';\nvar isFocusable = function isFocusable(element) {\n  if ((element == null ? void 0 : element.tabIndex) < 0 || element != null && element.disabled) {\n    return false;\n  }\n  switch (element == null ? void 0 : element.nodeName) {\n    case 'A':\n      return !!element.href && element.rel !== 'ignore';\n    case 'INPUT':\n      return element.type !== 'hidden';\n    case 'BUTTON':\n    case 'SELECT':\n    case 'TEXTAREA':\n      return true;\n    case 'DIV':\n      return element.tabIndex >= 0;\n    default:\n      return false;\n  }\n};\nexport var FocusedContainer = function FocusedContainer(_ref) {\n  var _ref$hidden = _ref.hidden,\n    hidden = _ref$hidden === void 0 ? false : _ref$hidden,\n    _ref$restrictScroll = _ref.restrictScroll,\n    restrictScroll = _ref$restrictScroll === void 0 ? false : _ref$restrictScroll,\n    children = _ref.children,\n    trapFocus = _ref.trapFocus,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useState = useState(''),\n    bodyOverflowStyle = _useState[0],\n    setBodyOverflowStyle = _useState[1];\n  var ref = useRef(null);\n  var preNodeRef = useRef(null);\n  var postNodeRef = useRef(null);\n  var _useRoots = useRoots(),\n    contextValue = _useRoots.contextValue,\n    hasRoots = _useRoots.hasRoots;\n  var contextRoots = contextValue.roots;\n  // When attemptFocus moves focus around to find the focusable element,\n  // set this to true so handleTrapFocus doesn't focus the element.\n  var ignoreUtilFocusRef = useRef(false);\n  var lastFocusRef = useRef(null);\n  useEffect(function () {\n    var container = ref.current;\n    var roots = contextRoots.current;\n    var attemptFocus = function attemptFocus(element) {\n      // Check if the element is focusable; if not, return false\n      if (!isFocusable(element)) {\n        return false;\n      }\n      ignoreUtilFocusRef.current = true;\n      try {\n        element.focus();\n      } catch (_unused) {\n        // continue regardless of error\n      }\n      ignoreUtilFocusRef.current = false;\n      // Return true if the element is currently the active element or has focus\n      return document.activeElement === element;\n    };\n    var _focusFirstDescendant = function focusFirstDescendant(element) {\n      // Iterate through all child nodes of the provided element\n      for (var i = 0; i < element.childNodes.length; i += 1) {\n        var child = element.childNodes[i];\n        if (attemptFocus(child) || _focusFirstDescendant(child)) return true;\n      }\n      // If no focusable child or descendant was found, return false\n      return false;\n    };\n    var _focusLastDescendant = function focusLastDescendant(element) {\n      for (var i = element.childNodes.length - 1; i >= 0; i -= 1) {\n        var child = element.childNodes[i];\n        if (attemptFocus(child) || _focusLastDescendant(child)) return true;\n      }\n      return false;\n    };\n    var handleTrapFocus = function handleTrapFocus(e) {\n      if (!hidden && trapFocus && ignoreUtilFocusRef.current === false && container &&\n      // only perform focus if this is the most recently opened drop\n      roots[roots.length - 1] === container) {\n        if (container.contains(e.target)) {\n          lastFocusRef.current = e.target;\n        } else {\n          _focusFirstDescendant(container);\n          if (lastFocusRef.current === document.activeElement) {\n            _focusLastDescendant(container);\n          }\n          lastFocusRef.current = document.activeElement;\n        }\n      }\n    };\n\n    // add container to the global roots\n    if (container) roots.push(container);\n\n    // Create and insert focusable nodes to help track when focus\n    // has left this container but without letting focus be noticeably\n    // placed on anything outside the container\n    if (!hidden && trapFocus) {\n      var preDiv = document.createElement('div');\n      var postDiv = document.createElement('div');\n      var commonStyles = {\n        position: 'absolute',\n        height: '1px',\n        left: '0',\n        right: '0'\n      };\n      Object.assign(preDiv.style, _extends({}, commonStyles, {\n        top: '0'\n      }));\n      Object.assign(postDiv.style, _extends({}, commonStyles, {\n        bottom: '0'\n      }));\n      preNodeRef.current = container.parentNode.insertBefore(preDiv, container);\n      postNodeRef.current = container.parentNode.insertBefore(postDiv, container.nextSibling);\n      preNodeRef.current.tabIndex = 0;\n      postNodeRef.current.tabIndex = 0;\n    }\n    document.addEventListener('focus', handleTrapFocus, true);\n    return function () {\n      var _preNodeRef$current, _postNodeRef$current;\n      // remove from global roots array\n      if (roots.includes(container)) roots.splice(roots.indexOf(container), 1);\n      document.removeEventListener('focus', handleTrapFocus, true);\n      if (roots != null && roots[roots.length - 1]) makeNodeFocusable(roots[roots.length - 1]);\n      preNodeRef == null || (_preNodeRef$current = preNodeRef.current) == null || _preNodeRef$current.remove();\n      postNodeRef == null || (_postNodeRef$current = postNodeRef.current) == null || _postNodeRef$current.remove();\n    };\n  }, [hidden, contextRoots, trapFocus]);\n  useEffect(function () {\n    if (bodyOverflowStyle !== 'hidden' && !hidden && restrictScroll && trapFocus) {\n      setBodyOverflowStyle(document.body.style.overflow);\n      document.body.style.overflow = 'hidden';\n    }\n    return function () {\n      if (bodyOverflowStyle !== 'hidden' && !hidden && restrictScroll && trapFocus) {\n        document.body.style.overflow = bodyOverflowStyle;\n      }\n    };\n  }, [bodyOverflowStyle, hidden, trapFocus, restrictScroll]);\n  useEffect(function () {\n    var roots = contextRoots.current;\n    var timer = setTimeout(function () {\n      if (!hidden && trapFocus) {\n        // make every root before this one unfocusable\n        roots == null || roots.forEach(function (root, index) {\n          if (index < roots.length - 1) makeNodeUnfocusable(root);\n        });\n      }\n    }, 0);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [hidden, contextRoots, trapFocus]);\n  var focusedContainer = /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    \"aria-hidden\": hidden\n  }, rest), children);\n  if (hasRoots) return focusedContainer;\n  return (\n    /*#__PURE__*/\n    // for cases outside of Grommet React tree, manage trapFocus when\n    // Drop/Layer opens another Drop/Layer\n    React.createElement(RootsContext.Provider, {\n      value: contextValue\n    }, focusedContainer)\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}