{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"aria-label\", \"children\", \"disabled\", \"dropAlign\", \"dropBackground\", \"dropProps\", \"dropTarget\", \"justifyContent\", \"icon\", \"items\", \"label\", \"messages\", \"onKeyDown\", \"open\", \"plain\", \"size\"],\n  _excluded2 = [\"align\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { useRef, forwardRef, useCallback, useContext, useMemo, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { normalizeColor } from '../../utils';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { MenuPropTypes } from './propTypes';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"Menu__ContainerBox\",\n  componentId: \"sc-17fcys9-0\"\n})([\"max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}&:focus{outline:none;}\", \";\"], function (props) {\n  return props.theme.menu.extend;\n});\n\n/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu\n\nTo open menu when menu button is focused:\n- Space/Enter/Up arrow/Down arrow will open menu\n\nTo navigate within menu:\n- Up/down arrow keys can be used and will loop through options\n(keeping focus within the Menu)\n- Tab can be used, but once the last menu item is reached, Tab will close the\nMenu and continue through page content.\n\nTo close the menu:\n- Tabbing beyond the first or last menu item.\n- Esc will close the menu\n- Select a menu item\n\nTo make a selection:\n- Enter key is pressed.\n- Space is pressed.\n*/\n\nvar defaultItems = [];\nvar Menu = /*#__PURE__*/forwardRef(function (props, ref) {\n  var a11yTitle = props.a11yTitle,\n    ariaLabel = props['aria-label'],\n    children = props.children,\n    disabled = props.disabled,\n    dropAlign = props.dropAlign,\n    dropBackground = props.dropBackground,\n    dropProps = props.dropProps,\n    dropTarget = props.dropTarget,\n    _props$justifyContent = props.justifyContent,\n    justifyContent = _props$justifyContent === void 0 ? 'start' : _props$justifyContent,\n    icon = props.icon,\n    _props$items = props.items,\n    items = _props$items === void 0 ? defaultItems : _props$items,\n    label = props.label,\n    messages = props.messages,\n    onKeyDown = props.onKeyDown,\n    open = props.open,\n    plain = props.plain,\n    size = props.size,\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme,\n    passThemeFlag = _useThemeValue.passThemeFlag;\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  var iconColor = normalizeColor(theme.menu.icons.color || 'control', theme);\n  // need to destructure the align otherwise it will get passed through\n  // to DropButton and override prop values\n  var _theme$menu$drop = theme.menu.drop,\n    themeDropAlign = _theme$menu$drop.align,\n    themeDropProps = _objectWithoutPropertiesLoose(_theme$menu$drop, _excluded2);\n  var a11y = ariaLabel || a11yTitle;\n\n  // total number of menu items\n  var itemCount = useMemo(function () {\n    var count = 0;\n    if (items && Array.isArray(items[0])) {\n      items.forEach(function (group) {\n        count += group.length;\n      });\n    } else count = items.length;\n    return count;\n  }, [items]);\n  var align = dropProps && dropProps.align || dropAlign || themeDropAlign;\n  var controlButtonIndex = useMemo(function () {\n    if (align.top === 'top') return -1;\n    if (align.bottom === 'bottom') return itemCount;\n    return undefined;\n  }, [align, itemCount]);\n\n  // Keeps track of whether menu options should be mirrored\n  // when there's not enough space below DropButton. This state\n  // is modified on /Drop/DropContainer.js.\n  var _useState = useState(),\n    alignControlMirror = _useState[0],\n    setAlignControlMirror = _useState[1];\n  var initialAlignTop = alignControlMirror === align.top;\n  var dropContainerRef = useRef();\n  var buttonRefs = useRef([]);\n  var constants = useMemo(function () {\n    return {\n      none: 'none',\n      tab: 9,\n      // Menu control button included on top of menu items\n      controlTop: align.top === 'top' || undefined,\n      // Menu control button included on the bottom of menu items\n      controlBottom: align.bottom === 'bottom' || undefined,\n      controlButtonIndex: controlButtonIndex\n    };\n  }, [align, controlButtonIndex]);\n  var _useState2 = useState(constants.none),\n    activeItemIndex = _useState2[0],\n    setActiveItemIndex = _useState2[1];\n  var _useState3 = useState(open || false),\n    isOpen = _useState3[0],\n    setOpen = _useState3[1];\n  var MenuIcon = isOpen && theme.menu.icons.up ? theme.menu.icons.up : theme.menu.icons.down;\n  var onDropClose = useCallback(function () {\n    setActiveItemIndex(constants.none);\n    setOpen(false);\n  }, [constants.none]);\n  var onDropOpen = useCallback(function () {\n    setOpen(true);\n  }, []);\n  useEffect(function () {\n    // need to wait for Drop to be ready\n    var timer = setTimeout(function () {\n      if (isOpen) {\n        var optionsNode = dropContainerRef.current;\n        if (optionsNode) {\n          optionsNode.focus();\n        }\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [isOpen]);\n  var onSelectMenuItem = function onSelectMenuItem(event) {\n    if (isOpen) {\n      if (activeItemIndex >= 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        buttonRefs.current[activeItemIndex].click();\n      }\n    } else {\n      onDropOpen();\n    }\n  };\n  var isTab = function isTab(event) {\n    return event.keyCode === constants.tab || event.which === constants.tab;\n  };\n  var onNextMenuItem = function onNextMenuItem(event) {\n    event.preventDefault();\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === itemCount - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {\n      // User has reached end of the menu, this tab will close\n      // the menu drop because there are no more \"next items\" to access\n      onDropClose();\n    } else {\n      var index;\n      if (\n      // This checks if the user has reached the end of the menu.\n      // In the case the the menu control button is located at the\n      // bottom of the menu, it checks if the user has reached the button.\n      // Otherwise, it checks if the user is at the last menu item.\n      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === itemCount - 1 || activeItemIndex === constants.none) {\n        // place focus on the first menu item\n        index = 0;\n      } else {\n        index = activeItemIndex + 1;\n      }\n      setActiveItemIndex(index);\n      if (buttonRefs.current[index]) {\n        buttonRefs.current[index].focus();\n      }\n    }\n  };\n  var onPreviousMenuItem = function onPreviousMenuItem(event) {\n    event.preventDefault();\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {\n      // User has reached beginning of the menu, this tab will close\n      // the menu drop because there are no more \"previous items\" to access\n      onDropClose();\n    } else {\n      var index;\n      if (activeItemIndex === 'none') {\n        index = itemCount - 1;\n      } else if (activeItemIndex - 1 < 0) {\n        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {\n          index = itemCount;\n        } else {\n          index = itemCount - 1;\n        }\n      } else {\n        index = activeItemIndex - 1;\n      }\n      setActiveItemIndex(index);\n      if (buttonRefs.current[index]) {\n        buttonRefs.current[index].focus();\n      }\n    }\n  };\n  var menuIcon = icon !== false ? icon !== true && icon || /*#__PURE__*/React.createElement(MenuIcon, {\n    color: iconColor,\n    size: size\n  }) : null;\n  var buttonProps = {\n    plain: plain,\n    size: size\n  };\n  var content;\n  if (children) {\n    content = children;\n  } else if (!theme.button[\"default\"]) {\n    /*\n    Not adding a theme object now because this code path\n    is not used in the HPE theme, but we may add theme\n    support here in the future.\n    */\n    content = /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      justify: justifyContent,\n      align: \"center\",\n      pad: \"small\",\n      gap: label && icon !== false ? 'small' : undefined\n    }, /*#__PURE__*/React.createElement(Text, {\n      size: size\n    }, label), menuIcon);\n  } else {\n    // when a theme has theme.button.default, keep content as\n    // undefined so we can rely on Button label & icon props\n    buttonProps = {\n      icon: menuIcon,\n      label: label,\n      plain: plain,\n      reverse: true,\n      size: size\n    };\n    content = undefined;\n  }\n  var controlMirror = /*#__PURE__*/React.createElement(Box, {\n    flex: false\n  }, /*#__PURE__*/React.createElement(Button, _extends({\n    ref: function ref(r) {\n      // make it accessible at the end of all menu items\n      buttonRefs.current[itemCount] = r;\n    },\n    a11yTitle: a11y || format({\n      id: 'menu.closeMenu',\n      messages: messages\n    }),\n    active: activeItemIndex === controlButtonIndex,\n    focusIndicator: false,\n    hoverIndicator: \"background\",\n    onClick: onDropClose,\n    onFocus: function onFocus() {\n      return setActiveItemIndex(controlButtonIndex);\n    }\n    // On first tab into menu, the control button should not\n    // be able to receive tab focus because the focus should\n    // go to the first menu item instead.\n    ,\n\n    tabIndex: activeItemIndex === constants.none ? '-1' : undefined\n  }, theme.menu.item, buttonProps), typeof content === 'function' ? function () {\n    return content(_extends({}, props, {\n      drop: true\n    }));\n  } : content));\n  var menuItem = function menuItem(item, index) {\n    var _theme$menu$item, _theme$menu$item2, _theme$menu$item3, _theme$menu$item4;\n    // Determine whether the label is done as a child or\n    // as an option Button kind property.\n    var child = !theme.button.option ? /*#__PURE__*/\n    /*\n     Not adding a theme object now because this code path\n     is not used in the HPE theme, but we may add theme\n     support here in the future.\n     */\n    React.createElement(Box, {\n      align: ((_theme$menu$item = theme.menu.item) == null ? void 0 : _theme$menu$item.align) || 'start',\n      pad: \"small\",\n      direction: \"row\",\n      gap: item.gap || ((_theme$menu$item2 = theme.menu.item) == null ? void 0 : _theme$menu$item2.gap),\n      justify: item.justify || ((_theme$menu$item3 = theme.menu.item) == null ? void 0 : _theme$menu$item3.justify)\n    }, item.reverse && item.label, item.icon, !item.reverse && item.label) : undefined;\n\n    // if we have a child, turn on plain, and hoverIndicator\n    return (/*#__PURE__*/\n      // lint isn't flagging this but we shouldn't use index as a key\n      // see no-array-index-key lint rule\n      React.createElement(Box, {\n        key: index,\n        flex: false,\n        role: \"none\"\n      }, /*#__PURE__*/React.createElement(Button, _extends({\n        ref: function ref(r) {\n          buttonRefs.current[index] = r;\n        },\n        role: \"menuitem\",\n        onFocus: function onFocus() {\n          setActiveItemIndex(index);\n        },\n        active: activeItemIndex === index,\n        focusIndicator: false,\n        plain: !child ? undefined : true,\n        align: \"start\",\n        kind: !child ? 'option' : undefined,\n        hoverIndicator: !child ? undefined : 'background'\n      }, theme.menu.item, {\n        justify: item.justify || ((_theme$menu$item4 = theme.menu.item) == null ? void 0 : _theme$menu$item4.justify)\n      }, !child ? item : _extends({}, item, {\n        gap: undefined,\n        icon: undefined,\n        label: undefined,\n        reverse: undefined\n      }), {\n        onClick: function onClick() {\n          if (item.onClick) {\n            item.onClick.apply(item, arguments);\n          }\n          if (item.close !== false) {\n            onDropClose();\n          }\n        }\n      }), child))\n    );\n  };\n  var menuContent;\n  var grouped = itemCount && Array.isArray(items[0]);\n  if (grouped) {\n    var index = 0;\n    menuContent = items.map(function (group, groupIndex) {\n      var _theme$menu$group, _theme$menu$group2, _theme$menu$group3;\n      return /*#__PURE__*/React.createElement(Box\n      // eslint-disable-next-line react/no-array-index-key\n      , {\n        key: groupIndex\n        // ensure menu groups don't collapse if vertical space on screen\n        // causes scrolling within the menu\n        ,\n\n        flex: false\n      }, groupIndex > 0 && /*#__PURE__*/React.createElement(Box, {\n        pad: theme.menu.group.separator.pad\n      }, /*#__PURE__*/React.createElement(Box, {\n        border: {\n          side: 'top',\n          color: (_theme$menu$group = theme.menu.group) == null || (_theme$menu$group = _theme$menu$group.separator) == null ? void 0 : _theme$menu$group.color,\n          size: (_theme$menu$group2 = theme.menu.group) == null || (_theme$menu$group2 = _theme$menu$group2.separator) == null ? void 0 : _theme$menu$group2.size\n        }\n      })), /*#__PURE__*/React.createElement(Box, _extends({}, theme.menu.container, (_theme$menu$group3 = theme.menu.group) == null ? void 0 : _theme$menu$group3.container), group.map(function (item) {\n        // item index needs to be its index in the entire menu as if\n        // it were a flat array\n        var currentIndex = index;\n        index += 1;\n        return menuItem(item, currentIndex);\n      })));\n    });\n  } else menuContent = items.map(function (item, index) {\n    return menuItem(item, index);\n  });\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onDropOpen,\n    onUp: onDropOpen,\n    onSpace: onSelectMenuItem,\n    onEsc: onDropClose,\n    onTab: onDropClose,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(DropButton, _extends({\n    ref: ref\n  }, rest, buttonProps, {\n    a11yTitle: a11y || format({\n      id: 'menu.openMenu',\n      messages: messages\n    }),\n    \"aria-haspopup\": \"menu\",\n    \"aria-expanded\": isOpen,\n    onAlign: setAlignControlMirror,\n    disabled: disabled,\n    dropAlign: align,\n    dropTarget: dropTarget,\n    dropProps: dropProps || themeDropProps,\n    open: isOpen,\n    onOpen: onDropOpen,\n    onClose: onDropClose,\n    dropContent: /*#__PURE__*/React.createElement(Keyboard, {\n      onTab: function onTab(event) {\n        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);\n      },\n      onDown: onNextMenuItem,\n      onUp: onPreviousMenuItem,\n      onEnter: onSelectMenuItem\n    }, /*#__PURE__*/React.createElement(ContainerBox, _extends({\n      ref: dropContainerRef,\n      tabIndex: -1,\n      background: dropBackground || theme.menu.background\n    }, passThemeFlag), alignControlMirror === 'top' && align.bottom !== 'top' && align.top !== 'bottom' ? controlMirror : undefined, /*#__PURE__*/React.createElement(Box, _extends({\n      overflow: \"auto\",\n      role: \"menu\",\n      a11yTitle: a11y\n    }, !grouped ? theme.menu.container : {}), menuContent), !initialAlignTop &&\n    // don't show controlMirror if caller is using\n    // align.bottom === 'top'\n    alignControlMirror === 'bottom' && align.bottom !== 'top' && align.top !== 'bottom' ? controlMirror : undefined))\n  }), content));\n});\nMenu.displayName = 'Menu';\nMenu.propTypes = MenuPropTypes;\nexport { Menu };","map":{"version":3,"names":["_excluded","_excluded2","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","useRef","forwardRef","useCallback","useContext","useMemo","useState","useEffect","styled","Box","Button","DropButton","Keyboard","Text","normalizeColor","MessageContext","MenuPropTypes","useThemeValue","ContainerBox","withConfig","displayName","componentId","props","theme","menu","extend","defaultItems","Menu","ref","a11yTitle","ariaLabel","children","disabled","dropAlign","dropBackground","dropProps","dropTarget","_props$justifyContent","justifyContent","icon","_props$items","items","label","messages","onKeyDown","open","plain","size","rest","_useThemeValue","passThemeFlag","_useContext","format","iconColor","icons","color","_theme$menu$drop","drop","themeDropAlign","align","themeDropProps","a11y","itemCount","count","Array","isArray","forEach","group","controlButtonIndex","top","bottom","undefined","_useState","alignControlMirror","setAlignControlMirror","initialAlignTop","dropContainerRef","buttonRefs","constants","none","tab","controlTop","controlBottom","_useState2","activeItemIndex","setActiveItemIndex","_useState3","isOpen","setOpen","MenuIcon","up","down","onDropClose","onDropOpen","timer","setTimeout","optionsNode","current","focus","clearTimeout","onSelectMenuItem","event","preventDefault","stopPropagation","click","isTab","keyCode","which","onNextMenuItem","index","onPreviousMenuItem","menuIcon","createElement","buttonProps","content","button","direction","justify","pad","gap","reverse","controlMirror","flex","id","active","focusIndicator","hoverIndicator","onClick","onFocus","tabIndex","item","menuItem","_theme$menu$item","_theme$menu$item2","_theme$menu$item3","_theme$menu$item4","child","option","key","role","kind","close","menuContent","grouped","map","groupIndex","_theme$menu$group","_theme$menu$group2","_theme$menu$group3","separator","border","side","container","currentIndex","onDown","onUp","onSpace","onEsc","onTab","onAlign","onOpen","onClose","dropContent","shiftKey","onEnter","background","overflow","propTypes"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/Menu/Menu.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"aria-label\", \"children\", \"disabled\", \"dropAlign\", \"dropBackground\", \"dropProps\", \"dropTarget\", \"justifyContent\", \"icon\", \"items\", \"label\", \"messages\", \"onKeyDown\", \"open\", \"plain\", \"size\"],\n  _excluded2 = [\"align\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React, { useRef, forwardRef, useCallback, useContext, useMemo, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { normalizeColor } from '../../utils';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { MenuPropTypes } from './propTypes';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"Menu__ContainerBox\",\n  componentId: \"sc-17fcys9-0\"\n})([\"max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}&:focus{outline:none;}\", \";\"], function (props) {\n  return props.theme.menu.extend;\n});\n\n/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu\n\nTo open menu when menu button is focused:\n- Space/Enter/Up arrow/Down arrow will open menu\n\nTo navigate within menu:\n- Up/down arrow keys can be used and will loop through options\n(keeping focus within the Menu)\n- Tab can be used, but once the last menu item is reached, Tab will close the\nMenu and continue through page content.\n\nTo close the menu:\n- Tabbing beyond the first or last menu item.\n- Esc will close the menu\n- Select a menu item\n\nTo make a selection:\n- Enter key is pressed.\n- Space is pressed.\n*/\n\nvar defaultItems = [];\nvar Menu = /*#__PURE__*/forwardRef(function (props, ref) {\n  var a11yTitle = props.a11yTitle,\n    ariaLabel = props['aria-label'],\n    children = props.children,\n    disabled = props.disabled,\n    dropAlign = props.dropAlign,\n    dropBackground = props.dropBackground,\n    dropProps = props.dropProps,\n    dropTarget = props.dropTarget,\n    _props$justifyContent = props.justifyContent,\n    justifyContent = _props$justifyContent === void 0 ? 'start' : _props$justifyContent,\n    icon = props.icon,\n    _props$items = props.items,\n    items = _props$items === void 0 ? defaultItems : _props$items,\n    label = props.label,\n    messages = props.messages,\n    onKeyDown = props.onKeyDown,\n    open = props.open,\n    plain = props.plain,\n    size = props.size,\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme,\n    passThemeFlag = _useThemeValue.passThemeFlag;\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  var iconColor = normalizeColor(theme.menu.icons.color || 'control', theme);\n  // need to destructure the align otherwise it will get passed through\n  // to DropButton and override prop values\n  var _theme$menu$drop = theme.menu.drop,\n    themeDropAlign = _theme$menu$drop.align,\n    themeDropProps = _objectWithoutPropertiesLoose(_theme$menu$drop, _excluded2);\n  var a11y = ariaLabel || a11yTitle;\n\n  // total number of menu items\n  var itemCount = useMemo(function () {\n    var count = 0;\n    if (items && Array.isArray(items[0])) {\n      items.forEach(function (group) {\n        count += group.length;\n      });\n    } else count = items.length;\n    return count;\n  }, [items]);\n  var align = dropProps && dropProps.align || dropAlign || themeDropAlign;\n  var controlButtonIndex = useMemo(function () {\n    if (align.top === 'top') return -1;\n    if (align.bottom === 'bottom') return itemCount;\n    return undefined;\n  }, [align, itemCount]);\n\n  // Keeps track of whether menu options should be mirrored\n  // when there's not enough space below DropButton. This state\n  // is modified on /Drop/DropContainer.js.\n  var _useState = useState(),\n    alignControlMirror = _useState[0],\n    setAlignControlMirror = _useState[1];\n  var initialAlignTop = alignControlMirror === align.top;\n  var dropContainerRef = useRef();\n  var buttonRefs = useRef([]);\n  var constants = useMemo(function () {\n    return {\n      none: 'none',\n      tab: 9,\n      // Menu control button included on top of menu items\n      controlTop: align.top === 'top' || undefined,\n      // Menu control button included on the bottom of menu items\n      controlBottom: align.bottom === 'bottom' || undefined,\n      controlButtonIndex: controlButtonIndex\n    };\n  }, [align, controlButtonIndex]);\n  var _useState2 = useState(constants.none),\n    activeItemIndex = _useState2[0],\n    setActiveItemIndex = _useState2[1];\n  var _useState3 = useState(open || false),\n    isOpen = _useState3[0],\n    setOpen = _useState3[1];\n  var MenuIcon = isOpen && theme.menu.icons.up ? theme.menu.icons.up : theme.menu.icons.down;\n  var onDropClose = useCallback(function () {\n    setActiveItemIndex(constants.none);\n    setOpen(false);\n  }, [constants.none]);\n  var onDropOpen = useCallback(function () {\n    setOpen(true);\n  }, []);\n  useEffect(function () {\n    // need to wait for Drop to be ready\n    var timer = setTimeout(function () {\n      if (isOpen) {\n        var optionsNode = dropContainerRef.current;\n        if (optionsNode) {\n          optionsNode.focus();\n        }\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [isOpen]);\n  var onSelectMenuItem = function onSelectMenuItem(event) {\n    if (isOpen) {\n      if (activeItemIndex >= 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        buttonRefs.current[activeItemIndex].click();\n      }\n    } else {\n      onDropOpen();\n    }\n  };\n  var isTab = function isTab(event) {\n    return event.keyCode === constants.tab || event.which === constants.tab;\n  };\n  var onNextMenuItem = function onNextMenuItem(event) {\n    event.preventDefault();\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === itemCount - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {\n      // User has reached end of the menu, this tab will close\n      // the menu drop because there are no more \"next items\" to access\n      onDropClose();\n    } else {\n      var index;\n      if (\n      // This checks if the user has reached the end of the menu.\n      // In the case the the menu control button is located at the\n      // bottom of the menu, it checks if the user has reached the button.\n      // Otherwise, it checks if the user is at the last menu item.\n      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === itemCount - 1 || activeItemIndex === constants.none) {\n        // place focus on the first menu item\n        index = 0;\n      } else {\n        index = activeItemIndex + 1;\n      }\n      setActiveItemIndex(index);\n      if (buttonRefs.current[index]) {\n        buttonRefs.current[index].focus();\n      }\n    }\n  };\n  var onPreviousMenuItem = function onPreviousMenuItem(event) {\n    event.preventDefault();\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {\n      // User has reached beginning of the menu, this tab will close\n      // the menu drop because there are no more \"previous items\" to access\n      onDropClose();\n    } else {\n      var index;\n      if (activeItemIndex === 'none') {\n        index = itemCount - 1;\n      } else if (activeItemIndex - 1 < 0) {\n        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {\n          index = itemCount;\n        } else {\n          index = itemCount - 1;\n        }\n      } else {\n        index = activeItemIndex - 1;\n      }\n      setActiveItemIndex(index);\n      if (buttonRefs.current[index]) {\n        buttonRefs.current[index].focus();\n      }\n    }\n  };\n  var menuIcon = icon !== false ? icon !== true && icon || /*#__PURE__*/React.createElement(MenuIcon, {\n    color: iconColor,\n    size: size\n  }) : null;\n  var buttonProps = {\n    plain: plain,\n    size: size\n  };\n  var content;\n  if (children) {\n    content = children;\n  } else if (!theme.button[\"default\"]) {\n    /*\n    Not adding a theme object now because this code path\n    is not used in the HPE theme, but we may add theme\n    support here in the future.\n    */\n    content = /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      justify: justifyContent,\n      align: \"center\",\n      pad: \"small\",\n      gap: label && icon !== false ? 'small' : undefined\n    }, /*#__PURE__*/React.createElement(Text, {\n      size: size\n    }, label), menuIcon);\n  } else {\n    // when a theme has theme.button.default, keep content as\n    // undefined so we can rely on Button label & icon props\n    buttonProps = {\n      icon: menuIcon,\n      label: label,\n      plain: plain,\n      reverse: true,\n      size: size\n    };\n    content = undefined;\n  }\n  var controlMirror = /*#__PURE__*/React.createElement(Box, {\n    flex: false\n  }, /*#__PURE__*/React.createElement(Button, _extends({\n    ref: function ref(r) {\n      // make it accessible at the end of all menu items\n      buttonRefs.current[itemCount] = r;\n    },\n    a11yTitle: a11y || format({\n      id: 'menu.closeMenu',\n      messages: messages\n    }),\n    active: activeItemIndex === controlButtonIndex,\n    focusIndicator: false,\n    hoverIndicator: \"background\",\n    onClick: onDropClose,\n    onFocus: function onFocus() {\n      return setActiveItemIndex(controlButtonIndex);\n    }\n    // On first tab into menu, the control button should not\n    // be able to receive tab focus because the focus should\n    // go to the first menu item instead.\n    ,\n    tabIndex: activeItemIndex === constants.none ? '-1' : undefined\n  }, theme.menu.item, buttonProps), typeof content === 'function' ? function () {\n    return content(_extends({}, props, {\n      drop: true\n    }));\n  } : content));\n  var menuItem = function menuItem(item, index) {\n    var _theme$menu$item, _theme$menu$item2, _theme$menu$item3, _theme$menu$item4;\n    // Determine whether the label is done as a child or\n    // as an option Button kind property.\n    var child = !theme.button.option ?\n    /*#__PURE__*/\n    /*\n     Not adding a theme object now because this code path\n     is not used in the HPE theme, but we may add theme\n     support here in the future.\n     */\n    React.createElement(Box, {\n      align: ((_theme$menu$item = theme.menu.item) == null ? void 0 : _theme$menu$item.align) || 'start',\n      pad: \"small\",\n      direction: \"row\",\n      gap: item.gap || ((_theme$menu$item2 = theme.menu.item) == null ? void 0 : _theme$menu$item2.gap),\n      justify: item.justify || ((_theme$menu$item3 = theme.menu.item) == null ? void 0 : _theme$menu$item3.justify)\n    }, item.reverse && item.label, item.icon, !item.reverse && item.label) : undefined;\n\n    // if we have a child, turn on plain, and hoverIndicator\n    return (\n      /*#__PURE__*/\n      // lint isn't flagging this but we shouldn't use index as a key\n      // see no-array-index-key lint rule\n      React.createElement(Box, {\n        key: index,\n        flex: false,\n        role: \"none\"\n      }, /*#__PURE__*/React.createElement(Button, _extends({\n        ref: function ref(r) {\n          buttonRefs.current[index] = r;\n        },\n        role: \"menuitem\",\n        onFocus: function onFocus() {\n          setActiveItemIndex(index);\n        },\n        active: activeItemIndex === index,\n        focusIndicator: false,\n        plain: !child ? undefined : true,\n        align: \"start\",\n        kind: !child ? 'option' : undefined,\n        hoverIndicator: !child ? undefined : 'background'\n      }, theme.menu.item, {\n        justify: item.justify || ((_theme$menu$item4 = theme.menu.item) == null ? void 0 : _theme$menu$item4.justify)\n      }, !child ? item : _extends({}, item, {\n        gap: undefined,\n        icon: undefined,\n        label: undefined,\n        reverse: undefined\n      }), {\n        onClick: function onClick() {\n          if (item.onClick) {\n            item.onClick.apply(item, arguments);\n          }\n          if (item.close !== false) {\n            onDropClose();\n          }\n        }\n      }), child))\n    );\n  };\n  var menuContent;\n  var grouped = itemCount && Array.isArray(items[0]);\n  if (grouped) {\n    var index = 0;\n    menuContent = items.map(function (group, groupIndex) {\n      var _theme$menu$group, _theme$menu$group2, _theme$menu$group3;\n      return /*#__PURE__*/React.createElement(Box\n      // eslint-disable-next-line react/no-array-index-key\n      , {\n        key: groupIndex\n        // ensure menu groups don't collapse if vertical space on screen\n        // causes scrolling within the menu\n        ,\n        flex: false\n      }, groupIndex > 0 && /*#__PURE__*/React.createElement(Box, {\n        pad: theme.menu.group.separator.pad\n      }, /*#__PURE__*/React.createElement(Box, {\n        border: {\n          side: 'top',\n          color: (_theme$menu$group = theme.menu.group) == null || (_theme$menu$group = _theme$menu$group.separator) == null ? void 0 : _theme$menu$group.color,\n          size: (_theme$menu$group2 = theme.menu.group) == null || (_theme$menu$group2 = _theme$menu$group2.separator) == null ? void 0 : _theme$menu$group2.size\n        }\n      })), /*#__PURE__*/React.createElement(Box, _extends({}, theme.menu.container, (_theme$menu$group3 = theme.menu.group) == null ? void 0 : _theme$menu$group3.container), group.map(function (item) {\n        // item index needs to be its index in the entire menu as if\n        // it were a flat array\n        var currentIndex = index;\n        index += 1;\n        return menuItem(item, currentIndex);\n      })));\n    });\n  } else menuContent = items.map(function (item, index) {\n    return menuItem(item, index);\n  });\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onDropOpen,\n    onUp: onDropOpen,\n    onSpace: onSelectMenuItem,\n    onEsc: onDropClose,\n    onTab: onDropClose,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(DropButton, _extends({\n    ref: ref\n  }, rest, buttonProps, {\n    a11yTitle: a11y || format({\n      id: 'menu.openMenu',\n      messages: messages\n    }),\n    \"aria-haspopup\": \"menu\",\n    \"aria-expanded\": isOpen,\n    onAlign: setAlignControlMirror,\n    disabled: disabled,\n    dropAlign: align,\n    dropTarget: dropTarget,\n    dropProps: dropProps || themeDropProps,\n    open: isOpen,\n    onOpen: onDropOpen,\n    onClose: onDropClose,\n    dropContent: /*#__PURE__*/React.createElement(Keyboard, {\n      onTab: function onTab(event) {\n        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);\n      },\n      onDown: onNextMenuItem,\n      onUp: onPreviousMenuItem,\n      onEnter: onSelectMenuItem\n    }, /*#__PURE__*/React.createElement(ContainerBox, _extends({\n      ref: dropContainerRef,\n      tabIndex: -1,\n      background: dropBackground || theme.menu.background\n    }, passThemeFlag), alignControlMirror === 'top' && align.bottom !== 'top' && align.top !== 'bottom' ? controlMirror : undefined, /*#__PURE__*/React.createElement(Box, _extends({\n      overflow: \"auto\",\n      role: \"menu\",\n      a11yTitle: a11y\n    }, !grouped ? theme.menu.container : {}), menuContent), !initialAlignTop &&\n    // don't show controlMirror if caller is using\n    // align.bottom === 'top'\n    alignControlMirror === 'bottom' && align.bottom !== 'top' && align.top !== 'bottom' ? controlMirror : undefined))\n  }), content));\n});\nMenu.displayName = 'Menu';\nMenu.propTypes = MenuPropTypes;\nexport { Menu };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}