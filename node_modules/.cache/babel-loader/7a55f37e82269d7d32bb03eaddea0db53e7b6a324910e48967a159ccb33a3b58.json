{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"aria-label\", \"action\", \"as\", \"background\", \"border\", \"children\", \"data\", \"defaultItemProps\", \"disabled\", \"focus\", \"itemKey\", \"itemProps\", \"messages\", \"onActive\", \"onClickItem\", \"onKeyDown\", \"onMore\", \"onOrder\", \"showIndex\", \"pad\", \"paginate\", \"pinned\", \"primaryKey\", \"secondaryKey\", \"show\", \"step\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { Fragment, cloneElement, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { DataContext } from '../../contexts/DataContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Pagination } from '../Pagination';\nimport { Text } from '../Text';\nimport { genericStyles, normalizeColor, normalizeShow, useForwardedRef, usePagination, styledComponentsConfig } from '../../utils';\nimport { useAnalytics } from '../../contexts/AnalyticsContext';\nimport { ListPropTypes } from './propTypes';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar emptyData = [];\nvar StyledList = styled.ul.withConfig(styledComponentsConfig).withConfig({\n  displayName: \"List__StyledList\",\n  componentId: \"sc-130gdqg-0\"\n})([\"list-style:none;\", \" padding:0;\", \" \", \"}\"], function (props) {\n  return !props.margin && 'margin: 0;';\n}, genericStyles, function (props) {\n  return props.theme.list && props.theme.list.extend;\n});\nvar StyledItem = styled(Box).withConfig({\n  displayName: \"List__StyledItem\",\n  componentId: \"sc-130gdqg-1\"\n})([\"\", \" \", \" \", \" &:hover{\", \"}\", \"\"], function (props) {\n  return props.onClick && !props.isDisabled && \"cursor: pointer;\";\n}, function (props) {\n  return props.draggable && !props.isDisabled && \"cursor: move;\";\n}, function (props) {\n  var _props$theme$list;\n  var disabledStyle;\n  if (props.isDisabled && (_props$theme$list = props.theme.list) != null && (_props$theme$list = _props$theme$list.item) != null && _props$theme$list.disabled) {\n    var _props$theme$list$ite = props.theme.list.item.disabled,\n      color = _props$theme$list$ite.color,\n      cursor = _props$theme$list$ite.cursor;\n    disabledStyle = {\n      color: normalizeColor(color, props.theme),\n      cursor: cursor\n    };\n  }\n  return disabledStyle;\n}, function (props) {\n  return props.isDisabled && \"background-color: unset;\";\n}, function (props) {\n  return props.theme.list && props.theme.list.item && props.theme.list.item.extend;\n});\n\n// when paginated, this wraps the data table and pagination component\nvar StyledContainer = styled(Box).withConfig({\n  displayName: \"List__StyledContainer\",\n  componentId: \"sc-130gdqg-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.list && props.theme.list.container && props.theme.list.container.extend;\n});\nvar getValue = function getValue(item, index, key) {\n  if (typeof key === 'function') return key(item, index);\n  if (typeof item === 'string') return item;\n  if (key !== undefined) return item == null ? void 0 : item[key];\n  return undefined;\n};\nvar reorder = function reorder(array, pinnedArray, source, target) {\n  var result = array.slice(0);\n  var tmp = result[source];\n  if (source < target) for (var i = source; i < target; i += 1) result[i] = result[i + 1];else for (var _i = source; _i > target; _i -= 1) result[_i] = result[_i - 1];\n  result[target] = tmp;\n\n  // insert pinned items into their proper index within the orderable\n  // data object to make the complete data set again\n  if (pinnedArray.data.length > 0) {\n    pinnedArray.data.forEach(function (pinnedItem, index) {\n      result.splice(pinnedArray.indexes[index], 0, pinnedItem);\n    });\n  }\n  return result;\n};\n\n/** Calculate tabIndex for order control buttons. */\nvar calculateTabIndex = function calculateTabIndex(buttonIndex, focused, lastFocused, disabled) {\n  if (disabled) return -1;\n  // is currently focused\n  return focused !== undefined && focused === buttonIndex ||\n  // was last focused\n  focused === undefined && lastFocused === buttonIndex ||\n  // first \"move down\" button when entering the list for first time\n  focused === undefined && lastFocused === undefined && buttonIndex === 1 ? 0 : -1;\n};\nvar List = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    ariaLabel = _ref['aria-label'],\n    action = _ref.action,\n    as = _ref.as,\n    background = _ref.background,\n    border = _ref.border,\n    children = _ref.children,\n    dataProp = _ref.data,\n    defaultItemProps = _ref.defaultItemProps,\n    disabledItems = _ref.disabled,\n    focus = _ref.focus,\n    defaultItemKey = _ref.itemKey,\n    itemProps = _ref.itemProps,\n    messages = _ref.messages,\n    onActive = _ref.onActive,\n    onClickItem = _ref.onClickItem,\n    onKeyDown = _ref.onKeyDown,\n    onMore = _ref.onMore,\n    onOrder = _ref.onOrder,\n    _ref$showIndex = _ref.showIndex,\n    showIndex = _ref$showIndex === void 0 ? true : _ref$showIndex,\n    pad = _ref.pad,\n    paginate = _ref.paginate,\n    _ref$pinned = _ref.pinned,\n    pinned = _ref$pinned === void 0 ? [] : _ref$pinned,\n    primaryKey = _ref.primaryKey,\n    secondaryKey = _ref.secondaryKey,\n    showProp = _ref.show,\n    _ref$step = _ref.step,\n    step = _ref$step === void 0 ? paginate ? 50 : undefined : _ref$step,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var listRef = useForwardedRef(ref);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme,\n    passThemeFlag = _useThemeValue.passThemeFlag;\n  var _useContext = useContext(DataContext),\n    contextData = _useContext.data;\n  var data = dataProp || contextData || emptyData;\n  var _useContext2 = useContext(MessageContext),\n    format = _useContext2.format;\n\n  // fixes issue where itemKey is undefined when only primaryKey is provided\n  var itemKey = defaultItemKey || primaryKey || null;\n\n  // active will be the index of the current 'active'\n  // control in the list. If the onOrder property is defined\n  // this will be the index of up or down control for ordering\n  // items in the list. In this case the item index of that\n  // control would be the active index / 2.\n  // If onOrder is not defined but onClickItem is (e.g. the\n  // List items are likely selectable), active will be the\n  // index of the item which is currently active.\n  var _useState = useState(),\n    active = _useState[0],\n    setActive = _useState[1];\n  /** The item or order control that is most recently interacted with by\n   * mouse over or keyboard  */\n  var updateActive = function updateActive(nextActive) {\n    setActive(nextActive);\n    // we occasionally call updateActive with undefined when it already is so,\n    // no need to call onActive in that case\n    if (onActive && onClickItem && nextActive !== active) onActive(nextActive);\n  };\n  var _useState2 = useState(),\n    focused = _useState2[0],\n    setFocused = _useState2[1];\n  var _useState3 = useState(),\n    lastFocused = _useState3[0],\n    setLastFocused = _useState3[1];\n  /** Update the item or move up/move down button that is focused\n   * in the DOM  */\n  var updateFocused = function updateFocused(nextFocused) {\n    setFocused(nextFocused);\n  };\n  var handleFocus = function handleFocus(nextFocused) {\n    updateActive(nextFocused);\n    updateFocused(nextFocused);\n  };\n\n  // roving tab index, ensure focused item (when onClickItem)\n  // or move up / move down button (when onOrder) has DOM focus\n  var focusedRef = useRef();\n  useEffect(function () {\n    if (focused !== undefined) {\n      var _focusedRef$current;\n      (_focusedRef$current = focusedRef.current) == null || _focusedRef$current.focus();\n    }\n  }, [focused, data]);\n  var _useState4 = useState(),\n    dragging = _useState4[0],\n    setDragging = _useState4[1];\n  var _useState5 = useState(),\n    orderingData = _useState5[0],\n    setOrderingData = _useState5[1];\n\n  // store a reference to the pinned and the data that is orderable\n  var _useMemo = useMemo(function () {\n      var orderable = [];\n      var pinnedData = [];\n      var pinnedIndexes = [];\n      var currentData = orderingData || data;\n      if (pinned.length === 0) return [currentData, {\n        data: pinnedData,\n        indexes: pinnedIndexes\n      }];\n      currentData.forEach(function (item, index) {\n        var _pinned$items;\n        var key = getValue(item, index, itemKey);\n        var isPinned = Array.isArray(pinned) ? pinned.includes(key) : typeof pinned === 'object' && (pinned == null || (_pinned$items = pinned.items) == null ? void 0 : _pinned$items.includes(key));\n        if (isPinned) {\n          pinnedData.push(item);\n          pinnedIndexes.push(index);\n        } else {\n          orderable.push(item);\n        }\n      });\n      return [orderable, {\n        data: pinnedData,\n        indexes: pinnedIndexes\n      }];\n    }, [data, orderingData, itemKey, pinned]),\n    orderableData = _useMemo[0],\n    pinnedInfo = _useMemo[1];\n  var _usePagination = usePagination(_extends({\n      data: data,\n      page: normalizeShow(showProp, step),\n      step: step\n    }, paginate)),\n    items = _usePagination[0],\n    paginationProps = _usePagination[1];\n  var Container = paginate ? StyledContainer : Fragment;\n  var containterProps = paginate ? _extends({}, theme.list.container, passThemeFlag) : undefined;\n  var draggingRef = useRef();\n  var sendAnalytics = useAnalytics();\n  var ariaProps = {\n    role: onClickItem ? 'listbox' : 'list'\n  };\n  var onSelectOption = function onSelectOption(event, nextFocused) {\n    if ((onClickItem || onOrder) && nextFocused >= 0) {\n      if (onOrder) {\n        var index = Math.trunc(nextFocused / 2);\n        // Call onOrder with the re-ordered data.\n        // Update the focused control index so that the\n        // focused control will stay on the same item\n        // even though it moved up or down.\n        var newIndex = nextFocused % 2 ? index + 1 : index - 1;\n        onOrder(reorder(orderableData, pinnedInfo, index, newIndex));\n\n        // distinguish keyboard \"click\" from mouse \"click\" event\n        // when keyboard, event.detail is always 0\n        // https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event#usage_notes\n        // when keyboard, move focus with the moving item\n        if (event.detail === 0) updateFocused(focused % 2 ? Math.min(focused + 2, orderableData.length * 2 - 2) : Math.max(focused - 2, 1));\n        // when mouse, keep focused on the same control\n        else {\n          updateFocused(nextFocused);\n        }\n      } else if (disabledItems != null && disabledItems.includes(getValue(data[nextFocused], nextFocused, itemKey))) {\n        event.preventDefault();\n      } else if (onClickItem) {\n        event.persist();\n        updateFocused(nextFocused);\n        var adjustedEvent = event;\n        adjustedEvent.item = data[nextFocused];\n        adjustedEvent.index = nextFocused;\n        onClickItem(adjustedEvent);\n        sendAnalytics({\n          type: 'listItemClick',\n          element: listRef.current,\n          event: adjustedEvent,\n          item: data[nextFocused],\n          index: nextFocused\n        });\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(Container, containterProps, /*#__PURE__*/React.createElement(Keyboard, {\n    onUp: function onUp(event) {\n      if (onClickItem || onOrder) {\n        event.preventDefault();\n        if (focused >= 0) {\n          var min = onOrder ? 1 : 0;\n          var focusedElementIndex = Math.max(focused - 1, min);\n          handleFocus(focusedElementIndex);\n\n          // Ensure the focused item is in view\n          // setTimeout for focusedElement to be updated\n          setTimeout(function () {\n            var _listRef$current;\n            // eslint-disable max-len\n            (_listRef$current = listRef.current) == null || (_listRef$current = _listRef$current.children[focusedElementIndex]) == null || _listRef$current.scrollIntoView({\n              behavior: 'smooth',\n              block: 'nearest'\n            });\n          }, 0);\n        }\n      }\n    },\n    onDown: function onDown(event) {\n      if (onClickItem || onOrder) {\n        event.preventDefault();\n        if (orderableData && orderableData.length) {\n          var min = onOrder ? 1 : 0;\n          var max = onOrder ? orderableData.length * 2 - 2 : data.length - 1;\n          var focusedElementIndex = focused >= min ? Math.min(focused + 1, max) : min;\n          handleFocus(focusedElementIndex);\n\n          // Ensure the focused item is in view\n          // setTimeout for focusedElement to be updated\n          setTimeout(function () {\n            var _listRef$current2;\n            //  eslint-disable max-len\n            (_listRef$current2 = listRef.current) == null || (_listRef$current2 = _listRef$current2.children[focusedElementIndex]) == null || _listRef$current2.scrollIntoView({\n              behavior: 'smooth',\n              block: 'nearest'\n            });\n          }, 0);\n        }\n      }\n    },\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledList, _extends({\n    \"aria-label\": ariaLabel || a11yTitle,\n    ref: listRef,\n    as: as || 'ul',\n    onBlur: function onBlur(event) {\n      setLastFocused(focused);\n      // only reset focused if the focus is leaving the list\n      // and not moving to a child element of the list\n      if (listRef.current && !listRef.current.contains(event.relatedTarget)) {\n        updateFocused(undefined);\n      }\n    },\n    onMouseOut: function onMouseOut() {\n      return updateActive(undefined);\n    }\n  }, ariaProps, passThemeFlag, rest), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: !paginate ? orderingData || data : items,\n    onMore: onMore,\n    show: !paginate ? showProp : undefined,\n    step: step,\n    renderMarker: function renderMarker(marker) {\n      return /*#__PURE__*/React.createElement(Box, {\n        as: \"li\",\n        flex: false\n      }, marker);\n    }\n  }, function (item, index) {\n    var _pinned$items2;\n    var content;\n    var boxProps = {};\n    var key = getValue(item, index, itemKey) || index;\n    var isPinned;\n    if (Array.isArray(pinned) && pinned.length > 0 || Array.isArray(pinned == null ? void 0 : pinned.items) && (pinned == null || (_pinned$items2 = pinned.items) == null ? void 0 : _pinned$items2.length) > 0) {\n      if (typeof item === 'object' && !itemKey) {\n        console.error(\n        // eslint-disable-next-line max-len\n        \"Warning: Missing prop itemKey. Prop pin requires itemKey to be specified when data is of type 'object'.\");\n      }\n      isPinned = Array.isArray(pinned) ? pinned == null ? void 0 : pinned.includes(key) : pinned.items.some(function (pinnedItem) {\n        return pinnedItem === key;\n      });\n    }\n    var pinnedColor = isPinned ? pinned.color : undefined;\n    if (children) {\n      content = children(item, index, onClickItem ? {\n        active: active === index\n      } : undefined);\n    } else if (primaryKey) {\n      var primary = getValue(item, index, primaryKey);\n      content = typeof primary === 'string' || typeof primary === 'number' ? /*#__PURE__*/React.createElement(Text, _extends({\n        color: pinnedColor,\n        key: \"p\"\n      }, theme.list.primaryKey), primary) : primary;\n      if (secondaryKey) {\n        var _theme$list;\n        var secondary = getValue(item, index, secondaryKey);\n        content = [content, typeof secondary === 'string' || typeof secondary === 'number' ? /*#__PURE__*/React.createElement(Text, {\n          color: pinnedColor,\n          key: \"s\"\n        }, getValue(item, index, secondaryKey)) : secondary];\n        boxProps = {\n          direction: 'row',\n          align: 'center',\n          justify: 'between',\n          gap: (_theme$list = theme.list) == null || (_theme$list = _theme$list.item) == null ? void 0 : _theme$list.gap\n        };\n      }\n    } else if (typeof item === 'object') {\n      var value = item[Object.keys(item)[0]];\n      content =\n      // for backwards compatibility, only wrap in Text if\n      // pinned.color is defined\n      pinnedColor && typeof value === 'string' ? /*#__PURE__*/React.createElement(Text, {\n        color: pinnedColor\n      }, value) : value;\n    } else {\n      // for backwards compatibility, only wrap in Text if\n      // pinned.color is defined\n      content = pinnedColor ? /*#__PURE__*/React.createElement(Text, {\n        color: pinnedColor\n      }, item) : item;\n    }\n    var orderableIndex = orderableData.findIndex(function (ordItem, ordIndex) {\n      return getValue(ordItem, ordIndex, itemKey) === key;\n    });\n    var isDisabled;\n    if (disabledItems) {\n      if (typeof item === 'object' && !itemKey) {\n        console.error(\n        // eslint-disable-next-line max-len\n        \"Warning: Missing prop itemKey. Prop disabled requires itemKey to be specified when data is of type 'object'.\");\n      }\n      isDisabled = disabledItems == null ? void 0 : disabledItems.includes(key);\n    }\n    if (action) {\n      content = [/*#__PURE__*/React.createElement(Box, {\n        align: \"start\",\n        key: \"actionContainer\" + index\n      }, content), action(item, index)];\n      boxProps = {\n        direction: 'row',\n        align: secondaryKey ? 'start' : 'center',\n        justify: 'between',\n        gap: theme.list.item.gap\n      };\n    }\n    var adjustedBackground = background || theme.list.item.background;\n    if (!onOrder && active === index || dragging === index) {\n      adjustedBackground = theme.global.hover.background;\n    } else if (Array.isArray(adjustedBackground)) {\n      adjustedBackground = adjustedBackground[index % adjustedBackground.length];\n    } else if (isPinned) {\n      adjustedBackground = (pinned == null ? void 0 : pinned.background) || theme.list.item.pinned.background;\n    }\n    var adjustedBorder = border !== undefined ? border : theme.list.item.border;\n    if (adjustedBorder === 'horizontal' && index) {\n      adjustedBorder = 'bottom';\n    }\n    var clickProps;\n    if (onClickItem && !onOrder) {\n      clickProps = {\n        role: 'option',\n        tabIndex:\n        // entering list for first time\n        focused === undefined && lastFocused === undefined && index === 0 ||\n        // returning to list after already using keyboard\n        focused === undefined && lastFocused !== undefined && lastFocused === index ||\n        // actively using keyboard\n        focused === index ? 0 : -1,\n        active: active === index,\n        focus: focused === index,\n        hoverIndicator: !isDisabled,\n        ref: function ref(node) {\n          if (focused === index) {\n            focusedRef.current = node;\n          }\n        },\n        onClick: function onClick(event) {\n          // Only prevent event when disabled. We still want screen\n          // readers to be aware that an option exists, but is in a\n          // disabled state.\n          if (isDisabled) {\n            event.preventDefault();\n          } else {\n            onSelectOption(event, index);\n          }\n        },\n        onFocus: function onFocus() {\n          handleFocus(index);\n        },\n        onMouseOver: function onMouseOver() {\n          return updateActive(index);\n        }\n      };\n    }\n    var orderProps;\n    var orderControls;\n    if (onOrder && !isPinned) {\n      orderProps = {\n        draggable: true,\n        onDragStart: function onDragStart(event) {\n          event.dataTransfer.setData('text/plain', '');\n          // allowed per\n          // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API#define_the_drag_effect\n          // eslint-disable-next-line no-param-reassign\n          event.dataTransfer.effectAllowed = 'move';\n          setDragging(orderableIndex);\n          updateFocused(undefined);\n        },\n        onDragEnd: function onDragEnd() {\n          setDragging(undefined);\n          setOrderingData(undefined);\n        },\n        onDragOver: function onDragOver(event) {\n          if (dragging !== undefined) {\n            event.preventDefault();\n            if (dragging !== orderableIndex) {\n              // eslint-disable-next-line no-param-reassign\n              event.dataTransfer.dropEffect = 'move';\n              setOrderingData(reorder(orderableData, pinnedInfo, dragging, orderableIndex));\n              setDragging(orderableIndex);\n            }\n          }\n        },\n        onDrop: function onDrop() {\n          if (orderingData) {\n            onOrder(orderingData);\n          }\n        },\n        ref: dragging === orderableIndex ? draggingRef : undefined\n      };\n      var Up = theme.list.icons.up;\n      var Down = theme.list.icons.down;\n      var moveUpIndex = orderableIndex * 2;\n      var moveUpTabIndex = calculateTabIndex(moveUpIndex, focused, lastFocused, !orderableIndex // first item can't move up\n      );\n      var moveDownIndex = orderableIndex * 2 + 1;\n      var moveDownTabIndex = calculateTabIndex(moveDownIndex, focused, lastFocused,\n      // last item can't move down\n      orderableIndex >= orderableData.length - 1);\n      orderControls = !isPinned && /*#__PURE__*/React.createElement(Box, {\n        direction: \"row\",\n        align: \"center\",\n        justify: \"end\"\n      }, /*#__PURE__*/React.createElement(Button, {\n        id: key + \"MoveUp\",\n        a11yTitle: orderableIndex + 1 + \" \" + key + \" move up\",\n        icon: /*#__PURE__*/React.createElement(Up, null),\n        hoverIndicator: true,\n        disabled: !orderableIndex,\n        active: focused === moveUpIndex,\n        onClick: function onClick(event) {\n          event.stopPropagation();\n          onSelectOption(event, moveUpIndex);\n        },\n        tabIndex: moveUpTabIndex,\n        ref: function ref(node) {\n          if (focused === moveUpIndex) {\n            focusedRef.current = node;\n          }\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        id: key + \"MoveDown\",\n        a11yTitle: orderableIndex + 1 + \" \" + key + \" move down\",\n        icon: /*#__PURE__*/React.createElement(Down, null),\n        hoverIndicator: true,\n        disabled: orderableIndex >= orderableData.length - 1,\n        active: focused === moveDownIndex,\n        onClick: function onClick(event) {\n          event.stopPropagation();\n          onSelectOption(event, moveDownIndex);\n        },\n        tabIndex: moveDownTabIndex,\n        ref: function ref(node) {\n          if (focused === moveDownIndex) {\n            focusedRef.current = node;\n          }\n        },\n        onFocus: function onFocus() {\n          // make sure first \"MoveDown\" is focusable\n          if (focused === undefined && lastFocused === undefined) {\n            handleFocus(moveDownIndex);\n          }\n        }\n      }));\n\n      // wrap the main content and use\n      // the boxProps defined for the content\n      content = /*#__PURE__*/React.createElement(Box, _extends({\n        flex: true\n      }, boxProps), content);\n\n      // Adjust the boxProps to account for the order controls\n      boxProps = {\n        direction: 'row',\n        align: defaultItemProps && defaultItemProps.align || 'center',\n        gap: theme.list.item.gap\n      };\n    }\n    var itemAriaProps;\n    if (isDisabled) {\n      itemAriaProps = {\n        'aria-disabled': true\n      };\n      if (onClickItem) {\n        itemAriaProps = _extends({}, itemAriaProps, {\n          'aria-selected': false\n        });\n      }\n    }\n    var displayPinned;\n    if (isPinned) {\n      var _pinIcon$props;\n      var pinSize = theme.list.item.pinned.icon.size;\n      var pinPad = theme.list.item.pinned.icon.pad;\n      var Icon = (pinned == null ? void 0 : pinned.icon) || theme.list.icons.pin;\n      var pinIcon = /*#__PURE__*/React.isValidElement(Icon) ? Icon : /*#__PURE__*/React.createElement(Icon, null);\n      pinIcon = /*#__PURE__*/cloneElement(pinIcon, _extends({}, !((_pinIcon$props = pinIcon.props) != null && _pinIcon$props.color) && pinnedColor ? {\n        color: pinnedColor\n      } : {}, {\n        a11yTitle: format({\n          id: 'list.pinned',\n          messages: messages\n        }),\n        size: pinSize\n      }));\n      boxProps = {\n        direction: 'row',\n        align: defaultItemProps && defaultItemProps.align || 'center',\n        gap: theme.list.item.gap\n      };\n      displayPinned = /*#__PURE__*/React.createElement(Box, {\n        direction: \"row\",\n        align: \"center\",\n        justify: \"end\",\n        pad: pinPad\n      }, pinIcon);\n      content = /*#__PURE__*/React.createElement(Box, {\n        flex: true\n      }, content);\n    }\n    if (itemProps && itemProps[index]) {\n      boxProps = _extends({}, boxProps, itemProps[index]);\n    }\n    return /*#__PURE__*/React.createElement(StyledItem, _extends({\n      key: key,\n      tag: \"li\",\n      background: adjustedBackground,\n      border: adjustedBorder,\n      isDisabled: isDisabled,\n      flex: false,\n      pad: pad || theme.list.item.pad\n    }, defaultItemProps, boxProps, clickProps, orderProps, itemAriaProps, passThemeFlag), showIndex && onOrder && /*#__PURE__*/React.createElement(Text, {\n      color: pinnedColor\n    }, index + 1), content, displayPinned, orderControls);\n  }))), paginate && data.length > step && items && items.length ? /*#__PURE__*/React.createElement(Pagination, _extends({\n    alignSelf: \"end\"\n  }, paginationProps)) : null);\n});\nList.displayName = 'List';\nList.propTypes = ListPropTypes;\nexport { List };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","Fragment","cloneElement","useContext","useEffect","useMemo","useRef","useState","styled","DataContext","Box","Button","InfiniteScroll","Keyboard","MessageContext","Pagination","Text","genericStyles","normalizeColor","normalizeShow","useForwardedRef","usePagination","styledComponentsConfig","useAnalytics","ListPropTypes","useThemeValue","emptyData","StyledList","ul","withConfig","displayName","componentId","props","margin","theme","list","extend","StyledItem","onClick","isDisabled","draggable","_props$theme$list","disabledStyle","item","disabled","_props$theme$list$ite","color","cursor","StyledContainer","container","getValue","index","key","undefined","reorder","array","pinnedArray","source","target","result","slice","tmp","i","_i","data","forEach","pinnedItem","splice","indexes","calculateTabIndex","buttonIndex","focused","lastFocused","List","forwardRef","_ref","ref","a11yTitle","ariaLabel","action","as","background","border","children","dataProp","defaultItemProps","disabledItems","focus","defaultItemKey","itemKey","itemProps","messages","onActive","onClickItem","onKeyDown","onMore","onOrder","_ref$showIndex","showIndex","pad","paginate","_ref$pinned","pinned","primaryKey","secondaryKey","showProp","show","_ref$step","step","rest","listRef","_useThemeValue","passThemeFlag","_useContext","contextData","_useContext2","format","_useState","active","setActive","updateActive","nextActive","_useState2","setFocused","_useState3","setLastFocused","updateFocused","nextFocused","handleFocus","focusedRef","_focusedRef$current","current","_useState4","dragging","setDragging","_useState5","orderingData","setOrderingData","_useMemo","orderable","pinnedData","pinnedIndexes","currentData","_pinned$items","isPinned","Array","isArray","includes","items","push","orderableData","pinnedInfo","_usePagination","page","paginationProps","Container","containterProps","draggingRef","sendAnalytics","ariaProps","role","onSelectOption","event","Math","trunc","newIndex","detail","min","max","preventDefault","persist","adjustedEvent","type","element","createElement","onUp","focusedElementIndex","setTimeout","_listRef$current","scrollIntoView","behavior","block","onDown","_listRef$current2","onBlur","contains","relatedTarget","onMouseOut","renderMarker","marker","flex","_pinned$items2","content","boxProps","console","error","some","pinnedColor","primary","_theme$list","secondary","direction","align","justify","gap","value","keys","orderableIndex","findIndex","ordItem","ordIndex","adjustedBackground","global","hover","adjustedBorder","clickProps","tabIndex","hoverIndicator","node","onFocus","onMouseOver","orderProps","orderControls","onDragStart","dataTransfer","setData","effectAllowed","onDragEnd","onDragOver","dropEffect","onDrop","Up","icons","up","Down","down","moveUpIndex","moveUpTabIndex","moveDownIndex","moveDownTabIndex","id","icon","stopPropagation","itemAriaProps","displayPinned","_pinIcon$props","pinSize","size","pinPad","Icon","pin","pinIcon","isValidElement","tag","alignSelf","propTypes"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/List/List.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"aria-label\", \"action\", \"as\", \"background\", \"border\", \"children\", \"data\", \"defaultItemProps\", \"disabled\", \"focus\", \"itemKey\", \"itemProps\", \"messages\", \"onActive\", \"onClickItem\", \"onKeyDown\", \"onMore\", \"onOrder\", \"showIndex\", \"pad\", \"paginate\", \"pinned\", \"primaryKey\", \"secondaryKey\", \"show\", \"step\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React, { Fragment, cloneElement, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { DataContext } from '../../contexts/DataContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Pagination } from '../Pagination';\nimport { Text } from '../Text';\nimport { genericStyles, normalizeColor, normalizeShow, useForwardedRef, usePagination, styledComponentsConfig } from '../../utils';\nimport { useAnalytics } from '../../contexts/AnalyticsContext';\nimport { ListPropTypes } from './propTypes';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar emptyData = [];\nvar StyledList = styled.ul.withConfig(styledComponentsConfig).withConfig({\n  displayName: \"List__StyledList\",\n  componentId: \"sc-130gdqg-0\"\n})([\"list-style:none;\", \" padding:0;\", \" \", \"}\"], function (props) {\n  return !props.margin && 'margin: 0;';\n}, genericStyles, function (props) {\n  return props.theme.list && props.theme.list.extend;\n});\nvar StyledItem = styled(Box).withConfig({\n  displayName: \"List__StyledItem\",\n  componentId: \"sc-130gdqg-1\"\n})([\"\", \" \", \" \", \" &:hover{\", \"}\", \"\"], function (props) {\n  return props.onClick && !props.isDisabled && \"cursor: pointer;\";\n}, function (props) {\n  return props.draggable && !props.isDisabled && \"cursor: move;\";\n}, function (props) {\n  var _props$theme$list;\n  var disabledStyle;\n  if (props.isDisabled && (_props$theme$list = props.theme.list) != null && (_props$theme$list = _props$theme$list.item) != null && _props$theme$list.disabled) {\n    var _props$theme$list$ite = props.theme.list.item.disabled,\n      color = _props$theme$list$ite.color,\n      cursor = _props$theme$list$ite.cursor;\n    disabledStyle = {\n      color: normalizeColor(color, props.theme),\n      cursor: cursor\n    };\n  }\n  return disabledStyle;\n}, function (props) {\n  return props.isDisabled && \"background-color: unset;\";\n}, function (props) {\n  return props.theme.list && props.theme.list.item && props.theme.list.item.extend;\n});\n\n// when paginated, this wraps the data table and pagination component\nvar StyledContainer = styled(Box).withConfig({\n  displayName: \"List__StyledContainer\",\n  componentId: \"sc-130gdqg-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.list && props.theme.list.container && props.theme.list.container.extend;\n});\nvar getValue = function getValue(item, index, key) {\n  if (typeof key === 'function') return key(item, index);\n  if (typeof item === 'string') return item;\n  if (key !== undefined) return item == null ? void 0 : item[key];\n  return undefined;\n};\nvar reorder = function reorder(array, pinnedArray, source, target) {\n  var result = array.slice(0);\n  var tmp = result[source];\n  if (source < target) for (var i = source; i < target; i += 1) result[i] = result[i + 1];else for (var _i = source; _i > target; _i -= 1) result[_i] = result[_i - 1];\n  result[target] = tmp;\n\n  // insert pinned items into their proper index within the orderable\n  // data object to make the complete data set again\n  if (pinnedArray.data.length > 0) {\n    pinnedArray.data.forEach(function (pinnedItem, index) {\n      result.splice(pinnedArray.indexes[index], 0, pinnedItem);\n    });\n  }\n  return result;\n};\n\n/** Calculate tabIndex for order control buttons. */\nvar calculateTabIndex = function calculateTabIndex(buttonIndex, focused, lastFocused, disabled) {\n  if (disabled) return -1;\n  // is currently focused\n  return focused !== undefined && focused === buttonIndex ||\n  // was last focused\n  focused === undefined && lastFocused === buttonIndex ||\n  // first \"move down\" button when entering the list for first time\n  focused === undefined && lastFocused === undefined && buttonIndex === 1 ? 0 : -1;\n};\nvar List = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    ariaLabel = _ref['aria-label'],\n    action = _ref.action,\n    as = _ref.as,\n    background = _ref.background,\n    border = _ref.border,\n    children = _ref.children,\n    dataProp = _ref.data,\n    defaultItemProps = _ref.defaultItemProps,\n    disabledItems = _ref.disabled,\n    focus = _ref.focus,\n    defaultItemKey = _ref.itemKey,\n    itemProps = _ref.itemProps,\n    messages = _ref.messages,\n    onActive = _ref.onActive,\n    onClickItem = _ref.onClickItem,\n    onKeyDown = _ref.onKeyDown,\n    onMore = _ref.onMore,\n    onOrder = _ref.onOrder,\n    _ref$showIndex = _ref.showIndex,\n    showIndex = _ref$showIndex === void 0 ? true : _ref$showIndex,\n    pad = _ref.pad,\n    paginate = _ref.paginate,\n    _ref$pinned = _ref.pinned,\n    pinned = _ref$pinned === void 0 ? [] : _ref$pinned,\n    primaryKey = _ref.primaryKey,\n    secondaryKey = _ref.secondaryKey,\n    showProp = _ref.show,\n    _ref$step = _ref.step,\n    step = _ref$step === void 0 ? paginate ? 50 : undefined : _ref$step,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var listRef = useForwardedRef(ref);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme,\n    passThemeFlag = _useThemeValue.passThemeFlag;\n  var _useContext = useContext(DataContext),\n    contextData = _useContext.data;\n  var data = dataProp || contextData || emptyData;\n  var _useContext2 = useContext(MessageContext),\n    format = _useContext2.format;\n\n  // fixes issue where itemKey is undefined when only primaryKey is provided\n  var itemKey = defaultItemKey || primaryKey || null;\n\n  // active will be the index of the current 'active'\n  // control in the list. If the onOrder property is defined\n  // this will be the index of up or down control for ordering\n  // items in the list. In this case the item index of that\n  // control would be the active index / 2.\n  // If onOrder is not defined but onClickItem is (e.g. the\n  // List items are likely selectable), active will be the\n  // index of the item which is currently active.\n  var _useState = useState(),\n    active = _useState[0],\n    setActive = _useState[1];\n  /** The item or order control that is most recently interacted with by\n   * mouse over or keyboard  */\n  var updateActive = function updateActive(nextActive) {\n    setActive(nextActive);\n    // we occasionally call updateActive with undefined when it already is so,\n    // no need to call onActive in that case\n    if (onActive && onClickItem && nextActive !== active) onActive(nextActive);\n  };\n  var _useState2 = useState(),\n    focused = _useState2[0],\n    setFocused = _useState2[1];\n  var _useState3 = useState(),\n    lastFocused = _useState3[0],\n    setLastFocused = _useState3[1];\n  /** Update the item or move up/move down button that is focused\n   * in the DOM  */\n  var updateFocused = function updateFocused(nextFocused) {\n    setFocused(nextFocused);\n  };\n  var handleFocus = function handleFocus(nextFocused) {\n    updateActive(nextFocused);\n    updateFocused(nextFocused);\n  };\n\n  // roving tab index, ensure focused item (when onClickItem)\n  // or move up / move down button (when onOrder) has DOM focus\n  var focusedRef = useRef();\n  useEffect(function () {\n    if (focused !== undefined) {\n      var _focusedRef$current;\n      (_focusedRef$current = focusedRef.current) == null || _focusedRef$current.focus();\n    }\n  }, [focused, data]);\n  var _useState4 = useState(),\n    dragging = _useState4[0],\n    setDragging = _useState4[1];\n  var _useState5 = useState(),\n    orderingData = _useState5[0],\n    setOrderingData = _useState5[1];\n\n  // store a reference to the pinned and the data that is orderable\n  var _useMemo = useMemo(function () {\n      var orderable = [];\n      var pinnedData = [];\n      var pinnedIndexes = [];\n      var currentData = orderingData || data;\n      if (pinned.length === 0) return [currentData, {\n        data: pinnedData,\n        indexes: pinnedIndexes\n      }];\n      currentData.forEach(function (item, index) {\n        var _pinned$items;\n        var key = getValue(item, index, itemKey);\n        var isPinned = Array.isArray(pinned) ? pinned.includes(key) : typeof pinned === 'object' && (pinned == null || (_pinned$items = pinned.items) == null ? void 0 : _pinned$items.includes(key));\n        if (isPinned) {\n          pinnedData.push(item);\n          pinnedIndexes.push(index);\n        } else {\n          orderable.push(item);\n        }\n      });\n      return [orderable, {\n        data: pinnedData,\n        indexes: pinnedIndexes\n      }];\n    }, [data, orderingData, itemKey, pinned]),\n    orderableData = _useMemo[0],\n    pinnedInfo = _useMemo[1];\n  var _usePagination = usePagination(_extends({\n      data: data,\n      page: normalizeShow(showProp, step),\n      step: step\n    }, paginate)),\n    items = _usePagination[0],\n    paginationProps = _usePagination[1];\n  var Container = paginate ? StyledContainer : Fragment;\n  var containterProps = paginate ? _extends({}, theme.list.container, passThemeFlag) : undefined;\n  var draggingRef = useRef();\n  var sendAnalytics = useAnalytics();\n  var ariaProps = {\n    role: onClickItem ? 'listbox' : 'list'\n  };\n  var onSelectOption = function onSelectOption(event, nextFocused) {\n    if ((onClickItem || onOrder) && nextFocused >= 0) {\n      if (onOrder) {\n        var index = Math.trunc(nextFocused / 2);\n        // Call onOrder with the re-ordered data.\n        // Update the focused control index so that the\n        // focused control will stay on the same item\n        // even though it moved up or down.\n        var newIndex = nextFocused % 2 ? index + 1 : index - 1;\n        onOrder(reorder(orderableData, pinnedInfo, index, newIndex));\n\n        // distinguish keyboard \"click\" from mouse \"click\" event\n        // when keyboard, event.detail is always 0\n        // https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event#usage_notes\n        // when keyboard, move focus with the moving item\n        if (event.detail === 0) updateFocused(focused % 2 ? Math.min(focused + 2, orderableData.length * 2 - 2) : Math.max(focused - 2, 1));\n        // when mouse, keep focused on the same control\n        else {\n          updateFocused(nextFocused);\n        }\n      } else if (disabledItems != null && disabledItems.includes(getValue(data[nextFocused], nextFocused, itemKey))) {\n        event.preventDefault();\n      } else if (onClickItem) {\n        event.persist();\n        updateFocused(nextFocused);\n        var adjustedEvent = event;\n        adjustedEvent.item = data[nextFocused];\n        adjustedEvent.index = nextFocused;\n        onClickItem(adjustedEvent);\n        sendAnalytics({\n          type: 'listItemClick',\n          element: listRef.current,\n          event: adjustedEvent,\n          item: data[nextFocused],\n          index: nextFocused\n        });\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(Container, containterProps, /*#__PURE__*/React.createElement(Keyboard, {\n    onUp: function onUp(event) {\n      if (onClickItem || onOrder) {\n        event.preventDefault();\n        if (focused >= 0) {\n          var min = onOrder ? 1 : 0;\n          var focusedElementIndex = Math.max(focused - 1, min);\n          handleFocus(focusedElementIndex);\n\n          // Ensure the focused item is in view\n          // setTimeout for focusedElement to be updated\n          setTimeout(function () {\n            var _listRef$current;\n            // eslint-disable max-len\n            (_listRef$current = listRef.current) == null || (_listRef$current = _listRef$current.children[focusedElementIndex]) == null || _listRef$current.scrollIntoView({\n              behavior: 'smooth',\n              block: 'nearest'\n            });\n          }, 0);\n        }\n      }\n    },\n    onDown: function onDown(event) {\n      if (onClickItem || onOrder) {\n        event.preventDefault();\n        if (orderableData && orderableData.length) {\n          var min = onOrder ? 1 : 0;\n          var max = onOrder ? orderableData.length * 2 - 2 : data.length - 1;\n          var focusedElementIndex = focused >= min ? Math.min(focused + 1, max) : min;\n          handleFocus(focusedElementIndex);\n\n          // Ensure the focused item is in view\n          // setTimeout for focusedElement to be updated\n          setTimeout(function () {\n            var _listRef$current2;\n            //  eslint-disable max-len\n            (_listRef$current2 = listRef.current) == null || (_listRef$current2 = _listRef$current2.children[focusedElementIndex]) == null || _listRef$current2.scrollIntoView({\n              behavior: 'smooth',\n              block: 'nearest'\n            });\n          }, 0);\n        }\n      }\n    },\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledList, _extends({\n    \"aria-label\": ariaLabel || a11yTitle,\n    ref: listRef,\n    as: as || 'ul',\n    onBlur: function onBlur(event) {\n      setLastFocused(focused);\n      // only reset focused if the focus is leaving the list\n      // and not moving to a child element of the list\n      if (listRef.current && !listRef.current.contains(event.relatedTarget)) {\n        updateFocused(undefined);\n      }\n    },\n    onMouseOut: function onMouseOut() {\n      return updateActive(undefined);\n    }\n  }, ariaProps, passThemeFlag, rest), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: !paginate ? orderingData || data : items,\n    onMore: onMore,\n    show: !paginate ? showProp : undefined,\n    step: step,\n    renderMarker: function renderMarker(marker) {\n      return /*#__PURE__*/React.createElement(Box, {\n        as: \"li\",\n        flex: false\n      }, marker);\n    }\n  }, function (item, index) {\n    var _pinned$items2;\n    var content;\n    var boxProps = {};\n    var key = getValue(item, index, itemKey) || index;\n    var isPinned;\n    if (Array.isArray(pinned) && pinned.length > 0 || Array.isArray(pinned == null ? void 0 : pinned.items) && (pinned == null || (_pinned$items2 = pinned.items) == null ? void 0 : _pinned$items2.length) > 0) {\n      if (typeof item === 'object' && !itemKey) {\n        console.error(// eslint-disable-next-line max-len\n        \"Warning: Missing prop itemKey. Prop pin requires itemKey to be specified when data is of type 'object'.\");\n      }\n      isPinned = Array.isArray(pinned) ? pinned == null ? void 0 : pinned.includes(key) : pinned.items.some(function (pinnedItem) {\n        return pinnedItem === key;\n      });\n    }\n    var pinnedColor = isPinned ? pinned.color : undefined;\n    if (children) {\n      content = children(item, index, onClickItem ? {\n        active: active === index\n      } : undefined);\n    } else if (primaryKey) {\n      var primary = getValue(item, index, primaryKey);\n      content = typeof primary === 'string' || typeof primary === 'number' ? /*#__PURE__*/React.createElement(Text, _extends({\n        color: pinnedColor,\n        key: \"p\"\n      }, theme.list.primaryKey), primary) : primary;\n      if (secondaryKey) {\n        var _theme$list;\n        var secondary = getValue(item, index, secondaryKey);\n        content = [content, typeof secondary === 'string' || typeof secondary === 'number' ? /*#__PURE__*/React.createElement(Text, {\n          color: pinnedColor,\n          key: \"s\"\n        }, getValue(item, index, secondaryKey)) : secondary];\n        boxProps = {\n          direction: 'row',\n          align: 'center',\n          justify: 'between',\n          gap: (_theme$list = theme.list) == null || (_theme$list = _theme$list.item) == null ? void 0 : _theme$list.gap\n        };\n      }\n    } else if (typeof item === 'object') {\n      var value = item[Object.keys(item)[0]];\n      content =\n      // for backwards compatibility, only wrap in Text if\n      // pinned.color is defined\n      pinnedColor && typeof value === 'string' ? /*#__PURE__*/React.createElement(Text, {\n        color: pinnedColor\n      }, value) : value;\n    } else {\n      // for backwards compatibility, only wrap in Text if\n      // pinned.color is defined\n      content = pinnedColor ? /*#__PURE__*/React.createElement(Text, {\n        color: pinnedColor\n      }, item) : item;\n    }\n    var orderableIndex = orderableData.findIndex(function (ordItem, ordIndex) {\n      return getValue(ordItem, ordIndex, itemKey) === key;\n    });\n    var isDisabled;\n    if (disabledItems) {\n      if (typeof item === 'object' && !itemKey) {\n        console.error(// eslint-disable-next-line max-len\n        \"Warning: Missing prop itemKey. Prop disabled requires itemKey to be specified when data is of type 'object'.\");\n      }\n      isDisabled = disabledItems == null ? void 0 : disabledItems.includes(key);\n    }\n    if (action) {\n      content = [/*#__PURE__*/React.createElement(Box, {\n        align: \"start\",\n        key: \"actionContainer\" + index\n      }, content), action(item, index)];\n      boxProps = {\n        direction: 'row',\n        align: secondaryKey ? 'start' : 'center',\n        justify: 'between',\n        gap: theme.list.item.gap\n      };\n    }\n    var adjustedBackground = background || theme.list.item.background;\n    if (!onOrder && active === index || dragging === index) {\n      adjustedBackground = theme.global.hover.background;\n    } else if (Array.isArray(adjustedBackground)) {\n      adjustedBackground = adjustedBackground[index % adjustedBackground.length];\n    } else if (isPinned) {\n      adjustedBackground = (pinned == null ? void 0 : pinned.background) || theme.list.item.pinned.background;\n    }\n    var adjustedBorder = border !== undefined ? border : theme.list.item.border;\n    if (adjustedBorder === 'horizontal' && index) {\n      adjustedBorder = 'bottom';\n    }\n    var clickProps;\n    if (onClickItem && !onOrder) {\n      clickProps = {\n        role: 'option',\n        tabIndex:\n        // entering list for first time\n        focused === undefined && lastFocused === undefined && index === 0 ||\n        // returning to list after already using keyboard\n        focused === undefined && lastFocused !== undefined && lastFocused === index ||\n        // actively using keyboard\n        focused === index ? 0 : -1,\n        active: active === index,\n        focus: focused === index,\n        hoverIndicator: !isDisabled,\n        ref: function ref(node) {\n          if (focused === index) {\n            focusedRef.current = node;\n          }\n        },\n        onClick: function onClick(event) {\n          // Only prevent event when disabled. We still want screen\n          // readers to be aware that an option exists, but is in a\n          // disabled state.\n          if (isDisabled) {\n            event.preventDefault();\n          } else {\n            onSelectOption(event, index);\n          }\n        },\n        onFocus: function onFocus() {\n          handleFocus(index);\n        },\n        onMouseOver: function onMouseOver() {\n          return updateActive(index);\n        }\n      };\n    }\n    var orderProps;\n    var orderControls;\n    if (onOrder && !isPinned) {\n      orderProps = {\n        draggable: true,\n        onDragStart: function onDragStart(event) {\n          event.dataTransfer.setData('text/plain', '');\n          // allowed per\n          // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API#define_the_drag_effect\n          // eslint-disable-next-line no-param-reassign\n          event.dataTransfer.effectAllowed = 'move';\n          setDragging(orderableIndex);\n          updateFocused(undefined);\n        },\n        onDragEnd: function onDragEnd() {\n          setDragging(undefined);\n          setOrderingData(undefined);\n        },\n        onDragOver: function onDragOver(event) {\n          if (dragging !== undefined) {\n            event.preventDefault();\n            if (dragging !== orderableIndex) {\n              // eslint-disable-next-line no-param-reassign\n              event.dataTransfer.dropEffect = 'move';\n              setOrderingData(reorder(orderableData, pinnedInfo, dragging, orderableIndex));\n              setDragging(orderableIndex);\n            }\n          }\n        },\n        onDrop: function onDrop() {\n          if (orderingData) {\n            onOrder(orderingData);\n          }\n        },\n        ref: dragging === orderableIndex ? draggingRef : undefined\n      };\n      var Up = theme.list.icons.up;\n      var Down = theme.list.icons.down;\n      var moveUpIndex = orderableIndex * 2;\n      var moveUpTabIndex = calculateTabIndex(moveUpIndex, focused, lastFocused, !orderableIndex // first item can't move up\n      );\n      var moveDownIndex = orderableIndex * 2 + 1;\n      var moveDownTabIndex = calculateTabIndex(moveDownIndex, focused, lastFocused,\n      // last item can't move down\n      orderableIndex >= orderableData.length - 1);\n      orderControls = !isPinned && /*#__PURE__*/React.createElement(Box, {\n        direction: \"row\",\n        align: \"center\",\n        justify: \"end\"\n      }, /*#__PURE__*/React.createElement(Button, {\n        id: key + \"MoveUp\",\n        a11yTitle: orderableIndex + 1 + \" \" + key + \" move up\",\n        icon: /*#__PURE__*/React.createElement(Up, null),\n        hoverIndicator: true,\n        disabled: !orderableIndex,\n        active: focused === moveUpIndex,\n        onClick: function onClick(event) {\n          event.stopPropagation();\n          onSelectOption(event, moveUpIndex);\n        },\n        tabIndex: moveUpTabIndex,\n        ref: function ref(node) {\n          if (focused === moveUpIndex) {\n            focusedRef.current = node;\n          }\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        id: key + \"MoveDown\",\n        a11yTitle: orderableIndex + 1 + \" \" + key + \" move down\",\n        icon: /*#__PURE__*/React.createElement(Down, null),\n        hoverIndicator: true,\n        disabled: orderableIndex >= orderableData.length - 1,\n        active: focused === moveDownIndex,\n        onClick: function onClick(event) {\n          event.stopPropagation();\n          onSelectOption(event, moveDownIndex);\n        },\n        tabIndex: moveDownTabIndex,\n        ref: function ref(node) {\n          if (focused === moveDownIndex) {\n            focusedRef.current = node;\n          }\n        },\n        onFocus: function onFocus() {\n          // make sure first \"MoveDown\" is focusable\n          if (focused === undefined && lastFocused === undefined) {\n            handleFocus(moveDownIndex);\n          }\n        }\n      }));\n\n      // wrap the main content and use\n      // the boxProps defined for the content\n      content = /*#__PURE__*/React.createElement(Box, _extends({\n        flex: true\n      }, boxProps), content);\n\n      // Adjust the boxProps to account for the order controls\n      boxProps = {\n        direction: 'row',\n        align: defaultItemProps && defaultItemProps.align || 'center',\n        gap: theme.list.item.gap\n      };\n    }\n    var itemAriaProps;\n    if (isDisabled) {\n      itemAriaProps = {\n        'aria-disabled': true\n      };\n      if (onClickItem) {\n        itemAriaProps = _extends({}, itemAriaProps, {\n          'aria-selected': false\n        });\n      }\n    }\n    var displayPinned;\n    if (isPinned) {\n      var _pinIcon$props;\n      var pinSize = theme.list.item.pinned.icon.size;\n      var pinPad = theme.list.item.pinned.icon.pad;\n      var Icon = (pinned == null ? void 0 : pinned.icon) || theme.list.icons.pin;\n      var pinIcon = /*#__PURE__*/React.isValidElement(Icon) ? Icon : /*#__PURE__*/React.createElement(Icon, null);\n      pinIcon = /*#__PURE__*/cloneElement(pinIcon, _extends({}, !((_pinIcon$props = pinIcon.props) != null && _pinIcon$props.color) && pinnedColor ? {\n        color: pinnedColor\n      } : {}, {\n        a11yTitle: format({\n          id: 'list.pinned',\n          messages: messages\n        }),\n        size: pinSize\n      }));\n      boxProps = {\n        direction: 'row',\n        align: defaultItemProps && defaultItemProps.align || 'center',\n        gap: theme.list.item.gap\n      };\n      displayPinned = /*#__PURE__*/React.createElement(Box, {\n        direction: \"row\",\n        align: \"center\",\n        justify: \"end\",\n        pad: pinPad\n      }, pinIcon);\n      content = /*#__PURE__*/React.createElement(Box, {\n        flex: true\n      }, content);\n    }\n    if (itemProps && itemProps[index]) {\n      boxProps = _extends({}, boxProps, itemProps[index]);\n    }\n    return /*#__PURE__*/React.createElement(StyledItem, _extends({\n      key: key,\n      tag: \"li\",\n      background: adjustedBackground,\n      border: adjustedBorder,\n      isDisabled: isDisabled,\n      flex: false,\n      pad: pad || theme.list.item.pad\n    }, defaultItemProps, boxProps, clickProps, orderProps, itemAriaProps, passThemeFlag), showIndex && onOrder && /*#__PURE__*/React.createElement(Text, {\n      color: pinnedColor\n    }, index + 1), content, displayPinned, orderControls);\n  }))), paginate && data.length > step && items && items.length ? /*#__PURE__*/React.createElement(Pagination, _extends({\n    alignSelf: \"end\"\n  }, paginationProps)) : null);\n});\nList.displayName = 'List';\nList.propTypes = ListPropTypes;\nexport { List };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}