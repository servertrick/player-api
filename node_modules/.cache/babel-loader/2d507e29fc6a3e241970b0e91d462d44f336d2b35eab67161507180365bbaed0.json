{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"aria-label\", \"aria-labelledby\", \"alignSelf\", \"children\", \"clear\", \"closeOnChange\", \"defaultValue\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport React, { forwardRef, isValidElement, useCallback, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport { useKeyboard } from '../../utils';\nimport { Box } from '../Box';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { SelectContainer } from './SelectContainer';\nimport { HiddenInput, StyledSelectDropButton } from './StyledSelect';\nimport { applyKey, getNormalizedValue, changeEvent, getSelectIcon, getDisplayLabelKey, getIconColor, formatValueForA11y, inertTrueValue, selectInputId } from './utils';\nimport { DefaultSelectTextInput } from './DefaultSelectTextInput';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { SelectPropTypes } from './propTypes';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar Select = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    ariaLabel = _ref['aria-label'],\n    ariaLabelledByProp = _ref['aria-labelledby'],\n    alignSelf = _ref.alignSelf,\n    children = _ref.children,\n    _ref$clear = _ref.clear,\n    clear = _ref$clear === void 0 ? false : _ref$clear,\n    _ref$closeOnChange = _ref.closeOnChange,\n    closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n    defaultValue = _ref.defaultValue,\n    disabled = _ref.disabled,\n    disabledKey = _ref.disabledKey,\n    _ref$dropAlign = _ref.dropAlign,\n    dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n    dropHeight = _ref.dropHeight,\n    dropProps = _ref.dropProps,\n    dropTarget = _ref.dropTarget,\n    emptySearchMessage = _ref.emptySearchMessage,\n    focusIndicator = _ref.focusIndicator,\n    gridArea = _ref.gridArea,\n    id = _ref.id,\n    icon = _ref.icon,\n    labelKeyProp = _ref.labelKey,\n    margin = _ref.margin,\n    messages = _ref.messages,\n    multiple = _ref.multiple,\n    name = _ref.name,\n    onBlur = _ref.onBlur,\n    onChange = _ref.onChange,\n    onClick = _ref.onClick,\n    onClose = _ref.onClose,\n    onFocus = _ref.onFocus,\n    onKeyDown = _ref.onKeyDown,\n    onMore = _ref.onMore,\n    onOpen = _ref.onOpen,\n    onSearch = _ref.onSearch,\n    propOpen = _ref.open,\n    optionsProp = _ref.options,\n    placeholder = _ref.placeholder,\n    plain = _ref.plain,\n    replace = _ref.replace,\n    searchPlaceholder = _ref.searchPlaceholder,\n    selected = _ref.selected,\n    size = _ref.size,\n    valueProp = _ref.value,\n    valueKeyProp = _ref.valueKey,\n    valueLabel = _ref.valueLabel,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext);\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  // For greater resilience, use labelKey if valueKey isn't provided and\n  // vice versa. https://github.com/grommet/grommet/pull/6299\n  var valueKey = valueKeyProp || labelKeyProp;\n  var labelKey = labelKeyProp || valueKeyProp;\n  var formFieldData = formContext == null ? void 0 : formContext.useFormField({});\n\n  // Determine if the Select is opened with the keyboard. If so,\n  // focus should be set on the first option when the drop opens\n  // see set initial focus code in SelectContainer.js\n  var usingKeyboard = useKeyboard();\n\n  // value is used for what we receive in valueProp and the basis for\n  // what we send with onChange\n  // When 'valueKey' sets 'reduce', the value(s) here should match\n  // what the 'valueKey' would return for the corresponding\n  // selected option object.\n  // Otherwise, the value(s) should match the selected options.\n\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valueProp,\n      initialValue: defaultValue || ''\n    }),\n    value = _formContext$useFormI[0],\n    setValue = _formContext$useFormI[1];\n\n  // normalizedValue is the value mapped with any valueKey applied\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n  var normalizedValue = useMemo(function () {\n    return getNormalizedValue(value, valueKey);\n  }, [value, valueKey]);\n  // search input value\n  var _useState = useState(),\n    search = _useState[0],\n    setSearch = _useState[1];\n  // All select option indices and values\n  var _useState2 = useState(optionsProp),\n    allOptions = _useState2[0],\n    setAllOptions = _useState2[1];\n  // Track changes to options property, except when options are being\n  // updated due to search activity. Allows option's initial index value\n  // to be referenced when filtered by search.\n  useEffect(function () {\n    if (!search) setAllOptions(optionsProp);\n  }, [optionsProp, search]);\n\n  // the option indexes present in the value\n  var optionIndexesInValue = useMemo(function () {\n    var result = [];\n    if (selected !== undefined) {\n      if (Array.isArray(selected)) {\n        var validSelections = selected.filter(function (i) {\n          return i in allOptions;\n        });\n        result.push.apply(result, validSelections);\n      } else if (selected in allOptions) {\n        result.push(selected);\n      }\n    } else if (Array.isArray(normalizedValue)) {\n      normalizedValue.forEach(function (v) {\n        var index = allOptions.map(function (option) {\n          return applyKey(option, valueKey);\n        }).indexOf(v);\n        if (index !== -1) result.push(index);\n      });\n    } else {\n      var index = allOptions.map(function (option) {\n        return applyKey(option, valueKey);\n      }).indexOf(normalizedValue);\n      if (index !== -1) {\n        result.push(index);\n      }\n    }\n    return result;\n  }, [allOptions, selected, valueKey, normalizedValue]);\n  var _useState3 = useState(propOpen),\n    open = _useState3[0],\n    setOpen = _useState3[1];\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n  var onRequestOpen = useCallback(function () {\n    if (open) return;\n    setOpen(true);\n    if (onOpen) onOpen();\n  }, [onOpen, open]);\n  var onRequestClose = useCallback(function () {\n    setOpen(false);\n    if (onClose) onClose();\n    setSearch();\n  }, [onClose]);\n  var triggerChangeEvent = useCallback(function (nextValue) {\n    return changeEvent(inputRef, nextValue);\n  }, []);\n  var onSelectChange = useCallback(function (event, _ref2) {\n    var option = _ref2.option,\n      nextValue = _ref2.value,\n      nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose();\n    // nextValue must not be of type object to set value directly on the\n    // input. if it is an object, then the user has not provided necessary\n    // props to reduce object option\n    if ((typeof nextValue !== 'object' || multiple) && nextValue !== event.target.value && inputRef.current) {\n      // select registers changing option as a click event or keydown.\n      // when in a form, we need to programatically trigger a change\n      // event in order for the change event to be registered upstream\n      // necessary for change validation in form\n      triggerChangeEvent(nextValue);\n    }\n    setValue(nextValue);\n    if (onChange) {\n      event.persist();\n      var adjustedEvent;\n      // support for native event used by Preact\n      if (event instanceof Event) {\n        adjustedEvent = new event.constructor(event.type, event);\n        Object.defineProperties(adjustedEvent, {\n          target: {\n            value: inputRef.current\n          },\n          value: {\n            value: nextValue\n          },\n          option: {\n            value: option\n          },\n          selected: {\n            value: nextSelected\n          }\n        });\n      } else {\n        adjustedEvent = event;\n        adjustedEvent.target = inputRef.current;\n        adjustedEvent.value = nextValue;\n        adjustedEvent.option = option;\n        adjustedEvent.selected = nextSelected;\n      }\n      onChange(adjustedEvent);\n    }\n  }, [closeOnChange, multiple, onChange, onRequestClose, setValue, triggerChangeEvent]);\n  var SelectIcon = getSelectIcon(icon, theme, open);\n\n  // element to show, trumps inputValue\n  var selectValue = useMemo(function () {\n    if (valueLabel instanceof Function) {\n      if (value || value === 0 || value === false) return valueLabel(value);\n    } else if (valueLabel) return valueLabel;else if (/*#__PURE__*/React.isValidElement(value)) return value; // deprecated\n    return undefined;\n  }, [value, valueLabel]);\n  var displayLabelKey = useMemo(function () {\n    return getDisplayLabelKey(labelKey, allOptions, optionIndexesInValue, selectValue);\n  }, [labelKey, allOptions, optionIndexesInValue, selectValue]);\n\n  // text to show\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (optionIndexesInValue.length === 0) return '';\n      if (optionIndexesInValue.length === 1) return applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n      return format({\n        id: 'select.multiple',\n        messages: messages\n      });\n    }\n    return undefined;\n  }, [labelKey, messages, format, optionIndexesInValue, allOptions, selectValue]);\n  var iconColor = getIconColor(theme);\n  var _useState4 = useState(),\n    ariaLabelledBy = _useState4[0],\n    setAriaLabelledBy = _useState4[1];\n  useEffect(function () {\n    if (formFieldData != null && formFieldData.inForm && id && !ariaLabel && !placeholder && typeof document !== 'undefined') {\n      var labelElement = document.getElementById(\"grommet-\" + id + \"__input__label\");\n      if (labelElement) {\n        setAriaLabelledBy(\"grommet-\" + id + \"__input__label \" + id);\n      }\n    }\n  }, [formFieldData == null ? void 0 : formFieldData.inForm, id, ariaLabel, placeholder]);\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, /*#__PURE__*/React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    a11yTitle: \"\" + (ariaLabel || a11yTitle || placeholder || 'Open Drop') + (value ? format({\n      id: 'select.selected',\n      messages: messages,\n      values: {\n        currentSelectedValue: formatValueForA11y(value, labelKey)\n      }\n    }) : ''),\n    \"aria-expanded\": Boolean(open),\n    \"aria-labelledby\": ariaLabelledByProp || ariaLabelledBy,\n    \"aria-haspopup\": \"listbox\",\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: plain ? focusIndicator : true,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    onClick: onClick,\n    dropContent: /*#__PURE__*/React.createElement(SelectContainer, {\n      clear: clear,\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: optionsProp,\n      allOptions: allOptions,\n      optionIndexesInValue: optionIndexesInValue,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      search: search,\n      setSearch: setSearch,\n      selected: selected,\n      usingKeyboard: usingKeyboard,\n      value: value,\n      valueKey: valueKey\n    }, children)\n    // StyledDropButton needs to know if the border should be shown\n    ,\n\n    plainSelect: plain,\n    plain: true // Button should be plain\n    ,\n\n    dropProps: dropProps,\n    theme: theme\n  }, /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || displayLabelKey ? /*#__PURE__*/React.createElement(React.Fragment, null, selectValue || displayLabelKey, /*#__PURE__*/React.createElement(HiddenInput, {\n    type: \"text\",\n    name: name,\n    id: id ? selectInputId(id) : undefined,\n    inert: inertTrueValue,\n    value: inputValue,\n    ref: inputRef,\n    readOnly: true\n  })) : /*#__PURE__*/React.createElement(DefaultSelectTextInput, _extends({\n    a11yTitle: (ariaLabel || a11yTitle) && \"\" + (ariaLabel || a11yTitle) + (value && typeof value === 'string' ? \", \" + value : ''),\n    disabled: disabled,\n    id: id,\n    inert: inertTrueValue,\n    name: name,\n    ref: inputRef,\n    placeholder: placeholder,\n    value: inputValue,\n    size: size,\n    theme: theme\n  }, rest))), SelectIcon && /*#__PURE__*/React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, /*#__PURE__*/isValidElement(SelectIcon) ? SelectIcon : /*#__PURE__*/React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.displayName = 'Select';\nSelect.propTypes = SelectPropTypes;\nexport { Select };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","indexOf","React","forwardRef","isValidElement","useCallback","useContext","useMemo","useState","useRef","useEffect","useKeyboard","Box","Keyboard","FormContext","SelectContainer","HiddenInput","StyledSelectDropButton","applyKey","getNormalizedValue","changeEvent","getSelectIcon","getDisplayLabelKey","getIconColor","formatValueForA11y","inertTrueValue","selectInputId","DefaultSelectTextInput","MessageContext","SelectPropTypes","useThemeValue","defaultDropAlign","top","left","Select","_ref","ref","a11yTitle","ariaLabel","ariaLabelledByProp","alignSelf","children","_ref$clear","clear","_ref$closeOnChange","closeOnChange","defaultValue","disabled","disabledKey","_ref$dropAlign","dropAlign","dropHeight","dropProps","dropTarget","emptySearchMessage","focusIndicator","gridArea","id","icon","labelKeyProp","labelKey","margin","messages","multiple","name","onBlur","onChange","onClick","onClose","onFocus","onKeyDown","onMore","onOpen","onSearch","propOpen","open","optionsProp","options","placeholder","plain","replace","searchPlaceholder","selected","size","valueProp","value","valueKeyProp","valueKey","valueLabel","rest","_useThemeValue","theme","inputRef","formContext","_useContext","format","formFieldData","useFormField","usingKeyboard","_formContext$useFormI","useFormInput","initialValue","setValue","normalizedValue","_useState","search","setSearch","_useState2","allOptions","setAllOptions","optionIndexesInValue","result","undefined","Array","isArray","validSelections","filter","i","push","forEach","v","index","map","option","_useState3","setOpen","onRequestOpen","onRequestClose","triggerChangeEvent","nextValue","onSelectChange","event","_ref2","nextSelected","target","current","persist","adjustedEvent","Event","constructor","type","defineProperties","SelectIcon","selectValue","Function","displayLabelKey","inputValue","iconColor","_useState4","ariaLabelledBy","setAriaLabelledBy","inForm","document","labelElement","getElementById","createElement","onDown","onUp","values","currentSelectedValue","Boolean","dropContent","plainSelect","align","direction","justify","background","select","flex","basis","Fragment","inert","readOnly","icons","style","minWidth","color","displayName","propTypes"],"sources":["C:/Users/michaejo/Documents/GitRepos/player-api/node_modules/grommet/es6/components/Select/Select.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"aria-label\", \"aria-labelledby\", \"alignSelf\", \"children\", \"clear\", \"closeOnChange\", \"defaultValue\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React, { forwardRef, isValidElement, useCallback, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport { useKeyboard } from '../../utils';\nimport { Box } from '../Box';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { SelectContainer } from './SelectContainer';\nimport { HiddenInput, StyledSelectDropButton } from './StyledSelect';\nimport { applyKey, getNormalizedValue, changeEvent, getSelectIcon, getDisplayLabelKey, getIconColor, formatValueForA11y, inertTrueValue, selectInputId } from './utils';\nimport { DefaultSelectTextInput } from './DefaultSelectTextInput';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { SelectPropTypes } from './propTypes';\nimport { useThemeValue } from '../../utils/useThemeValue';\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar Select = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    ariaLabel = _ref['aria-label'],\n    ariaLabelledByProp = _ref['aria-labelledby'],\n    alignSelf = _ref.alignSelf,\n    children = _ref.children,\n    _ref$clear = _ref.clear,\n    clear = _ref$clear === void 0 ? false : _ref$clear,\n    _ref$closeOnChange = _ref.closeOnChange,\n    closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n    defaultValue = _ref.defaultValue,\n    disabled = _ref.disabled,\n    disabledKey = _ref.disabledKey,\n    _ref$dropAlign = _ref.dropAlign,\n    dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n    dropHeight = _ref.dropHeight,\n    dropProps = _ref.dropProps,\n    dropTarget = _ref.dropTarget,\n    emptySearchMessage = _ref.emptySearchMessage,\n    focusIndicator = _ref.focusIndicator,\n    gridArea = _ref.gridArea,\n    id = _ref.id,\n    icon = _ref.icon,\n    labelKeyProp = _ref.labelKey,\n    margin = _ref.margin,\n    messages = _ref.messages,\n    multiple = _ref.multiple,\n    name = _ref.name,\n    onBlur = _ref.onBlur,\n    onChange = _ref.onChange,\n    onClick = _ref.onClick,\n    onClose = _ref.onClose,\n    onFocus = _ref.onFocus,\n    onKeyDown = _ref.onKeyDown,\n    onMore = _ref.onMore,\n    onOpen = _ref.onOpen,\n    onSearch = _ref.onSearch,\n    propOpen = _ref.open,\n    optionsProp = _ref.options,\n    placeholder = _ref.placeholder,\n    plain = _ref.plain,\n    replace = _ref.replace,\n    searchPlaceholder = _ref.searchPlaceholder,\n    selected = _ref.selected,\n    size = _ref.size,\n    valueProp = _ref.value,\n    valueKeyProp = _ref.valueKey,\n    valueLabel = _ref.valueLabel,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useThemeValue = useThemeValue(),\n    theme = _useThemeValue.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext);\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  // For greater resilience, use labelKey if valueKey isn't provided and\n  // vice versa. https://github.com/grommet/grommet/pull/6299\n  var valueKey = valueKeyProp || labelKeyProp;\n  var labelKey = labelKeyProp || valueKeyProp;\n  var formFieldData = formContext == null ? void 0 : formContext.useFormField({});\n\n  // Determine if the Select is opened with the keyboard. If so,\n  // focus should be set on the first option when the drop opens\n  // see set initial focus code in SelectContainer.js\n  var usingKeyboard = useKeyboard();\n\n  // value is used for what we receive in valueProp and the basis for\n  // what we send with onChange\n  // When 'valueKey' sets 'reduce', the value(s) here should match\n  // what the 'valueKey' would return for the corresponding\n  // selected option object.\n  // Otherwise, the value(s) should match the selected options.\n\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valueProp,\n      initialValue: defaultValue || ''\n    }),\n    value = _formContext$useFormI[0],\n    setValue = _formContext$useFormI[1];\n\n  // normalizedValue is the value mapped with any valueKey applied\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n  var normalizedValue = useMemo(function () {\n    return getNormalizedValue(value, valueKey);\n  }, [value, valueKey]);\n  // search input value\n  var _useState = useState(),\n    search = _useState[0],\n    setSearch = _useState[1];\n  // All select option indices and values\n  var _useState2 = useState(optionsProp),\n    allOptions = _useState2[0],\n    setAllOptions = _useState2[1];\n  // Track changes to options property, except when options are being\n  // updated due to search activity. Allows option's initial index value\n  // to be referenced when filtered by search.\n  useEffect(function () {\n    if (!search) setAllOptions(optionsProp);\n  }, [optionsProp, search]);\n\n  // the option indexes present in the value\n  var optionIndexesInValue = useMemo(function () {\n    var result = [];\n    if (selected !== undefined) {\n      if (Array.isArray(selected)) {\n        var validSelections = selected.filter(function (i) {\n          return i in allOptions;\n        });\n        result.push.apply(result, validSelections);\n      } else if (selected in allOptions) {\n        result.push(selected);\n      }\n    } else if (Array.isArray(normalizedValue)) {\n      normalizedValue.forEach(function (v) {\n        var index = allOptions.map(function (option) {\n          return applyKey(option, valueKey);\n        }).indexOf(v);\n        if (index !== -1) result.push(index);\n      });\n    } else {\n      var index = allOptions.map(function (option) {\n        return applyKey(option, valueKey);\n      }).indexOf(normalizedValue);\n      if (index !== -1) {\n        result.push(index);\n      }\n    }\n    return result;\n  }, [allOptions, selected, valueKey, normalizedValue]);\n  var _useState3 = useState(propOpen),\n    open = _useState3[0],\n    setOpen = _useState3[1];\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n  var onRequestOpen = useCallback(function () {\n    if (open) return;\n    setOpen(true);\n    if (onOpen) onOpen();\n  }, [onOpen, open]);\n  var onRequestClose = useCallback(function () {\n    setOpen(false);\n    if (onClose) onClose();\n    setSearch();\n  }, [onClose]);\n  var triggerChangeEvent = useCallback(function (nextValue) {\n    return changeEvent(inputRef, nextValue);\n  }, []);\n  var onSelectChange = useCallback(function (event, _ref2) {\n    var option = _ref2.option,\n      nextValue = _ref2.value,\n      nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose();\n    // nextValue must not be of type object to set value directly on the\n    // input. if it is an object, then the user has not provided necessary\n    // props to reduce object option\n    if ((typeof nextValue !== 'object' || multiple) && nextValue !== event.target.value && inputRef.current) {\n      // select registers changing option as a click event or keydown.\n      // when in a form, we need to programatically trigger a change\n      // event in order for the change event to be registered upstream\n      // necessary for change validation in form\n      triggerChangeEvent(nextValue);\n    }\n    setValue(nextValue);\n    if (onChange) {\n      event.persist();\n      var adjustedEvent;\n      // support for native event used by Preact\n      if (event instanceof Event) {\n        adjustedEvent = new event.constructor(event.type, event);\n        Object.defineProperties(adjustedEvent, {\n          target: {\n            value: inputRef.current\n          },\n          value: {\n            value: nextValue\n          },\n          option: {\n            value: option\n          },\n          selected: {\n            value: nextSelected\n          }\n        });\n      } else {\n        adjustedEvent = event;\n        adjustedEvent.target = inputRef.current;\n        adjustedEvent.value = nextValue;\n        adjustedEvent.option = option;\n        adjustedEvent.selected = nextSelected;\n      }\n      onChange(adjustedEvent);\n    }\n  }, [closeOnChange, multiple, onChange, onRequestClose, setValue, triggerChangeEvent]);\n  var SelectIcon = getSelectIcon(icon, theme, open);\n\n  // element to show, trumps inputValue\n  var selectValue = useMemo(function () {\n    if (valueLabel instanceof Function) {\n      if (value || value === 0 || value === false) return valueLabel(value);\n    } else if (valueLabel) return valueLabel;else if (/*#__PURE__*/React.isValidElement(value)) return value; // deprecated\n    return undefined;\n  }, [value, valueLabel]);\n  var displayLabelKey = useMemo(function () {\n    return getDisplayLabelKey(labelKey, allOptions, optionIndexesInValue, selectValue);\n  }, [labelKey, allOptions, optionIndexesInValue, selectValue]);\n\n  // text to show\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (optionIndexesInValue.length === 0) return '';\n      if (optionIndexesInValue.length === 1) return applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n      return format({\n        id: 'select.multiple',\n        messages: messages\n      });\n    }\n    return undefined;\n  }, [labelKey, messages, format, optionIndexesInValue, allOptions, selectValue]);\n  var iconColor = getIconColor(theme);\n  var _useState4 = useState(),\n    ariaLabelledBy = _useState4[0],\n    setAriaLabelledBy = _useState4[1];\n  useEffect(function () {\n    if (formFieldData != null && formFieldData.inForm && id && !ariaLabel && !placeholder && typeof document !== 'undefined') {\n      var labelElement = document.getElementById(\"grommet-\" + id + \"__input__label\");\n      if (labelElement) {\n        setAriaLabelledBy(\"grommet-\" + id + \"__input__label \" + id);\n      }\n    }\n  }, [formFieldData == null ? void 0 : formFieldData.inForm, id, ariaLabel, placeholder]);\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, /*#__PURE__*/React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    a11yTitle: \"\" + (ariaLabel || a11yTitle || placeholder || 'Open Drop') + (value ? format({\n      id: 'select.selected',\n      messages: messages,\n      values: {\n        currentSelectedValue: formatValueForA11y(value, labelKey)\n      }\n    }) : ''),\n    \"aria-expanded\": Boolean(open),\n    \"aria-labelledby\": ariaLabelledByProp || ariaLabelledBy,\n    \"aria-haspopup\": \"listbox\",\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: plain ? focusIndicator : true,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    onClick: onClick,\n    dropContent: /*#__PURE__*/React.createElement(SelectContainer, {\n      clear: clear,\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: optionsProp,\n      allOptions: allOptions,\n      optionIndexesInValue: optionIndexesInValue,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      search: search,\n      setSearch: setSearch,\n      selected: selected,\n      usingKeyboard: usingKeyboard,\n      value: value,\n      valueKey: valueKey\n    }, children)\n    // StyledDropButton needs to know if the border should be shown\n    ,\n    plainSelect: plain,\n    plain: true // Button should be plain\n    ,\n    dropProps: dropProps,\n    theme: theme\n  }, /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || displayLabelKey ? /*#__PURE__*/React.createElement(React.Fragment, null, selectValue || displayLabelKey, /*#__PURE__*/React.createElement(HiddenInput, {\n    type: \"text\",\n    name: name,\n    id: id ? selectInputId(id) : undefined,\n    inert: inertTrueValue,\n    value: inputValue,\n    ref: inputRef,\n    readOnly: true\n  })) : /*#__PURE__*/React.createElement(DefaultSelectTextInput, _extends({\n    a11yTitle: (ariaLabel || a11yTitle) && \"\" + (ariaLabel || a11yTitle) + (value && typeof value === 'string' ? \", \" + value : ''),\n    disabled: disabled,\n    id: id,\n    inert: inertTrueValue,\n    name: name,\n    ref: inputRef,\n    placeholder: placeholder,\n    value: inputValue,\n    size: size,\n    theme: theme\n  }, rest))), SelectIcon && /*#__PURE__*/React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, /*#__PURE__*/isValidElement(SelectIcon) ? SelectIcon : /*#__PURE__*/React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.displayName = 'Select';\nSelect.propTypes = SelectPropTypes;\nexport { Select };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}